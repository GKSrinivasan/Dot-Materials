function GetApprovalReporteesParam(){var n=$('input[name="__RequestVerificationToken"]').val();return{__RequestVerificationToken:n,type:approvalType}}function onSelect_approvalEmployeeSearch(n){var i=n.item[0].innerText,t=i.split("-")[0].trim();(t!=0||t!="")&&(IsTeam?($("#approved tr").css("background-color",""),$("#approved tr[emp-num='"+t+"']")[0].style.backgroundColor="#FFEFBC"):($("#yet-to tr").css("background-color",""),$("#yet-to tr[emp-num='"+t+"']")[0].style.backgroundColor="#FFEFBC"))}function formatValue(n,t,i){var f,e,o,r,u;return n==null?"":isNaN(n)?"":(f=kendo.cultures[i],f=f!=undefined?f.numberFormat.currency.symbol:kendo.cultures["en-US"].numberFormat.currency.symbol,e=dashBoardConstants.currencyCodeFormat,o=dashBoardConstants.currencyCode,n.length==1||t==undefined?n.toString():i==undefined?(r=kendo.toString(n,t),r=r.indexOf("-")>-1?"("+r.replace("-","")+")":r,o=="True"&&(r=r.replace(f,e+" ")),r):(u=kendo.toString(n,t,i),u=u.indexOf("-")>-1?"("+u.replace("-","")+")":u,o=="True"&&(u=u.replace(f,e+" ")),u))}function gridFormat(n){var u="c0",f=selectedCultureCode,t,i,r;return n==null?"":isNaN(n)?"":(t=kendo.cultures[f],t=t!=undefined?t.numberFormat.currency.symbol:kendo.cultures["en-US"].numberFormat.currency.symbol,n.length==1||u==undefined?n.toString():f==undefined?(i=kendo.toString(n,u),i.indexOf("-")>-1?"("+i.replace("-","")+")":i):(r=kendo.toString(n,u,f),r.indexOf("-")>-1?"("+r.replace("-","")+")":r))}function messagebody(n,t){var e=document.getElementById("MessageSubject"),o=n,s=document.createTextNode(o),f;e.innerText=s.textContent;var i=document.getElementById("MessageBody"),u=t,r=document.createTextNode(u);i.innerHTML=r.textContent;i.innerHTML.length>showChar?(f=i.innerHTML.substr(0,showChar),i.innerHTML=f,$("#more").show(),$("#less").show()):($("#more").hide(),$("#less").hide(),i.innerHTML=r.textContent);var i=document.getElementById("MessageBody1"),u=t,r=document.createTextNode(u);i.innerHTML=r.textContent;$("#lessdiv").hide();$("#morediv").show()}function onDailyTaskToggle(){$("#dailyTaskViewDiv").animate({scrollTop:1},"slow");$("#TaskContent").html("");$("#charCount").val("");$("#TaskAction").val("Add");TaskCount==0&&$("#noNoteImg").hide();onSetHeight()}function onCancelTask(){$("#TaskContent")[0].value="";$("#idTaskToggle").click();TaskCount==0&&$("#noNoteImg").show()}function onSuccessAddTask(n){$("#idDailyTaskDiv").html(n);onSetHeight()}function onEditDailyTask(n){($("#idTaskToggle").attr("aria-expanded")==!1||$("#idTaskToggle").attr("aria-expanded")==""||$("#idTaskToggle").attr("aria-expanded")==undefined||$("#idTaskToggle").attr("aria-expanded")=="false")&&$("#idTaskToggle").click();var t=jQuery("#DailyTaskDiv"+n)[0].scrollHeight+$("#ActionItems").height(),i=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Dashboard/_GetEditDailyTask",type:"POST",data:{__RequestVerificationToken:i,TaskID:n},success:function(i){$("#TaskContent").html(i);$("#TaskContent")[0].value=i;$("#TaskAction").val("Edit");$("#TaskID").val(n);setMaximumLimit();onSetHeight();jQuery("html,body").animate({scrollTop:t},0)},error:function(){}})}function onDeleteCompletedDailyTask(n){var t=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Dashboard/_DeleteDailyTask",type:"POST",data:{__RequestVerificationToken:t,TaskID:n},success:function(t){$("#DailyTaskDiv"+n).remove();onSetHeight();t=="0"&&($("#showCompletedTaskIcon").hide(),$("#hideCompletedTaskIcon").hide())},error:function(){}})}function onDeleteDailyTask(n){var t=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Dashboard/_DeleteDailyTask",type:"POST",data:{__RequestVerificationToken:t,TaskID:n},success:function(t){$("#DailyTaskDiv"+n).remove();onSetHeight();onShowLessTask();t=="0"&&($("#showCompletedTaskIcon").hide(),$("#hideCompletedTaskIcon").hide())},error:function(){}})}function onSetHeight(){$(window).unbind("scroll");setTimeout(function(){$("#idAnnouncementPanel").height("");$("#idDailyTaskPanel").height("");AnnoucementHeight=$("#idAnnouncementPanel").height();DailyTaskHeight=$("#idDailyTaskPanel").height();AnnoucementHeight>=DailyTaskHeight?($("#idAnnouncementPanel").height(AnnoucementHeight),$("#idDailyTaskPanel").height(AnnoucementHeight)):AnnoucementHeight<=DailyTaskHeight&&($("#idAnnouncementPanel").height(DailyTaskHeight),$("#idDailyTaskPanel").height(DailyTaskHeight))},300)}function onSetCompletedTask(n){var t=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Dashboard/_SetDailyTaskComplete",type:"POST",data:{__RequestVerificationToken:t,TaskID:n},success:function(){$("#DailyTaskDiv"+n).remove();$("#idCompleteTask")[0].outerText!=""?refreshCompletedTask():($("#showCompletedTaskIcon").show(),onSetHeight());onShowLessTask()},error:function(){}})}function refreshCompletedTask(){var n=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Dashboard/_CompletedDailyTask",type:"POST",data:{__RequestVerificationToken:n},success:function(n){$.trim(n)!=""&&($("#idCompleteTask").html(n),$("#hideCompletedTaskIcon").show(),$("#showCompletedTaskIcon").hide(),onSetHeight())},error:function(){}})}function onShowCompletedTask(){var n=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Dashboard/_CompletedDailyTask",type:"POST",data:{__RequestVerificationToken:n},success:function(n){$.trim(n)!=""&&($("#idCompleteTask").html(n),$("#hideCompletedTaskIcon").show(),$("#showCompletedTaskIcon").hide(),onSetHeight())},error:function(){}})}function onHideCompletedTask(){$("#hideCompletedTaskIcon").hide();$("#showCompletedTaskIcon").show();$("#idCompleteTask").html("");onSetHeight()}function onShowAllTask(){$.ajax({url:"../Dashboard/_ShowAllTask",type:"GET",cache:!1,success:function(n){$("#idDailyTaskDiv").html(n);$("#idTAskShowLess").show();$("#idTAskShowMore").hide();onSetHeight()},error:function(){}})}function onShowAllAnnouncement(){$.ajax({url:"../Dashboard/_ShowAllAnnouncements",type:"get",success:function(n){$("#idAnnouncementDiv").html(n);$("#idAnnouncementShowLess").show();$("#idAnnouncementShowMore").hide();onSetHeight()},error:function(){}})}function onShowLessTask(){$.ajax({url:"../Dashboard/_DailyTask",type:"GET",cache:!1,success:function(n){$("#idDailyTaskDiv").html(n);onSetHeight()},error:function(){}})}function onShowLessAnnouncement(){$.ajax({url:"../Dashboard/_Announcements",type:"GET",cache:!1,success:function(n){$("#idAnnouncementDiv").html(n);onSetHeight()},error:function(){}})}function setMaximumLimit(){var n=$("#TaskContent").val();$("#charCount").val(n.length)}function cancelSendEmailReminder(){if(!showSaveWarning(event,"emailChangeFlag"))return!1;var n=$("#grdSendReminderNotification").data("kendoGrid");n.dataSource.filter({});n.dataSource.sort({});n.refresh();$("#chkBoxSelectAll").removeAttr("checked");emailChangeFlag=!1;$("#divSendEmail").modal("hide")}function sendYetSubmitSendEmailReminder(n){var r=$('input[name="__RequestVerificationToken"]').val(),t=$("#mailSubj").val(),i=$("#mailContent").val();t!=""&&i!=""?$.ajax({url:"../DashBoard/SendYetToSubmitRemainder",data:{__RequestVerificationToken:r,mailSubject:t,mailContent:i,managerNum:n},type:"POST",success:function(){$("#sendRemainderDiv").modal("hide")}}):showAlert("Please enter subject and content")}function additionalParamInfo(){return{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()}}function sendReminderBound(){var t=$("#grdSendReminderNotification").data("kendoGrid"),n;t.dataSource._data.length==0&&(n=$("#grdSendReminderNotification").find("th").length,$("#grdSendReminderNotification").find("tbody").append('<tr class="kendo-data-row"><td colspan="'+n+'" style="text-align:center;background-color:#6686C4;padding-top:30px"><\/td><\/tr>'),$("#grdSendReminderNotification").find(".k-grid-content tbody tr td").css("padding-top",11).append('<b style="background-color:#6686C4 !important;color:white !important;">No Results Found!<\/b>'))}function cancelSendEmailReminder(){var n=$("#grdSendReminderNotification").data("kendoGrid");n.dataSource.filter({});n.dataSource.sort({});n.refresh();$("#chkBoxSelectAll").removeAttr("checked");emailChangeFlag=!1;$("#divSendEmail").modal("hide")}var showChar=1e3,contentCount=0,index=0,totalCount=0,first=1,textContent="",lesstext="less",TaskCount,approvalType,IsTeam=!1,selectedCultureCode="";$(document).ready(function(){$("#collpase1")[0]!=undefined&&$("#collpase1").click();onSetHeight();setTimeout(function(){$("#dashBoardBudget").height("");$("#dashBoardWorkFlowPanel").height("");AnnoucementHeight=$("#dashBoardBudget").height();DailyTaskHeight=$("#dashBoardWorkFlowPanel").height();AnnoucementHeight>=DailyTaskHeight?($("#dashBoardBudget").height(AnnoucementHeight),$("#dashBoardWorkFlowPanel").height(AnnoucementHeight)):AnnoucementHeight<=DailyTaskHeight&&($("#dashBoardBudget").height(DailyTaskHeight),$("#dashBoardWorkFlowPanel").height(DailyTaskHeight))},250)});$(document).on("click","#teamApprovalTab",function(){IsTeam=!0;$("#approvalEmployeedetails").data("kendoAutoComplete").element[0].value="";$("#yet-to tr").css("background-color","")});$(document).on("click","#managerApprovalTab",function(){IsTeam=!1;$("#approvalEmployeedetails").data("kendoAutoComplete").element[0].value="";$("#approved tr").css("background-color","")});$(document).on("click","#liteamStatus,#liManagerStatus",function(){setTimeout(function(){$("#dashBoardBudget").height("");$("#dashBoardWorkFlowPanel").height("");AnnoucementHeight=$("#dashBoardBudget").height();DailyTaskHeight=$("#dashBoardWorkFlowPanel").height();AnnoucementHeight>=DailyTaskHeight?($("#dashBoardBudget").height(AnnoucementHeight),$("#dashBoardWorkFlowPanel").height(AnnoucementHeight)):AnnoucementHeight<=DailyTaskHeight&&($("#dashBoardBudget").height(DailyTaskHeight),$("#dashBoardWorkFlowPanel").height(DailyTaskHeight))},250)});$(document).on("click","[id$=collpase]",function(){onSetHeight()});$(document).on("click","#more",function(){$("#lessdiv").show();$("#morediv").hide()});$(document).on("click","#less",function(){$("#lessdiv").hide();$("#morediv").show()});$(document).on("click","#lnkManagerName",function(){var n=$("#ManagerBudget").data("kendoGrid"),t=$(this).closest("tr").index(),i=n._data[t];onSelectNotification(i.ManagerNum,"Compensation")});$(document).on("click","#approvalClear",function(){$("#approvalEmployeedetails").data("kendoAutoComplete").element[0].value="";IsTeam?$("#approved tr").css("background-color",""):$("#yet-to tr").css("background-color","")});$(document).on("click","#btnSendEmail",function(){$.ajax({url:"../Dashboard/_SendEmail",type:"get",async:!0,success:function(n){$("#divSendEmail").html(n);$("#divSendEmail").modal("show")}})});$(document).on("click","#chkBoxSelectAll",function(){$(this).is(":checked")==!0?(kendoCheckAllStatus=!0,$("input[name='chkValue']").each(function(){$(this).prop("checked",!0)})):(kendoCheckAllStatus==!1,$("input [name='chkValue']").each(function(){$(this).prop("checked",!1)}))});$(document).on("click","#meritexport",function(){var n=$("<form action='../Dashboard/MeritExport' method='post'><\/form>");n.append("<input type='text' name='__RequestVerificationToken' value='"+$('input[name="__RequestVerificationToken"]').val()+"' />");n.appendTo("body");n.submit();n.remove()});$(document).on("click","#promotionExport",function(){var n=$("<form action='../Dashboard/PromotionExport' method='post'><\/form>");n.append("<input type='text' name='__RequestVerificationToken' value='"+$('input[name="__RequestVerificationToken"]').val()+"' />");n.appendTo("body");n.submit();n.remove()});$(document).on("click","#adjmntExport",function(){var n=$("<form action='../Dashboard/AdjustmentExport' method='post'><\/form>");n.append("<input type='text' name='__RequestVerificationToken' value='"+$('input[name="__RequestVerificationToken"]').val()+"' />");n.appendTo("body");n.submit();n.remove()});$(document).on("click","#sendReminderFilter",function(){$("body").css("overflow","hidden");$.ajax({url:"../UserManagement/_SendEmail_FilterSortPopup",type:"GET",cache:!1,async:!0,dataType:"html",success:function(n){$("#EmailFilterSortPopup").html(n);var t=$("#EmailFilterSortPopup").data("kendoWindow");t.options.gridName="grdSendReminderNotification";t.center().open();$("#filterseperator").css("display","inline");$("#sendReminderClearFilter").show()}})});$(document).on("show.bs.modal","#divSendEmail",function(){$("#sendReminderClearFilter").hide()});$(document).on("click","#sendEmailReminder",function(){var s=$("#emailReminderEditor").val(),h=$("#emailReminderSubject").val(),c=$("#EmailBody").val(),t=$("#grdSendReminderNotification").data("kendoGrid"),n=[],i=[],r,u;if($("#chkBox input[type=checkbox]:checked").each(function(){var u=$(this).closest("tr"),r=$(u).index(),f=t._data[r];row=$(this).closest("tr");n.push(f);i.push(r)}),r=$("#emailReminderEditor").val(),u=$("#emailReminderSubject").val(),n.length==0)alert("Select atleast one user");else{var f=$('input[name="__RequestVerificationToken"]').val(),e=JSON.stringify(n),o=JSON.parse(e);$.ajax({url:"../Dashboard/SendEmailReminderToUser",type:"post",data:{__RequestVerificationToken:f,sendReminderMail:o,emailBody:$("#emailReminderEditor").val(),emailSubject:$("#emailReminderSubject").val()},dataType:"html",success:function(n){emailChangeFlag=!1;n==1&&($("#divSendEmail").html(n),$("#divSendEmail").modal("hide"),Successmessage("Sent Mail Successfully"));$("#chkBoxSelectAll").removeAttr("checked")}})}});$(document).on("click","[id$=chkBox]",function(){var n=$("input#chkBox:checked").length==$("input#chkBox").length?!0:!1;$("#chkBoxSelectAll")[0].checked=n;emailChangeFlag=!0});$(document).on("click","#chkBoxSelectAll",function(){this.checked?$("#chkBox input[type=checkbox]").each(function(){this.checked=!0}):$("#chkBox input[type=checkbox]").each(function(){this.checked=!1})});