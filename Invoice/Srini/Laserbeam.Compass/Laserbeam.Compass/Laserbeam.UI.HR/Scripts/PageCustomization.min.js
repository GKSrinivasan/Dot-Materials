function setRowChanged(n){n.IsChanged=!0}function checkAll(n){function h(n){switch(n){case"PopupDisplay":u.PopupDisplay=i[t].checked;setRowChanged(u);break;case"ExportDisplay":u.ExportDisplay=i[t].checked;setRowChanged(u);break;case"FilterDisplay":u.FilterDisplay=i[t].checked;setRowChanged(u);break;case"GridDisplayGroupFields":u.GridDisplay=i[t].checked;setRowChanged(u)}}var o=document.getElementById(n.id).name,i=document.getElementsByName(o),f=$("#grdPageCustomization").data("kendoGrid"),s=$(this).closest("tr"),r,t,e,u;if(n.checked){for(r=0;r<i.length;r++)i[r].type=="checkbox"&&(i[r].checked=!0);for(t=0;t<f._data.length;t++)i[t].type=="checkbox"&&(e=$(s).t=t,u=f._data[e],h(o));checkboxflag=!0}else{for(r=0;r<i.length;r++)i[r].type=="checkbox"&&(i[r].checked=!1);for(t=0;t<f._data.length;t++)i[t].type=="checkbox"&&(e=$(s).t=t,u=f._data[e],h(o))}}function requestStartPageCustomization(){}function showDisplay(n){var t;switch(n){case!0:t="<i class='fa fa-check displayColor'><\/i>";break;case!1:t="<i><\/i>";break;default:t="<i><\/i>"}return t}function pageCustomizationFunGrpNames(){for(var i,r,t=$("#grdPageCustomization .k-grouping-row").find(".k-reset"),n=0;n<t.length;n++)i=t[n].innerText,r=i.substring(19),t[n].innerHTML='<a tabindex="-1" class="k-icon k-i-collapse" href="#"><\/a>'+r}function additionalParamInfo(){var n=$('input[name="__RequestVerificationToken"]').val();return{__RequestVerificationToken:n}}function PopupDisplayParam(){var n=$('input[name="__RequestVerificationToken"]').val();return{__RequestVerificationToken:n,display:"Popup"}}function GridDisplayParam(){var n=$('input[name="__RequestVerificationToken"]').val();return{__RequestVerificationToken:n,display:"Grid"}}function ExportDisplayParam(){var n=$('input[name="__RequestVerificationToken"]').val();return{__RequestVerificationToken:n,display:"Export"}}function showConfirmWithOk(n,t){return isAllowConfirm==!0?(isAllowConfirm=!1,!0):(swal({title:"Oops...",html:t,type:"",showCancelButton:!1,showConfirmWithButton:!0,padding:40,width:700,confirmButtonColor:"#3085d6",cancelButtonColor:"#3085d6",confirmButtonClass:"cancel-class",cancelButtonClass:"cancel-class",confirmButtonText:"Ok",cancelButtonText:"Cancel",allowOutsideClick:!1,closeOnConfirm:!0,closeOnCancel:!0,allowEscapeKey:!1},function(){}),!1)}function refreshRow(n,t){for(var w,t,c,b,k,v,e,h,o=n.dataItem(t),d=$(t).children('td[role="gridcell"]'),l=0,p=[],i=0;i<n.columns.length;i++)if(n.columns.length>i+l){w=n.columns[i];w.locked==!0&&(l=l+1,p.push(w));var r=n.columns[i+l],a=r.template,u=d.eq(i);if(a!==undefined)v=kendo.template(a),u.html(v(o));else{var s=o[r.field],y=r.format,f=r.values;if(f!==undefined&&f!=null){for(e=0;e<f.length;e++)if(h=f[e],h.value==s){u.html(h.text);break}}else y!==undefined?u.html(kendo.format(y,s)):u.html(s)}}if(t=t[0],t!=undefined&&(c=t.rowIndex,c!=undefined&&c!=null)){for(b=n._cellId.replace("_active_cell",""),k=$($("#"+b+" .k-grid-content-locked").find("tr")[c]).children('td[role="gridcell"]'),i=0;i<p.length;i++){var r=p[i],a=r.template,u=k.eq(i);if(a!==undefined)v=kendo.template(a),u.html(v(o));else{var s=o[r.field],y=r.format,f=r.values;if(f!==undefined&&f!=null){for(e=0;e<f.length;e++)if(h=f[e],h.value==s){u.html(h.text);break}}else y!==undefined?u.html(kendo.format(y,s)):u.html(s)}}enableDisableInputControls(o,c)}$("#progress_"+o.MyHRID).tooltip("show");$("#progressUSD_"+o.MyHRID).tooltip("show")}var checkAll,changed,gridPages,checkboxflag=!1,checkBoxCheckFlag=!1,showMessage,prevPage;$(document).ready(function(){$("#mainemptydiv").hide();$("div.bhoechie-tab-menu>div.list-group>a").click(function(n){n.preventDefault();$(this).siblings("a.active").removeClass("active");$(this).addClass("active");var t=$(this).index();$("div.bhoechie-tab>div.bhoechie-tab-content").removeClass("active");$("div.bhoechie-tab>div.bhoechie-tab-content").eq(t).addClass("active")});$("#lnkGridDisplay").trigger("click");var n=jQuery("html");n.css("overflow","auto");$("#btnClearFilter").hide()});$(document).on("click","#Griddisplay",function(){$("#mainemptydiv").show()});$(document).on("click",".noemptydiv",function(){$("#mainemptydiv").hide()});$(document).on("click","#lnkGridDisplay",function(){$("#mainemptydiv").hide();$.ajax({url:"../PageCustomization/_GridDisplay",data:null,type:"get",cache:!1,success:function(n){$("#PageCustomization").html(n)}})});$(document).on("click","#lnkExportDisplay",function(){$("#mainemptydiv").hide();$.ajax({url:"../PageCustomization/_ExportDisplay",data:null,type:"get",cache:!1,success:function(n){$("#PageCustomization").html(n)}})});$(document).on("click","#lnkPopupDisplay",function(){$("#mainemptydiv").show();$.ajax({url:"../PageCustomization/_PopupDisplay",data:null,type:"get",cache:!1,success:function(n){$("#PageCustomization").html(n)}})});$(document).on("click",".noemptydiv",function(){$("#mainemptydiv").hide()});$(document).on("click","#lnkFilterDisplay",function(){$("#mainemptydiv").hide();$.ajax({url:"../PageCustomization/_FilterDisplay",data:null,type:"get",cache:!1,success:function(n){$("#PageCustomization").html(n)}})});showMessage=function(n,t){return alert(n),!t};$(document).on("click","#btnPageCustomizationSave",function(){$("#chkSelectAllPopupDisplay").prop("checked",!1);$("#chkSelectAllExportDisplay").prop("checked",!1);$("#chkSelectAllFilterDisplay").prop("checked",!1);$("#chkSelectAllGridDisplay").prop("checked",!1);var i=$("#grdPageCustomization").data("kendoGrid"),t=i._data,n=[];if($(t).each(function(){changed=this.IsChanged;this.IsChanged&&n.push(this)}),n.length>0){var r=$('input[name="__RequestVerificationToken"]').val(),u=JSON.stringify(n),f=JSON.parse(u);$.ajax({url:"../PageCustomization/UpdatePageCustomization",type:"post",data:{__RequestVerificationToken:r,pageCustomizationDetails:f},success:function(n){var t=$("#grdPageCustomization").data("kendoGrid");Successmessage(n);t.refresh()}});n.length=0}$(t).each(function(){var n=this.IsChanged;this.IsChanged=!1});objChangeFlag=!1});$(document).on("change","[id$=txtAliasName]",function(n){var u=[],f=0,e=[],o=!1,s,c,t,l;$(".k-grouping-row").each(function(){var n=this.rowIndex;u.push(n)});var r=$("#grdPageCustomization").data("kendoGrid"),a=$(this).closest("tr[role='row']"),h=a[0].rowIndex;for(u.forEach(function(){u[f]<h&&e.push(u[f]);f++}),c=h-e.length,t=r._data[c],i=0;i<r._data.length;i++)if(n.target.value.toLowerCase().trim()==r._data[i].AliasName.toLowerCase().trim()&&t.ColumnName.trim()!=r._data[i].ColumnName){s=r._data[i].ColumnName;o=!0;break}o==!0?(l=$(this).closest("tr"),showConfirmWithOk(n,"<div style='text-align:left;'>It looks like you have given  <span style='color:orange;'>"+n.target.value+"<\/span> as display name for the following fields <br/> <span style='font-size:14px;font-weight:bold'>1. "+s+" <br/> 2. "+t.ColumnName+"<\/span> <\/br> You cannot have fields with duplicate display name. Please correct. <\/div>"),t.AliasName=t.AliasName,refreshRow(r,l)):(t.AliasName=n.target.value,setRowChanged(t))});$(document).on("change","[id$=chkPopupDisplay]",function(n){var t=!1,r=[],f=0,s=[],c,u,i,l;$(".k-grouping-row").each(function(){var n=this.rowIndex;r.push(n)});var a=$("#grdPageCustomization").data("kendoGrid"),v=$(this).closest("tr[role='row']"),h=v[0].rowIndex;r.forEach(function(){r[f]<h&&s.push(r[f]);f++});c=h-s.length;u=a._data[c];u.PopupDisplay=n.target.checked;setRowChanged(u);var y=n.target.name,e=document.getElementsByName(y),o=[];for(i=1;i<e.length;i++)e[i].type=="checkbox"&&o.push(e[i].checked);for(l in o)o[l]==!0?checkBoxCheckFlag=!0:t=!0;u.IsChanged==!0&&checkboxflag==!0&&n.target.id!="chkSelectAllPopupDisplay"&&$("#chkSelectAllPopupDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t!=!0&&n.target.id!="chkSelectAllPopupDisplay"&&$("#chkSelectAllPopupDisplay").prop("checked",!0);checkBoxCheckFlag!=!0&&t==!0&&n.target.id!="chkSelectAllPopupDisplay"&&$("#chkSelectAllPopupDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t==!0&&n.target.id!="chkSelectAllPopupDisplay"&&$("#chkSelectAllPopupDisplay").prop("checked",!1);t=!1;checkBoxCheckFlag=!1});$(document).on("change","[id$=chkFilterDisplay]",function(n){var t=!1,r=[],f=0,s=[],c,u,i,l;$(".k-grouping-row").each(function(){var n=this.rowIndex;r.push(n)});var a=$("#grdPageCustomization").data("kendoGrid"),v=$(this).closest("tr[role='row']"),h=v[0].rowIndex;r.forEach(function(){r[f]<h&&s.push(r[f]);f++});c=h-s.length;u=a._data[c];u.FilterDisplay=n.target.checked;setRowChanged(u);var y=n.target.name,e=document.getElementsByName(y),o=[];for(i=1;i<e.length;i++)e[i].type=="checkbox"&&o.push(e[i].checked);for(l in o)o[l]==!0?checkBoxCheckFlag=!0:t=!0;u.IsChanged==!0&&checkboxflag==!0&&n.target.id!="chkSelectAllFilterDisplay"&&$("#chkSelectAllFilterDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t!=!0&&n.target.id!="chkSelectAllFilterDisplay"&&$("#chkSelectAllFilterDisplay").prop("checked",!0);checkBoxCheckFlag!=!0&&t==!0&&n.target.id!="chkSelectAllFilterDisplay"&&$("#chkSelectAllFilterDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t==!0&&n.target.id!="chkSelectAllFilterDisplay"&&$("#chkSelectAllFilterDisplay").prop("checked",!1);t=!1;checkBoxCheckFlag=!1});$(document).on("change","[id$=chkGridDisplayGroupFields]",function(n){var t=!1,r=[],f=0,s=[],l,u,i,a;$(".k-grouping-row").each(function(){var n=this.rowIndex;r.push(n)});var h=$("#grdPageCustomization").data("kendoGrid"),v=$(this).closest("tr[role='row']"),c=v[0].rowIndex;r.forEach(function(){r[f]<c&&s.push(r[f]);f++});l=c-s.length;u=h._data[l];u.GridDisplay=n.target.checked;setRowChanged(u);var y=n.target.name,e=document.getElementsByName(y),o=[];for(i=1;i<e.length;i++)e[i].type=="checkbox"&&o.push(e[i].checked);for(a in o)o[a]==!0?checkBoxCheckFlag=!0:t=!0;h.refresh();u.IsChanged==!0&&checkboxflag==!0&&n.target.id!="chkSelectAllGridDisplay"&&$("#chkSelectAllGridDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t!=!0&&n.target.id!="chkSelectAllGridDisplay"&&$("#chkSelectAllGridDisplay").prop("checked",!0);checkBoxCheckFlag!=!0&&t==!0&&n.target.id!="chkSelectAllGridDisplay"&&$("#chkSelectAllGridDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t==!0&&n.target.id!="chkSelectAllGridDisplay"&&$("#chkSelectAllGridDisplay").prop("checked",!1);t=!1;checkBoxCheckFlag=!1});$(document).on("click","#btnFilter",function(){$.ajax({url:"../PageCustomization/_FilterSort",type:"GET",cache:!1,async:!0,dataType:"html",success:function(n){$("#wndFilterSort").html(n);var t=$("#wndFilterSort").data("kendoWindow");t.options.gridName="grdPageCustomization";t.center().open();$("#filterseperator").css("display","inline");isFilter=!0}})});$(document).on("change","#grdPageCustomization input[type='text'], input[type='checkbox']",function(){objChangeFlag=!0});$(document).on("change","[id$=chkExportDisplay]",function(n){var t=!1,r=[],f=0,s=[],c,u,i,l;$(".k-grouping-row").each(function(){var n=this.rowIndex;r.push(n)});var a=$("#grdPageCustomization").data("kendoGrid"),v=$(this).closest("tr[role='row']"),h=v[0].rowIndex;r.forEach(function(){r[f]<h&&s.push(r[f]);f++});c=h-s.length;u=a._data[c];u.ExportDisplay=n.target.checked;setRowChanged(u);var y=n.target.name,e=document.getElementsByName(y),o=[];for(i=1;i<e.length;i++)e[i].type=="checkbox"&&o.push(e[i].checked);for(l in o)o[l]==!0?checkBoxCheckFlag=!0:t=!0;u.IsChanged==!0&&checkboxflag==!0&&n.target.id!="chkSelectAllExportDisplay"&&$("#chkSelectAllExportDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t!=!0&&n.target.id!="chkSelectAllExportDisplay"&&$("#chkSelectAllExportDisplay").prop("checked",!0);checkBoxCheckFlag!=!0&&t==!0&&n.target.id!="chkSelectAllExportDisplay"&&$("#chkSelectAllExportDisplay").prop("checked",!1);checkBoxCheckFlag==!0&&t==!0&&n.target.id!="chkSelectAllExportDisplay"&&$("#chkSelectAllExportDisplay").prop("checked",!1);t=!1;checkBoxCheckFlag=!1});$(document).on("click","#btnClearFilter",function(){clearFilterSort(!0);$("#btnClearFilter").hide();$("#filter").show()});$(document).on("click","#btnPageCustomizationReset",function(){var n=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../PageCustomization/ResetAction",type:"Post",data:{__RequestVerificationToken:n},success:function(n){var t=$("#grdPageCustomization").data("kendoGrid");Successmessage(n);t.dataSource.read()}})});prevPage=1;