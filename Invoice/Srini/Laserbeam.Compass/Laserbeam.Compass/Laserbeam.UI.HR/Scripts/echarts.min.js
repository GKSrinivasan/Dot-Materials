(function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?exports.echarts=t():n.echarts=t()})(this,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={exports:{},id:r,loaded:!1};return n[r].call(u.exports,u,u.exports,t),u.loaded=!0,u.exports}var i={};return t.m=n,t.c=i,t.p="",t(0)}([function(n,t,i){n.exports=i(1);i(91);i(127);i(132);i(141);i(145);i(155);i(177);i(189);i(207);i(211);i(215);i(230);i(236);i(243);i(249);i(253);i(258);i(106);i(262);i(268);i(272);i(283);i(216);i(285);i(286);i(300);i(315);i(319);i(322);i(331);i(345)},function(n,t,i){
/*!
	 * ECharts, a javascript interactive chart library.
	 *
	 * Copyright (c) 2015, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/echarts/blob/master/LICENSE.txt
	 */
function s(n){return function(t,i,r){t=t&&t.toLowerCase();c.prototype[n].call(this,t,i,r)}}function l(){c.call(this)}function v(n,t,i){i=i||{};typeof t=="string"&&(t=wt[t]);t&&e(ft,function(n){n(t)});this.id;this.group;this._dom=n;this._zr=a.init(n,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio});this._theme=u.clone(t);this._chartsViews=[];this._chartsMap={};this._componentsViews=[];this._componentsMap={};this._api=new dt(this);this._coordSysMgr=new ot;c.call(this);this._messageCenter=new l;this._initEvents();this.resize=u.bind(this.resize,this)}function at(n,t){var i=this._model;i&&i.eachComponent({mainType:"series",query:t},function(r){var u=this._chartsMap[r.__viewId];u&&u.__alive&&u[n](r,i,this._api,t)},this)}function g(n,t,i){var r=this._api;e(this._componentsViews,function(u){var f=u.__model;u[n](f,t,r,i);y(f,u)},this);t.eachSeries(function(u){var f=this._chartsMap[u.__viewId];f[n](u,t,r,i);y(u,f)},this)}function yt(n,t){for(var f,u=n==="component",r=u?this._componentsViews:this._chartsViews,e=u?this._componentsMap:this._chartsMap,o=this._zr,i=0;i<r.length;i++)r[i].__alive=!1;for(t[u?"eachComponent":"eachSeries"](function(n,i){var s,f,h,c;if(u){if(n==="series")return}else i=n;if(s=i.id+"_"+i.type,f=e[s],!f)if(h=st.parseClassType(i.type),c=u?ht.getClass(h.main,h.sub):ct.getClass(h.sub),c)f=new c,f.init(t,this._api),e[s]=f,r.push(f),o.add(f.group);else return;i.__viewId=s;f.__alive=!0;f.__id=s;f.__model=i},this),i=0;i<r.length;)f=r[i],f.__alive?i++:(o.remove(f.group),f.dispose(t,this._api),r.splice(i,1),delete e[f.__id])}function ii(n,t){e(d,function(i){e(ut[i]||[],function(i){i(n,t)})})}function ri(n){var t={};n.eachSeries(function(n){var i=n.get("stack"),r=n.getData(),u;i&&r.type==="list"&&(u=t[i],u&&(r.stackedOn=u),t[i]=r)})}function nt(n,t){var i=this._api;e(rt,function(r){r(n,i,t)})}function tt(n,t){e(k,function(i){e(et[i]||[],function(i){i(n,t)})})}function ui(n,t){var i=this._api;e(this._componentsViews,function(r){var u=r.__model;r.render(u,n,i,t);y(u,r)},this);e(this._chartsViews,function(n){n.__alive=!1},this);n.eachSeries(function(r){var u=this._chartsMap[r.__viewId];u.__alive=!0;u.render(r,n,i,t);u.group.silent=!!r.get("silent");y(r,u)},this);e(this._chartsViews,function(t){t.__alive||t.remove(n,i)},this)}function y(n,t){var i=n.get("z"),r=n.get("zlevel");t.group.traverse(function(n){i!=null&&(n.z=i);r!=null&&(n.zlevel=r)})}function oi(n){function r(n,i){for(var u,r=0;r<n.length;r++)u=n[r],u[t]=i}var i=0,f=1,s=2,t="__connectUpdateStatus";u.each(p,function(u,h){n._messageCenter.on(h,function(u){var l,h,a,c;if(w[n.group]&&n[t]!==i){l=n.makeActionFromEvent(u);h=[];for(a in o)c=o[a],c!==n&&c.group===n.group&&h.push(c);r(h,i);e(h,function(n){n[t]!==f&&n.dispatchAction(l)});r(h,s)}})})}var kt=i(2),dt=i(24),ot=i(25),gt=i(26),st=i(19),ni=i(27),ht=i(28),ct=i(41),ti=i(42),a=i(77),u=i(3),lt=i(38),b=i(78),c=i(32),e=u.each,k=["echarts","chart","component"],d=["transform","filter","statistic"],f,h,vt,pt;l.prototype.on=s("on");l.prototype.off=s("off");l.prototype.one=s("one");u.mixin(l,c);f=v.prototype;f.getDom=function(){return this._dom};f.getZr=function(){return this._zr};f.setOption=function(n,t,i){(!this._model||t)&&(this._model=new kt(null,null,this._theme,new gt(this._api)));this._model.setOption(n,ft);h.prepareAndUpdate.call(this);i||this._zr.refreshImmediately()};f.setTheme=function(){console.log("ECharts#setTheme() is DEPRECATED in ECharts 3.0")};f.getModel=function(){return this._model};f.getOption=function(){return this._model.getOption()};f.getWidth=function(){return this._zr.getWidth()};f.getHeight=function(){return this._zr.getHeight()};f.getRenderedCanvas=function(n){if(b.canvasSupported){n=n||{};n.pixelRatio=n.pixelRatio||1;n.backgroundColor=n.backgroundColor||this._model.get("backgroundColor");var t=this._zr,i=t.storage.getDisplayList();return u.each(i,function(n){n.stopAnimation(!0)}),t.painter.getRenderedCanvas(n)}};f.getDataURL=function(n){var i;n=n||{};var r=n.excludeComponents,u=this._model,t=[],f=this;return e(r,function(n){u.eachComponent({mainType:n},function(n){var i=f._componentsMap[n.__viewId];i.group.ignore||(t.push(i),i.group.ignore=!0)})}),i=this.getRenderedCanvas(n).toDataURL("image/"+(n&&n.type||"png")),e(t,function(n){n.group.ignore=!1}),i};f.getConnectedDataURL=function(n){var nt,l,tt,t,y;if(b.canvasSupported){var p=this.group,k=Math.min,d=Math.max,s=Infinity;if(w[p]){var r=s,f=s,h=-s,c=-s,g=[],i=n&&n.pixelRatio||1;for(nt in o)l=o[nt],l.group===p&&(tt=l.getRenderedCanvas(u.clone(n)),t=l.getDom().getBoundingClientRect(),r=k(t.left,r),f=k(t.top,f),h=d(t.right,h),c=d(t.bottom,c),g.push({dom:tt,left:t.left,top:t.top}));r*=i;f*=i;h*=i;c*=i;var it=h-r,rt=c-f,v=u.createCanvas();return v.width=it,v.height=rt,y=a.init(v),e(g,function(n){var t=new ti.Image({style:{x:n.left*i-r,y:n.top*i-f,image:n.dom}});y.add(t)}),y.refreshImmediately(),v.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}};h={update:function(n){var t=this._model,f=this._api,e=this._coordSysMgr,i,r,u;t&&(t.restoreData(),e.create(this._model,this._api),ii.call(this,t,f),ri.call(this,t),e.update(t,f),nt.call(this,t,n),tt.call(this,t,n),ui.call(this,t,n),i=t.get("backgroundColor")||"transparent",r=this._zr.painter,r.isSingleCanvas&&r.isSingleCanvas()?this._zr.configLayer(0,{clearColor:i}):(b.canvasSupported||(u=lt.parse(i),i=lt.stringify(u,"rgb"),u[3]===0&&(i="transparent")),i=i,this._dom.style.backgroundColor=i))},updateView:function(n){var t=this._model;t&&(nt.call(this,t,n),tt.call(this,t,n),g.call(this,"updateView",t,n))},updateVisual:function(n){var t=this._model;t&&(tt.call(this,t,n),g.call(this,"updateVisual",t,n))},updateLayout:function(n){var t=this._model;t&&(nt.call(this,t,n),g.call(this,"updateLayout",t,n))},highlight:function(n){at.call(this,"highlight",n)},downplay:function(n){at.call(this,"downplay",n)},prepareAndUpdate:function(n){var t=this._model;yt.call(this,"component",t);yt.call(this,"chart",t);h.update.call(this,n)}};f.resize=function(){this._zr.resize();var n=this._model&&this._model.resetOption("media");h[n?"prepareAndUpdate":"update"].call(this);this._loadingFX&&this._loadingFX.resize()};vt=i(87);f.showLoading=function(n,t){u.isObject(n)&&(t=n,n="default");this.hideLoading();var i=vt(this._api,t),r=this._zr;this._loadingFX=i;r.add(i)};f.hideLoading=function(){this._loadingFX&&this._zr.remove(this._loadingFX);this._loadingFX=null};f.makeActionFromEvent=function(n){var t=u.extend({},n);return t.type=p[n.type],t};f.dispatchAction=function(n,t){var o=it[n.type],r,i,a,f,e;if(o){var s=o.actionInfo,c=s.update||"update",l=[n],v=!1;for(n.batch&&(v=!0,l=u.map(n.batch,function(t){return t=u.defaults(u.extend({},t),n),t.batch=null,t})),r=[],a=n.type==="highlight"||n.type==="downplay",f=0;f<l.length;f++)e=l[f],i=o.action(e,this._model),i=i||u.extend({},e),i.type=s.event||i.type,r.push(i),a&&h[c].call(this,e);c==="none"||a||h[c].call(this,n);t||(i=v?{type:s.event||n.type,batch:r}:r[0],this._messageCenter.trigger(i.type,i))}};f.on=s("on");f.off=s("off");f.one=s("one");pt=["click","dblclick","mouseover","mouseout","mousedown","mouseup","globalout"];f._initEvents=function(){var n=this._zr;e(pt,function(t){n.on(t,function(n){var f=this.getModel(),i=n.target,u,r;i&&i.dataIndex!=null?(u=i.dataModel||f.getSeriesByIndex(i.seriesIndex),r=u&&u.getDataParams(i.dataIndex)||{},r.event=n,r.type=t,this.trigger(t,r)):i&&i.eventData&&this.trigger(t,i.eventData)},this)},this);e(p,function(n,t){this._messageCenter.on(t,function(n){this.trigger(t,n)},this)},this)};f.isDisposed=function(){return this._disposed};f.clear=function(){this.setOption({},!0)};f.dispose=function(){this._disposed=!0;var n=this._api,t=this._model;e(this._componentsViews,function(i){i.dispose(t,n)});e(this._chartsViews,function(i){i.dispose(t,n)});this._zr.dispose();delete o[this.id]};u.mixin(v,c);var it=[],p={},rt=[],ut={},ft=[],et={},wt={},o={},w={},fi=new Date-0,ei=new Date-0,bt="_echarts_instance_",r={version:"3.1.7",dependencies:{zrender:"3.0.8"}};r.init=function(n,t,i){if(a.version.replace(".","")-0<r.dependencies.zrender.replace(".","")-0)throw new Error("ZRender "+a.version+" is too old for ECharts "+r.version+". Current version need ZRender "+r.dependencies.zrender+"+");if(!n)throw new Error("Initialize failed: invalid dom.");var u=new v(n,t,i);return u.id="ec_"+fi++,o[u.id]=u,n.setAttribute&&n.setAttribute(bt,u.id),oi(u),u};r.connect=function(n){if(u.isArray(n)){var t=n;n=null;u.each(t,function(t){t.group!=null&&(n=t.group)});n=n||"g_"+ei++;u.each(t,function(t){t.group=n})}return w[n]=!0,n};r.disConnect=function(n){w[n]=!1};r.dispose=function(n){u.isDom(n)?n=r.getInstanceByDom(n):typeof n=="string"&&(n=o[n]);n instanceof v&&!n.isDisposed()&&n.dispose()};r.getInstanceByDom=function(n){var t=n.getAttribute(bt);return o[t]};r.getInstanceById=function(n){return o[n]};r.registerTheme=function(n,t){wt[n]=t};r.registerPreprocessor=function(n){ft.push(n)};r.registerProcessor=function(n,t){if(u.indexOf(d,n)<0)throw new Error("stage should be one of "+d);var i=ut[n]||(ut[n]=[]);i.push(t)};r.registerAction=function(n,t,i){typeof t=="function"&&(i=t,t="");var r=u.isObject(n)?n.type:[n,n={event:t}][0];n.event=(n.event||r).toLowerCase();t=n.event;it[r]||(it[r]={action:i,actionInfo:n});p[t]=r};r.registerCoordinateSystem=function(n,t){ot.register(n,t)};r.registerLayout=function(n){u.indexOf(rt,n)<0&&rt.push(n)};r.registerVisualCoding=function(n,t){if(u.indexOf(k,n)<0)throw new Error("stage should be one of "+k);var i=et[n]||(et[n]=[]);i.push(t)};r.extendChartView=function(n){return ct.extend(n)};r.extendComponentModel=function(n){return st.extend(n)};r.extendSeriesModel=function(n){return ni.extend(n)};r.extendComponentView=function(n){return ht.extend(n)};r.setCanvasCreator=function(n){u.createCanvas=n};r.registerVisualCoding("echarts",u.curry(i(88),"","itemStyle"));r.registerPreprocessor(i(89));r.registerAction({type:"highlight",event:"highlight",update:"highlight"},u.noop);r.registerAction({type:"downplay",event:"downplay",update:"downplay"},u.noop);r.graphic=i(42);r.number=i(7);r.format=i(6);r.matrix=i(17);r.vector=i(16);r.util={};e(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend"],function(n){r.util[n]=u[n]});n.exports=r},function(n,t,i){function d(n,t){for(var i in t)f.hasClass(i)||(typeof t[i]=="object"?n[i]=n[i]?r.merge(n[i],t[i],!1):r.clone(t[i]):n[i]==null&&(n[i]=t[i]))}function g(n){n=n;this.option={};this.option[l]=1;this._componentsMap={};this._seriesIndices=null;d(n,this._theme.option);r.merge(n,k,!1);this.mergeOption(n)}function nt(n,t){r.isArray(t)||(t=t?[t]:[]);var i={};return u(t,function(t){i[t]=(n[t]||[]).slice()}),i}function tt(n,t){var i={};u(t,function(n){var t=n.exist;t&&(i[t.id]=n)});u(t,function(t){var u=t.option,f;r.assert(!u||u.id==null||!i[u.id]||i[u.id]===t,"id duplicates: "+(u&&u.id));u&&u.id!=null&&(i[u.id]=t);s(u)&&(f=it(n,u,t.exist),t.keyInfo={mainType:n,subType:f})});u(t,function(n){var u=n.exist,r=n.option,t=n.keyInfo,f;if(s(r)){if(t.name=r.name!=null?r.name+"":u?u.name:'\0-',u)t.id=u.id;else if(r.id!=null)t.id=r.id+"";else{f=0;do t.id='\0'+t.name+'\0'+f++;while(i[t.id])}i[t.id]=n}})}function it(n,t,i){return t.type?t.type:i?i.subType:f.determineSubType(n,t)}function a(n){return y(n,function(n){return n.componentIndex})||[]}function b(n,t){return t.hasOwnProperty("subType")?e(n,function(n){return n.subType===t.subType}):n}function h(n){if(!n._seriesIndices)throw new Error("Series has not been initialized yet.");}var r=i(3),o=i(5),v=i(8),u=r.each,e=r.filter,y=r.map,c=r.isArray,p=r.indexOf,s=r.isObject,f=i(19),k=i(23),l='\0_ec_inner',w=v.extend({constructor:w,init:function(n,t,i,r){i=i||{};this.option=null;this._theme=new v(i);this._optionManager=r},setOption:function(n,t){r.assert(!(l in n),"please use chart.getOption()");this._optionManager.setOption(n,t);this.resetOption()},resetOption:function(n){var t=!1,i=this._optionManager,r,f,e;return n&&n!=="recreate"||(r=i.mountOption(n==="recreate"),this.option&&n!=="recreate"?(this.restoreData(),this.mergeOption(r)):g.call(this,r),t=!0),(n==="timeline"||n==="media")&&this.restoreData(),n&&n!=="recreate"&&n!=="timeline"||(f=i.getTimelineOption(this),f&&(this.mergeOption(f),t=!0)),n&&n!=="recreate"&&n!=="media"||(e=i.getMediaOption(this,this._api),e.length&&u(e,function(n){this.mergeOption(n,t=!0)},this)),t},mergeOption:function(n){function h(e,h){var v=o.normalizeToArray(n[e]),c=o.mappingToExists(i[e],v),l;tt(e,c);l=nt(i,h);t[e]=[];i[e]=[];u(c,function(n,u){var o=n.exist,h=n.option,c;r.assert(s(h)||o,"Empty component definition");h?(c=f.getClass(e,n.keyInfo.subType,!0),o&&o instanceof c?(o.mergeOption(h,this),o.optionUpdated(this)):(o=new c(h,this,this,r.extend({dependentModels:l,componentIndex:u},n.keyInfo)),o.optionUpdated(this))):(o.mergeOption({},this),o.optionUpdated(this));i[e][u]=o;t[e][u]=o.option},this);e==="series"&&(this._seriesIndices=a(i.series))}var t=this.option,i=this._componentsMap,e=[];u(n,function(n,i){n!=null&&(f.hasClass(i)?e.push(i):t[i]=t[i]==null?r.clone(n):r.merge(t[i],n,!0))});f.topologicalTravel(e,f.getAllClassMainTypes(),h,this)},getOption:function(){var n=r.clone(this.option);return u(n,function(t,i){var t,r;if(f.hasClass(i)){for(t=o.normalizeToArray(t),r=t.length-1;r>=0;r--)o.isIdInner(t[r])&&t.splice(r,1);n[i]=t}}),delete n[l],n},getTheme:function(){return this._theme},getComponent:function(n,t){var i=this._componentsMap[n];if(i)return i[t||0]},queryComponents:function(n){var h=n.mainType,f,o,s;if(!h)return[];var t=n.index,r=n.id,u=n.name,i=this._componentsMap[h];return!i||!i.length?[]:(t!=null?(c(t)||(t=[t]),f=e(y(t,function(n){return i[n]}),function(n){return!!n})):r!=null?(o=c(r),f=e(i,function(n){return o&&p(r,n.id)>=0||!o&&n.id===r})):u!=null&&(s=c(u),f=e(i,function(n){return s&&p(u,n.name)>=0||!s&&n.name===u})),b(f,n))},findComponents:function(n){function f(n){var i=t+"Index",r=t+"Id",u=t+"Name";return n&&(n.hasOwnProperty(i)||n.hasOwnProperty(r)||n.hasOwnProperty(u))?{mainType:t,index:n[i],id:n[r],name:n[u]}:null}function o(t){return n.filter?e(t,n.filter):t}var r=n.query,t=n.mainType,i=f(r),u=i?this.queryComponents(i):this._componentsMap[t];return o(b(u,n))},eachComponent:function(n,t,i){var f=this._componentsMap,e;typeof n=="function"?(i=t,t=n,u(f,function(n,r){u(n,function(n,u){t.call(i,r,n,u)})})):r.isString(n)?u(f[n],t,i):s(n)&&(e=this.findComponents(n),u(e,t,i))},getSeriesByName:function(n){var t=this._componentsMap.series;return e(t,function(t){return t.name===n})},getSeriesByIndex:function(n){return this._componentsMap.series[n]},getSeriesByType:function(n){var t=this._componentsMap.series;return e(t,function(t){return t.subType===n})},getSeries:function(){return this._componentsMap.series.slice()},eachSeries:function(n,t){h(this);u(this._seriesIndices,function(i){var r=this._componentsMap.series[i];n.call(t,r,i)},this)},eachRawSeries:function(n,t){u(this._componentsMap.series,n,t)},eachSeriesByType:function(n,t,i){h(this);u(this._seriesIndices,function(r){var u=this._componentsMap.series[r];u.subType===n&&t.call(i,u,r)},this)},eachRawSeriesByType:function(n,t,i){return u(this.getSeriesByType(n),t,i)},isSeriesFiltered:function(n){return h(this),r.indexOf(this._seriesIndices,n.componentIndex)<0},filterSeries:function(n,t){h(this);var i=e(this._componentsMap.series,n,t);this._seriesIndices=a(i)},restoreData:function(){var n=this._componentsMap,t;this._seriesIndices=a(n.series);t=[];u(n,function(n,i){t.push(i)});f.topologicalTravel(t,f.getAllClassMainTypes(),function(t){u(n[t],function(n){n.restoreData()})})}});n.exports=w},function(n,t,i){function f(n){var t,i,u,r;if(typeof n=="object"&&n!==null){if(t=n,n instanceof Array)for(t=[],i=0,u=n.length;i<u;i++)t[i]=f(n[i]);else if(!o(n)&&!s(n)){t={};for(r in n)n.hasOwnProperty(r)&&(t[r]=f(n[r]))}return t}return n}function c(n,t,i){var r,u,h;if(!e(t)||!e(n))return i?f(t):n;for(r in t)t.hasOwnProperty(r)&&(u=n[r],h=t[r],!e(h)||!e(u)||a(h)||a(u)||s(h)||s(u)||o(h)||o(u)?!i&&r in n||(n[r]=f(t[r],!0)):c(u,h,i));return n}function nt(n,t){for(var i=n[0],r=1,u=n.length;r<u;r++)i=c(i,n[r],t);return i}function tt(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);return n}function v(n,t,i){for(var r in t)t.hasOwnProperty(r)&&(i?t[r]!=null:n[r]==null)&&(n[r]=t[r]);return n}function it(){return document.createElement("canvas")}function rt(){return l||(l=y.createCanvas().getContext("2d")),l}function ut(n,t){if(n){if(n.indexOf)return n.indexOf(t);for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i}return-1}function ft(n,t){function u(){}var r=n.prototype,i;u.prototype=t.prototype;n.prototype=new u;for(i in r)n.prototype[i]=r[i];n.prototype.constructor=n;n.superClass=t}function et(n,t,i){n="prototype"in n?n.prototype:n;t="prototype"in t?t.prototype:t;v(n,t,i)}function ot(n){if(n)return typeof n=="string"?!1:typeof n.length=="number"}function st(n,t,i){var r,f,u;if(n&&t)if(n.forEach&&n.forEach===b)n.forEach(t,i);else if(n.length===+n.length)for(r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n);else for(u in n)n.hasOwnProperty(u)&&t.call(i,n[u],u,n)}function ht(n,t,i){var u,r,f;if(n&&t){if(n.map&&n.map===d)return n.map(t,i);for(u=[],r=0,f=n.length;r<f;r++)u.push(t.call(i,n[r],r,n));return u}}function ct(n,t,i,r){if(n&&t){if(n.reduce&&n.reduce===g)return n.reduce(t,i,r);for(var u=0,f=n.length;u<f;u++)i=t.call(r,i,n[u],u,n);return i}}function lt(n,t,i){var u,r,f;if(n&&t){if(n.filter&&n.filter===k)return n.filter(t,i);for(u=[],r=0,f=n.length;r<f;r++)t.call(i,n[r],r,n)&&u.push(n[r]);return u}}function at(n,t,i){if(n&&t)for(var r=0,u=n.length;r<u;r++)if(t.call(i,n[r],r,n))return n[r]}function vt(n,t){var i=u.call(arguments,2);return function(){return n.apply(t,i.concat(u.call(arguments)))}}function yt(n){var t=u.call(arguments,1);return function(){return n.apply(this,t.concat(u.call(arguments)))}}function a(n){return h.call(n)==="[object Array]"}function pt(n){return typeof n=="function"}function wt(n){return h.call(n)==="[object String]"}function e(n){var t=typeof n;return t==="function"||!!n&&t=="object"}function o(n){return!!w[h.call(n)]||n instanceof p}function s(n){return n&&n.nodeType===1&&typeof n.nodeName=="string"}function bt(){for(var n=0,t=arguments.length;n<t;n++)if(arguments[n]!=null)return arguments[n]}function kt(){return Function.call.apply(u,arguments)}function dt(n,t){if(!n)throw new Error(t);}var p=i(4),w={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},h=Object.prototype.toString,r=Array.prototype,b=r.forEach,k=r.filter,u=r.slice,d=r.map,g=r.reduce,l,y={inherits:ft,mixin:et,clone:f,merge:c,mergeAll:nt,extend:tt,defaults:v,getContext:rt,createCanvas:it,indexOf:ut,slice:kt,find:at,isArrayLike:ot,each:st,map:ht,reduce:ct,filter:lt,bind:vt,curry:yt,isArray:a,isString:wt,isObject:e,isFunction:pt,isBuildInObject:o,isDom:s,retrieve:bt,assert:dt,noop:function(){}};n.exports=y},function(n){var t=function(n){this.colorStops=n||[]};t.prototype={constructor:t,addColorStop:function(n,t){this.colorStops.push({offset:n,color:t})}};n.exports=t},function(n,t,i){var f=i(6),e=i(7),u=i(3),o=i(8),r={};r.createNameEach=function(n,t){var i,f;return n=n.slice(),i=u.map(n,r.capitalFirst),t=(t||[]).slice(),f=u.map(t,r.capitalFirst),function(r,e){u.each(n,function(n,u){for(var s={name:n,capital:i[u]},o=0;o<t.length;o++)s[t[o]]=n+f[o];r.call(e,s)})}};r.capitalFirst=function(n){return n?n.charAt(0).toUpperCase()+n.substr(1):n};r.eachAxisDim=r.createNameEach(["x","y","z","radius","angle"],["axisIndex","axis","index"]);r.normalizeToArray=function(n){return u.isArray(n)?n:n==null?[]:[n]};r.createLinkedNodesFinder=function(n,t,i){function f(n,t){return u.indexOf(t.nodes,n)>=0}function e(n,r){var f=!1;return t(function(t){u.each(i(n,t)||[],function(n){r.records[t.name][n]&&(f=!0)})}),f}function r(n,r){r.nodes.push(n);t(function(t){u.each(i(n,t)||[],function(n){r.records[t.name][n]=!0})})}return function(i){function s(n){!f(n,u)&&e(n,u)&&(r(n,u),o=!0)}var u={nodes:[],records:{}},o;if(t(function(n){u.records[n.name]={}}),!i)return u;r(i,u);do o=!1,n(s);while(o);return u}};r.defaultEmphasis=function(n,t){if(n){var i=n.emphasis=n.emphasis||{},r=n.normal=n.normal||{};u.each(t,function(n){var t=u.retrieve(i[n],r[n]);t!=null&&(i[n]=t)})}};r.createDataFormatModel=function(n,t,i){var f=new o;return u.mixin(f,r.dataFormatMixin),f.seriesIndex=n.seriesIndex,f.name=n.name||"",f.getData=function(){return t},f.getRawDataArray=function(){return i},f};r.getDataItemValue=function(n){return n&&(n.value==null?n:n.value)};r.converDataValue=function(n,t){var i=t&&t.type;return i==="ordinal"?n:(i!=="time"||isFinite(n)||n==null||n==="-"||(n=+e.parseDate(n)),n==null||n===""?NaN:+n)};r.dataFormatMixin={getDataParams:function(n){var t=this.getData(),u=this.seriesIndex,f=this.name,e=this.getRawValue(n),i=t.getRawIndex(n),o=t.getName(n,!0),r=this.getRawDataArray(),s=r&&r[i];return{componentType:"series",seriesType:this.subType,seriesIndex:u,seriesName:f,name:o,dataIndex:i,data:s,value:e,color:t.getItemVisual(n,"color"),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,i){t=t||"normal";var u=this.getData(),e=u.getItemModel(n),r=this.getDataParams(n);return(i==null&&(i=e.get(["label",t,"formatter"])),typeof i=="function")?(r.status=t,i(r)):typeof i=="string"?f.formatTpl(i,r):void 0},getRawValue:function(n){var i=this.getData().getItemModel(n),t;if(i&&i.option!=null)return t=i.option,u.isObject(t)&&!u.isArray(t)?t.value:t}};r.mappingToExists=function(n,t){t=(t||[]).slice();var i=u.map(n||[],function(n){return{exist:n}});return u.each(t,function(n,f){var e,o;if(u.isObject(n))for(e=0;e<i.length;e++)if(o=i[e].exist,!i[e].option&&(n.id!=null&&o.id===n.id+""||n.name!=null&&!r.isIdInner(n)&&!r.isIdInner(o)&&o.name===n.name+"")){i[e].option=n;t[f]=null;break}}),u.each(t,function(n){var t,f;if(u.isObject(n)){for(t=0;t<i.length;t++)if(f=i[t].exist,!i[t].option&&!r.isIdInner(f)&&n.id==null){i[t].option=n;break}t>=i.length&&i.push({option:n})}}),i};r.isIdInner=function(n){return u.isObject(n)&&n.id&&(n.id+"").indexOf('\0_ec_\0')===0};n.exports=r},function(n,t,i){function s(n){return isNaN(n)?"-":(n=(n+"").split("."),n[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(n.length>1?"."+n[1]:""))}function h(n){return n.toLowerCase().replace(/-(.)/g,function(n,t){return t.toUpperCase()})}function c(n){var t=n.length;return typeof n=="number"?[n,n,n,n]:t===2?[n[0],n[1],n[0],n[1]]:t===3?[n[0],n[1],n[2],n[1]]:n}function l(n){return String(n).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function u(n,t){return"{"+n+(t==null?"":t)+"}"}function a(n,t){var h,o,s,c,i,r;if(e.isArray(t)||(t=[t]),h=t.length,!h)return"";for(o=t[0].$vars,s=0;s<o.length;s++)c=f[s],n=n.replace(u(c),u(c,0));for(i=0;i<h;i++)for(r=0;r<o.length;r++)n=n.replace(u(f[r],i),t[i][o[r]]);return n}function v(n,t){(n==="week"||n==="month"||n==="quarter"||n==="half-year"||n==="year")&&(n="MM-dd\nyyyy");var i=o.parseDate(t),u=i.getFullYear(),c=i.getMonth()+1,f=i.getDate(),e=i.getHours(),s=i.getMinutes(),h=i.getSeconds();return n.replace("MM",r(c)).toLowerCase().replace("yyyy",u).replace("yy",u%100).replace("dd",r(f)).replace("d",f).replace("hh",r(e)).replace("h",e).replace("mm",r(s)).replace("m",s).replace("ss",r(h)).replace("s",h)}function r(n){return n<10?"0"+n:n}var e=i(3),o=i(7),f=["a","b","c","d","e","f","g"];n.exports={normalizeCssArray:c,addCommas:s,toCamelCase:h,encodeHTML:l,formatTpl:a,formatTime:v}},function(n){function r(n){return n.replace(/^\s+/,"").replace(/\s+$/,"")}var t={},i=.0001;t.linearMap=function(n,t,i,r){var f=t[1]-t[0],u;return f===0?(i[0]+i[1])/2:(u=(n-t[0])/f,r&&(u=Math.min(Math.max(u,0),1)),u*(i[1]-i[0])+i[0])};t.parsePercent=function(n,t){switch(n){case"center":case"middle":n="50%";break;case"left":case"top":n="0%";break;case"right":case"bottom":n="100%"}return typeof n=="string"?r(n).match(/%$/)?parseFloat(n)/100*t:parseFloat(n):n==null?NaN:+n};t.round=function(n){return+(+n).toFixed(10)};t.asc=function(n){return n.sort(function(n,t){return n-t}),n};t.getPrecision=function(n){if(isNaN(n))return 0;for(var t=1,i=0;Math.round(n*t)/t!==n;)t*=10,i++;return i};t.getPixelPrecision=function(n,t){var i=Math.log,r=Math.LN10,u=Math.floor(i(n[1]-n[0])/r),f=Math.round(i(Math.abs(t[1]-t[0]))/r);return Math.max(-u+f,0)};t.MAX_SAFE_INTEGER=9007199254740991;t.remRadian=function(n){var t=Math.PI*2;return(n%t+t)%t};t.isRadianAroundZero=function(n){return n>-i&&n<i};t.parseDate=function(n){return n instanceof Date?n:new Date(typeof n=="string"?n.replace(/-/g,"/"):Math.round(n))};t.nice=function(n,t){var f=Math.floor(Math.log(n)/Math.LN10),r=Math.pow(10,f),i=n/r,u;return u=t?i<1.5?1:i<2.5?2:i<4?3:i<7?5:10:i<1?1:i<2?2:i<3?3:i<5?5:10,u*r};n.exports=t},function(n,t,i){function r(n,t,i,r){this.parentModel=t;this.ecModel=i;this.option=n;this.init&&(arguments.length<=4?this.init(n,t,i,r):this.init.apply(this,arguments))}var f=i(3),e=i(9),u;r.prototype={constructor:r,init:null,mergeOption:function(n){f.merge(this.option,n,!0)},get:function(n,t){var i,u,r;if(!n)return this.option;for(typeof n=="string"&&(n=n.split(".")),i=this.option,u=this.parentModel,r=0;r<n.length;r++)if(i=i&&typeof i=="object"?i[n[r]]:null,i==null)break;return i==null&&u&&!t&&(i=u.get(n)),i},getShallow:function(n,t){var r=this.option,i=r&&r[n],u=this.parentModel;return i==null&&u&&!t&&(i=u.getShallow(n)),i},getModel:function(n,t){var u=this.get(n,!0),i=this.parentModel;return new r(u,t||i&&i.getModel(n),this.ecModel)},isEmpty:function(){return this.option==null},restoreData:function(){},clone:function(){var n=this.constructor;return new n(f.clone(this.option))},setReadOnly:function(n){e.setReadOnly(this,n)}};e.enableClassExtend(r);u=f.mixin;u(r,i(10));u(r,i(12));u(r,i(13));u(r,i(18));n.exports=r},function(n,t,i){function s(n,t){var i=u.slice(arguments,2);return this.superClass.prototype[t].apply(n,i)}function h(n,t,i){return this.superClass.prototype[t].apply(n,i)}var u=i(3),f={},o=".",r="___EC__COMPONENT__CONTAINER___",e=f.parseClassType=function(n){var t={main:"",sub:""};return n&&(n=n.split(o),t.main=n[0]||"",t.sub=n[1]||""),t};f.enableClassExtend=function(n,t){n.extend=function(i){var r=function(){t&&t.apply(this,arguments);n.apply(this,arguments)};return u.extend(r.prototype,i),r.extend=this.extend,r.superCall=s,r.superApply=h,u.inherits(r,this),r.superClass=this,r}};f.enableClassManagement=function(n,t){function o(n){var t=i[n.main];return t&&t[r]||(t=i[n.main]={},t[r]=!0),t}var i,f;return t=t||{},i={},n.registerClass=function(n,t){if(t)if(t=e(t),t.sub){if(t.sub!==r){var u=o(t);u[t.sub]=n}}else{if(i[t.main])throw new Error(t.main+"exists.");i[t.main]=n}return n},n.getClass=function(n,t,u){var f=i[n];if(f&&f[r]&&(f=t?f[t]:null),u&&!f)throw new Error("Component "+n+"."+(t||"")+" not exists. Load it first.");return f},n.getClassesByMainType=function(n){n=e(n);var f=[],t=i[n.main];return t&&t[r]?u.each(t,function(n,t){t!==r&&f.push(n)}):f.push(t),f},n.hasClass=function(n){return n=e(n),!!i[n.main]},n.getAllClassMainTypes=function(){var n=[];return u.each(i,function(t,i){n.push(i)}),n},n.hasSubTypes=function(n){n=e(n);var t=i[n.main];return t&&t[r]},n.parseClassType=e,t.registerWhenExtend&&(f=n.extend,f&&(n.extend=function(t){var i=f.call(this,t);return n.registerClass(i,t.type)})),n};f.setReadOnly=function(){};n.exports=f},function(n,t,i){var r=i(11)([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]);n.exports={getLineStyle:function(n){var t=r.call(this,n),i=this.getLineDash();return i&&(t.lineDash=i),t},getLineDash:function(){var n=this.get("type");return n==="solid"||n==null?null:n==="dashed"?[5,5]:[1,1]}}},function(n,t,i){var r=i(3);n.exports=function(n){for(var t=0;t<n.length;t++)n[t][1]||(n[t][1]=n[t][0]);return function(t){for(var u,f,e={},i=0;i<n.length;i++)(u=n[i][1],t&&r.indexOf(t,u)>=0)||(f=this.getShallow(u),f!=null&&(e[n[i][0]]=f));return e}}},function(n,t,i){n.exports={getAreaStyle:i(11)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]])}},function(n,t,i){function r(n,t){return n&&n.getShallow(t)}var u=i(14);n.exports={getTextColor:function(){var n=this.ecModel;return this.getShallow("color")||n&&n.get("textStyle.color")},getFont:function(){var t=this.ecModel,n=t&&t.getModel("textStyle");return[this.getShallow("fontStyle")||r(n,"fontStyle"),this.getShallow("fontWeight")||r(n,"fontWeight"),(this.getShallow("fontSize")||r(n,"fontSize")||12)+"px",this.getShallow("fontFamily")||r(n,"fontFamily")||"sans-serif"].join(" ")},getTextRect:function(n){var t=this.get("textStyle")||{};return u.getBoundingRect(n,this.getFont(),t.align,t.baseline)},ellipsis:function(n,t,i){return u.ellipsis(n,this.getFont(),t,i)}}},function(n,t,i){function r(n,t){var e=n+":"+t,h,i,r,c;if(u[e])return u[e];for(h=(n+"").split("\n"),i=0,r=0,c=h.length;r<c;r++)i=Math.max(o.measureText(h[r],t).width,i);return f>s&&(f=0,u={}),f++,u[e]=i,i}function c(n,t,i,u){var o=((n||"")+"").split("\n").length,s=r(n,t),e=r("国",t),c=o*e,f=new h(0,0,s,c);f.lineHeight=e;switch(u){case"bottom":case"alphabetic":f.y-=e;break;case"middle":f.y-=e/2}switch(i){case"end":case"right":f.x-=f.width;break;case"center":f.x-=f.width/2}return f}function l(n,t,i,r){var u=t.x,f=t.y,s=t.height,o=t.width,h=i.height,c=s/2-h/2,e="left";switch(n){case"left":u-=r;f+=c;e="right";break;case"right":u+=r+o;f+=c;e="left";break;case"top":u+=o/2;f-=r+h;e="center";break;case"bottom":u+=o/2;f+=s+r;e="center";break;case"inside":u+=o/2;f+=c;e="center";break;case"insideLeft":u+=r;f+=c;e="left";break;case"insideRight":u+=o-r;f+=c;e="right";break;case"insideTop":u+=o/2;f+=r;e="center";break;case"insideBottom":u+=o/2;f+=s-h-r;e="center";break;case"insideTopLeft":u+=r;f+=r;e="left";break;case"insideTopRight":u+=o-r;f+=r;e="right";break;case"insideBottomLeft":u+=r;f+=s-h-r;break;case"insideBottomRight":u+=o-r;f+=s-h-r;e="right"}return{x:u,y:f,textAlign:e,textBaseline:"top"}}function a(n,t,i,u){var f,o,s;if(!i)return"";for(u=e.defaults({ellipsis:"...",minCharacters:3,maxIterations:3,cnCharWidth:r("国",t),ascCharWidth:r("a",t)},u,!0),i-=r(u.ellipsis),f=(n+"").split("\n"),o=0,s=f.length;o<s;o++)f[o]=v(f[o],t,i,u);return f.join("\n")}function v(n,t,i,u){for(var e,o,f=0;;f++){if(e=r(n,t),e<i||f>=u.maxIterations){n+=u.ellipsis;break}if(o=f===0?y(n,i,u):Math.floor(n.length*i/e),o<u.minCharacters){n="";break}n=n.substr(0,o)}return n}function y(n,t,i){for(var u,f=0,r=0,e=n.length;r<e&&f<t;r++)u=n.charCodeAt(r),f+=0<=u&&u<=127?i.ascCharWidth:i.cnCharWidth;return r}var u={},f=0,s=5e3,e=i(3),h=i(15),o={getWidth:r,getBoundingRect:c,adjustTextPositionOnRect:l,ellipsis:a,measureText:function(n,t){var i=e.getContext();return i.font=t,i.measureText(n)}};n.exports=o},function(n,t,i){"use strict";function f(n,t,i,r){this.x=n;this.y=t;this.width=i;this.height=r}var h=i(16),r=i(17),e=h.applyTransform,u=Math.min,o=Math.abs,s=Math.max;f.prototype={constructor:f,union:function(n){var t=u(n.x,this.x),i=u(n.y,this.y);this.width=s(n.x+n.width,this.x+this.width)-t;this.height=s(n.y+n.height,this.y+this.height)-i;this.x=t;this.y=i},applyTransform:function(){var n=[],t=[];return function(i){i&&(n[0]=this.x,n[1]=this.y,t[0]=this.x+this.width,t[1]=this.y+this.height,e(n,n,i),e(t,t,i),this.x=u(n[0],t[0]),this.y=u(n[1],t[1]),this.width=o(t[0]-n[0]),this.height=o(t[1]-n[1]))}}(),calculateTransform:function(n){var i=this,u=n.width/i.width,f=n.height/i.height,t=r.create();return r.translate(t,t,[-i.x,-i.y]),r.scale(t,t,[u,f]),r.translate(t,t,[n.x,n.y]),t},intersect:function(n){var t=this,i=t.x,r=t.x+t.width,u=t.y,f=t.y+t.height,e=n.x,o=n.x+n.width,s=n.y,h=n.y+n.height;return!(r<e||o<i||f<s||h<u)},contain:function(n,t){var i=this;return n>=i.x&&n<=i.x+i.width&&t>=i.y&&t<=i.y+i.height},clone:function(){return new f(this.x,this.y,this.width,this.height)},copy:function(n){this.x=n.x;this.y=n.y;this.width=n.width;this.height=n.height}};n.exports=f},function(n){var i=typeof Float32Array=="undefined"?Array:Float32Array,t={create:function(n,t){var r=new i(2);return r[0]=n||0,r[1]=t||0,r},copy:function(n,t){return n[0]=t[0],n[1]=t[1],n},clone:function(n){var t=new i(2);return t[0]=n[0],t[1]=n[1],t},set:function(n,t,i){return n[0]=t,n[1]=i,n},add:function(n,t,i){return n[0]=t[0]+i[0],n[1]=t[1]+i[1],n},scaleAndAdd:function(n,t,i,r){return n[0]=t[0]+i[0]*r,n[1]=t[1]+i[1]*r,n},sub:function(n,t,i){return n[0]=t[0]-i[0],n[1]=t[1]-i[1],n},len:function(n){return Math.sqrt(this.lenSquare(n))},lenSquare:function(n){return n[0]*n[0]+n[1]*n[1]},mul:function(n,t,i){return n[0]=t[0]*i[0],n[1]=t[1]*i[1],n},div:function(n,t,i){return n[0]=t[0]/i[0],n[1]=t[1]/i[1],n},dot:function(n,t){return n[0]*t[0]+n[1]*t[1]},scale:function(n,t,i){return n[0]=t[0]*i,n[1]=t[1]*i,n},normalize:function(n,i){var r=t.len(i);return r===0?(n[0]=0,n[1]=0):(n[0]=i[0]/r,n[1]=i[1]/r),n},distance:function(n,t){return Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))},distanceSquare:function(n,t){return(n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1])},negate:function(n,t){return n[0]=-t[0],n[1]=-t[1],n},lerp:function(n,t,i,r){return n[0]=t[0]+r*(i[0]-t[0]),n[1]=t[1]+r*(i[1]-t[1]),n},applyTransform:function(n,t,i){var r=t[0],u=t[1];return n[0]=i[0]*r+i[2]*u+i[4],n[1]=i[1]*r+i[3]*u+i[5],n},min:function(n,t,i){return n[0]=Math.min(t[0],i[0]),n[1]=Math.min(t[1],i[1]),n},max:function(n,t,i){return n[0]=Math.max(t[0],i[0]),n[1]=Math.max(t[1],i[1]),n}};t.length=t.len;t.lengthSquare=t.lenSquare;t.dist=t.distance;t.distSquare=t.distanceSquare;n.exports=t},function(n){var i=typeof Float32Array=="undefined"?Array:Float32Array,t={create:function(){var n=new i(6);return t.identity(n),n},identity:function(n){return n[0]=1,n[1]=0,n[2]=0,n[3]=1,n[4]=0,n[5]=0,n},copy:function(n,t){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4],n[5]=t[5],n},mul:function(n,t,i){var r=t[0]*i[0]+t[2]*i[1],u=t[1]*i[0]+t[3]*i[1],f=t[0]*i[2]+t[2]*i[3],e=t[1]*i[2]+t[3]*i[3],o=t[0]*i[4]+t[2]*i[5]+t[4],s=t[1]*i[4]+t[3]*i[5]+t[5];return n[0]=r,n[1]=u,n[2]=f,n[3]=e,n[4]=o,n[5]=s,n},translate:function(n,t,i){return n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3],n[4]=t[4]+i[0],n[5]=t[5]+i[1],n},rotate:function(n,t,i){var f=t[0],e=t[2],o=t[4],s=t[1],h=t[3],c=t[5],r=Math.sin(i),u=Math.cos(i);return n[0]=f*u+s*r,n[1]=-f*r+s*u,n[2]=e*u+h*r,n[3]=-e*r+u*h,n[4]=u*o+r*c,n[5]=u*c-r*o,n},scale:function(n,t,i){var r=i[0],u=i[1];return n[0]=t[0]*r,n[1]=t[1]*u,n[2]=t[2]*r,n[3]=t[3]*u,n[4]=t[4]*r,n[5]=t[5]*u,n},invert:function(n,t){var r=t[0],u=t[2],o=t[4],f=t[1],e=t[3],s=t[5],i=r*e-f*u;return i?(i=1/i,n[0]=e*i,n[1]=-f*i,n[2]=-u*i,n[3]=r*i,n[4]=(u*s-e*o)*i,n[5]=(f*o-r*s)*i,n):null}};n.exports=t},function(n,t,i){n.exports={getItemStyle:i(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(n,t,i){function c(n){var t=[];return r.each(u.getClassesByMainType(n),function(n){h.apply(t,n.prototype.dependencies||[])}),r.map(t,function(n){return e.parseClassType(n).main})}var s=i(8),r=i(3),h=Array.prototype.push,f=i(20),e=i(9),o=i(21),u=s.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,init:function(){this.mergeDefaultAndTheme(this.option,this.ecModel)},mergeDefaultAndTheme:function(n,t){var i=this.layoutMode,u=i?o.getLayoutParams(n):{},f=t.getTheme();r.merge(n,f.get(this.mainType));r.merge(n,this.getDefaultOption());i&&o.mergeLayoutParam(n,u,i)},mergeOption:function(n){r.merge(this.option,n,!0);var t=this.layoutMode;t&&o.mergeLayoutParam(this.option,n,t)},optionUpdated:function(){},getDefaultOption:function(){var t,n,f,i,u;if(!this.hasOwnProperty("__defaultOption")){for(t=[],n=this.constructor;n;)f=n.prototype.defaultOption,f&&t.push(f),n=n.superClass;for(i={},u=t.length-1;u>=0;u--)i=r.merge(i,t[u],!0);this.__defaultOption=i}return this.__defaultOption}});e.enableClassExtend(u,function(n,t,i,u){r.extend(this,u);this.uid=f.getUID("componentModel")});e.enableClassManagement(u,{registerWhenExtend:!0});f.enableSubTypeDefaulter(u);f.enableTopologicalTravel(u,c);r.mixin(u,i(22));n.exports=u},function(n,t,i){var r=i(3),e=i(9),f=e.parseClassType,o=0,u={},s="_";u.getUID=function(n){return[n||"",o++,Math.random()].join(s)};u.enableSubTypeDefaulter=function(n){var t={};return n.registerSubTypeDefaulter=function(n,i){n=f(n);t[n.main]=i},n.determineSubType=function(i,r){var u=r.type,e;return u||(e=f(i).main,n.hasSubTypes(i)&&t[e]&&(u=t[e](r))),u},n};u.enableTopologicalTravel=function(n,t){function u(n){var u={},e=[];return r.each(n,function(o){var s=i(u,o),c=s.originalDeps=t(o),h=f(c,n);s.entryCount=h.length;s.entryCount===0&&e.push(o);r.each(h,function(n){r.indexOf(s.predecessor,n)<0&&s.predecessor.push(n);var t=i(u,n);r.indexOf(t.successor,n)<0&&t.successor.push(o)})}),{graph:u,noEntryList:e}}function i(n,t){return n[t]||(n[t]={predecessor:[],successor:[]}),n[t]}function f(n,t){var i=[];return r.each(n,function(n){r.indexOf(t,n)>=0&&i.push(n)}),i}n.topologicalTravel=function(n,t,i,f){function v(n){s[n].entryCount--;s[n].entryCount===0&&h.push(n)}function y(n){e[n]=!0;v(n)}if(n.length){var c=u(t),s=c.graph,h=c.noEntryList,e={};for(r.each(n,function(n){e[n]=!0});h.length;){var o=h.pop(),l=s[o],a=!!e[o];a&&(i.call(f,o,l.originalDeps.slice()),delete e[o]);r.each(l.successor,a?y:v)}r.each(e,function(){throw new Error("Circle dependency may exists");})}}};n.exports=u},function(n,t,i){"use strict";function o(n,t,i,r,u){var e=0,o=0,f;r==null&&(r=Infinity);u==null&&(u=Infinity);f=0;t.eachChild(function(s,h){var w=s.position,c=s.getBoundingRect(),b=t.childAt(h+1),l=b&&b.getBoundingRect(),a,v,y,p;(n==="horizontal"?(y=c.width+(l?-l.x+c.x:0),a=e+y,a>r||s.newline?(e=0,a=y,o+=f+i,f=c.height):f=Math.max(f,c.height)):(p=c.height+(l?-l.y+c.y:0),v=o+p,v>u||s.newline?(e+=f+i,o=0,v=p,f=c.width):f=Math.max(f,c.width)),s.newline)||(w[0]=e,w[1]=o,n==="horizontal"?e=a+i:o=v+i)})}var f=i(3),h=i(15),c=i(7),s=i(6),u=c.parsePercent,e=f.each,r={},l=["left","right","top","bottom","width","height"];r.box=o;r.vbox=f.curry(o,"vertical");r.hbox=f.curry(o,"horizontal");r.getAvailableSize=function(n,t,i){var r=t.width,f=t.height,e=u(n.x,r),o=u(n.y,f),h=u(n.x2,r),c=u(n.y2,f);return(isNaN(e)||isNaN(parseFloat(n.x)))&&(e=0),(isNaN(h)||isNaN(parseFloat(n.x2)))&&(h=r),(isNaN(o)||isNaN(parseFloat(n.y)))&&(o=0),(isNaN(c)||isNaN(parseFloat(n.y2)))&&(c=f),i=s.normalizeCssArray(i||0),{width:Math.max(h-e-i[1]-i[3],0),height:Math.max(c-o-i[0]-i[2],0)}};r.getLayoutRect=function(n,t,i){var b;i=s.normalizeCssArray(i||0);var e=t.width,o=t.height,c=u(n.left,e),l=u(n.top,o),v=u(n.right,e),y=u(n.bottom,o),r=u(n.width,e),f=u(n.height,o),p=i[2]+i[0],w=i[1]+i[3],a=n.aspect;isNaN(r)&&(r=e-v-w-c);isNaN(f)&&(f=o-y-p-l);isNaN(r)&&isNaN(f)&&(a>e/o?r=e*.8:f=o*.8);a!=null&&(isNaN(r)&&(r=a*f),isNaN(f)&&(f=r/a));isNaN(c)&&(c=e-v-r-w);isNaN(l)&&(l=o-y-f-p);switch(n.left||n.right){case"center":c=e/2-r/2-i[3];break;case"right":c=e-r-w}switch(n.top||n.bottom){case"middle":case"center":l=o/2-f/2-i[0];break;case"bottom":l=o-f-p}return c=c||0,l=l||0,isNaN(r)&&(r=e-c-(v||0)),isNaN(f)&&(f=o-l-(y||0)),b=new h(c+i[3],l+i[0],r,f),b.margin=i,b};r.positionGroup=function(n,t,i,u){var e=n.getBoundingRect();t=f.extend(f.clone(t),{width:e.width,height:e.height});t=r.getLayoutRect(t,i,u);n.position=[t.x-e.x,t.y-e.y]};r.mergeLayoutParam=function(n,t,i){function s(u){var f={},l=0,s={},a=0,v=i.ignoreSize?1:2,c,o;if(e(u,function(t){s[t]=n[t]}),e(u,function(n){r(t,n)&&(f[n]=s[n]=t[n]);h(f,n)&&l++;h(s,n)&&a++}),a!==v&&l){if(l>=v)return f;for(c=0;c<u.length;c++)if(o=u[c],!r(f,o)&&r(n,o)){f[o]=n[o];break}return f}return s}function r(n,t){return n.hasOwnProperty(t)}function h(n,t){return n[t]!=null&&n[t]!=="auto"}function c(n,t,i){e(n,function(n){t[n]=i[n]})}f.isObject(i)||(i={});var u=["width","left","right"],o=["height","top","bottom"],l=s(u),a=s(o);c(u,n,l);c(o,n,a)};r.getLayoutParams=function(n){return r.copyLayoutParams({},n)};r.copyLayoutParams=function(n,t){return t&&n&&e(l,function(i){t.hasOwnProperty(i)&&(n[i]=t[i])}),n};n.exports=r},function(n){n.exports={getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}}},function(n){var t="";typeof navigator!="undefined"&&(t=navigator.platform||"");n.exports={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],grid:{},textStyle:{fontFamily:t.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},animation:!0,animationThreshold:2e3,animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut"}},function(n,t,i){"use strict";function f(n){r.each(u,function(t){this[t]=r.bind(n[t],n)},this)}var r=i(3),u=["getDom","getZr","getWidth","getHeight","dispatchAction","on","off","getDataURL","getConnectedDataURL","getModel","getOption"];n.exports=f},function(n){"use strict";function t(){this._coordinateSystems=[]}var i={};t.prototype={constructor:t,create:function(n,t){var r=[],f,u;for(f in i)u=i[f].create(n,t),u&&(r=r.concat(u));this._coordinateSystems=r},update:function(n,t){for(var r=this._coordinateSystems,i=0;i<r.length;i++)r[i].update&&r[i].update(n,t)}};t.register=function(n,t){i[n]=t};t.get=function(n){return i[n]};n.exports=t},function(n,t,i){function s(n){this._api=n;this._timelineOptions=[];this._mediaList=[];this._mediaDefault;this._currentMediaIndices=[];this._optionBackup;this._newOptionBackup}function a(n,t){var r=[],e=[],o,i,s=n.timeline,h;return n.baseOption&&(i=n.baseOption),(s||n.options)&&(i=i||{},r=(n.options||[]).slice()),n.media&&(i=i||{},h=n.media,f(h,function(n){n&&n.option&&(n.query?e.push(n):o||(o=n))})),i||(i=n),i.timeline||(i.timeline=s),f([i].concat(r).concat(u.map(e,function(n){return n.option})),function(n){f(t,function(t){t(n)})}),{baseOption:i,timelineOptions:r,mediaDefault:o,mediaList:e}}function v(n,t,i){var f={width:t,height:i,aspectratio:t/i},r=!0;return u.each(n,function(n,t){var i=t.match(l),u,e;i&&i[1]&&i[2]&&(u=i[1],e=i[2].toLowerCase(),y(f[e],n,u)||(r=!1))}),r}function y(n,t,i){return i==="min"?n>=t:i==="max"?n<=t:n===t}function p(n,t){return n.join(",")===t.join(",")}function w(n,t){t=t||{};f(t,function(t,i){var r,u;t!=null&&(r=n[i],c.hasClass(i)?(t=o.normalizeToArray(t),r=o.normalizeToArray(r),u=o.mappingToExists(r,t),n[i]=e(u,function(n){return n.option&&n.exist?h(n.exist,n.option,!0):n.exist||n.option})):n[i]=h(r,t,!0))})}var u=i(3),o=i(5),c=i(19),f=u.each,r=u.clone,e=u.map,h=u.merge,l=/^(min|max)?(.+)$/;s.prototype={constructor:s,setOption:function(n,t){n=r(n,!0);var u=this._optionBackup,i=this._newOptionBackup=a.call(this,n,t);u?(w(u.baseOption,i.baseOption),i.timelineOptions.length&&(u.timelineOptions=i.timelineOptions),i.mediaList.length&&(u.mediaList=i.mediaList),i.mediaDefault&&(u.mediaDefault=i.mediaDefault)):this._optionBackup=i},mountOption:function(n){var t=n?this._optionBackup:this._newOptionBackup;return this._timelineOptions=e(t.timelineOptions,r),this._mediaList=e(t.mediaList,r),this._mediaDefault=r(t.mediaDefault),this._currentMediaIndices=[],r(t.baseOption)},getTimelineOption:function(n){var i,u=this._timelineOptions,t;return u.length&&(t=n.getComponent("timeline"),t&&(i=r(u[t.getCurrentIndex()],!0))),i},getMediaOption:function(){var s=this._api.getWidth(),h=this._api.getHeight(),i=this._mediaList,u=this._mediaDefault,n=[],f=[],t,o;if(!i.length&&!u)return f;for(t=0,o=i.length;t<o;t++)v(i[t].query,s,h)&&n.push(t);return!n.length&&u&&(n=[-1]),n.length&&!p(n,this._currentMediaIndices)&&(f=e(n,function(n){return r(n===-1?u.option:i[n].option)})),this._currentMediaIndices=n,f}};n.exports=s},function(n,t,i){"use strict";var r=i(3),e=i(6),u=i(5),h=i(19),f=e.encodeHTML,o=e.addCommas,s=h.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendDataProvider:null,init:function(n,t,i){this.seriesIndex=this.componentIndex;this.mergeDefaultAndTheme(n,i);this._dataBeforeProcessed=this.getInitialData(n,i);this._data=this._dataBeforeProcessed.cloneShallow()},mergeDefaultAndTheme:function(n,t){var f,i;for(r.merge(n,t.getTheme().get(this.subType)),r.merge(n,this.getDefaultOption()),u.defaultEmphasis(n.label,["position","show","textStyle","distance","formatter"]),f=n.data||[],i=0;i<f.length;i++)f[i]&&f[i].label&&u.defaultEmphasis(f[i].label,["position","show","textStyle","distance","formatter"])},mergeOption:function(n,t){n=r.merge(this.option,n,!0);var i=this.getInitialData(n,t);i&&(this._data=i,this._dataBeforeProcessed=i.cloneShallow())},getInitialData:function(){},getData:function(){return this._data},setData:function(n){this._data=n},getRawData:function(){return this._dataBeforeProcessed},getRawDataArray:function(){return this.option.data},coordDimToDataDim:function(n){return[n]},dataDimToCoordDim:function(n){return n},getBaseAxis:function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},formatTooltip:function(n,t){var e=this._data,i=this.getRawValue(n),u=r.isArray(i)?r.map(i,o).join(", "):o(i),s=e.getName(n),c=e.getItemVisual(n,"color"),h='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'+c+'"><\/span>';return t?h+f(this.name)+" : "+u:f(this.name)+"<br />"+h+(s?f(s)+" : "+u:u)},restoreData:function(){this._data=this._dataBeforeProcessed.cloneShallow()}});r.mixin(s,u.dataFormatMixin);n.exports=s},function(n,t,i){var e=i(29),o=i(20),f=i(9),r=function(){this.group=new e;this.uid=o.getUID("viewComponent")},u;r.prototype={constructor:r,init:function(){},render:function(){},dispose:function(){}};u=r.prototype;u.updateView=u.updateLayout=u.updateVisual=function(){};f.enableClassExtend(r);f.enableClassManagement(r,{registerWhenExtend:!0});n.exports=r},function(n,t,i){var u=i(3),f=i(30),e=i(15),r=function(n){n=n||{};f.call(this,n);for(var t in n)this[t]=n[t];this._children=[];this.__storage=null;this.__dirty=!0};r.prototype={constructor:r,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(n){return this._children[n]},childOfName:function(n){for(var i=this._children,t=0;t<i.length;t++)if(i[t].name===n)return i[t]},childCount:function(){return this._children.length},add:function(n){return n&&n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),this},addBefore:function(n,t){if(n&&n!==this&&n.parent!==this&&t&&t.parent===this){var i=this._children,r=i.indexOf(t);r>=0&&(i.splice(r,0,n),this._doAdd(n))}return this},_doAdd:function(n){n.parent&&n.parent.remove(n);n.parent=this;var t=this.__storage,i=this.__zr;t&&t!==n.__storage&&(t.addToMap(n),n instanceof r&&n.addChildrenToStorage(t));i&&i.refresh()},remove:function(n){var i=this.__zr,t=this.__storage,f=this._children,e=u.indexOf(f,n);return e<0?this:(f.splice(e,1),n.parent=null,t&&(t.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(t)),i&&i.refresh(),this)},removeAll:function(){for(var i=this._children,u=this.__storage,n,t=0;t<i.length;t++)n=i[t],u&&(u.delFromMap(n.id),n instanceof r&&n.delChildrenFromStorage(u)),n.parent=null;return i.length=0,this},eachChild:function(n,t){for(var u,r=this._children,i=0;i<r.length;i++)u=r[i],n.call(t,u,i);return this},traverse:function(n,t){for(var r,i=0;i<this._children.length;i++)r=this._children[i],n.call(t,r),r.type==="group"&&r.traverse(n,t);return this},addChildrenToStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.addToMap(i),i instanceof r&&i.addChildrenToStorage(n)},delChildrenFromStorage:function(n){for(var i,t=0;t<this._children.length;t++)i=this._children[t],n.delFromMap(i.id),i instanceof r&&i.delChildrenFromStorage(n)},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(n){for(var r,u,o,t=null,i=new e(0,0,0,0),s=n||this._children,h=[],f=0;f<s.length;f++)(r=s[f],r.ignore||r.invisible)||(u=r.getBoundingRect(),o=r.getLocalTransform(h),o?(i.copy(u),i.applyTransform(o),t=t||i.clone(),t.union(i)):(t=t||u.clone(),t.union(u)));return t||i}};u.inherits(r,f);n.exports=r},function(n,t,i){"use strict";var s=i(31),f=i(32),e=i(33),o=i(34),u=i(3),r=function(n){e.call(this,n);f.call(this,n);o.call(this,n);this.id=n.id||s()};r.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,drift:function(n,t){switch(this.draggable){case"horizontal":t=0;break;case"vertical":n=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]);i[4]+=n;i[5]+=t;this.decomposeTransform();this.dirty()},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(){},attrKV:function(n,t){if(n==="position"||n==="scale"||n==="origin"){if(t){var i=this[n];i||(i=this[n]=[]);i[0]=t[0];i[1]=t[1]}}else this[n]=t},hide:function(){this.ignore=!0;this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1;this.__zr&&this.__zr.refresh()},attr:function(n,t){if(typeof n=="string")this.attrKV(n,t);else if(u.isObject(n))for(var i in n)n.hasOwnProperty(i)&&this.attrKV(i,n[i]);return this.dirty(),this},setClipPath:function(n){var t=this.__zr;t&&n.addSelfToZr(t);this.clipPath&&this.clipPath!==n&&this.removeClipPath();this.clipPath=n;n.__zr=t;n.__clipTarget=this;this.dirty()},removeClipPath:function(){var n=this.clipPath;n&&(n.__zr&&n.removeSelfFromZr(n.__zr),n.__zr=null,n.__clipTarget=null,this.clipPath=null,this.dirty())},addSelfToZr:function(n){var t,i;if(this.__zr=n,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.addAnimator(t[i]);this.clipPath&&this.clipPath.addSelfToZr(n)},removeSelfFromZr:function(n){var t,i;if(this.__zr=null,t=this.animators,t)for(i=0;i<t.length;i++)n.animation.removeAnimator(t[i]);this.clipPath&&this.clipPath.removeSelfFromZr(n)}};u.mixin(r,o);u.mixin(r,e);u.mixin(r,f);n.exports=r},function(n){var t=2311;n.exports=function(){return"zr_"+t++}},function(n,t,i){var u=Array.prototype.slice,f=i(3),e=f.indexOf,r=function(){this._$handlers={}};r.prototype={constructor:r,one:function(n,t,i){var r=this._$handlers;return!t||!n?this:(r[n]||(r[n]=[]),e(r[n],n)>=0)?this:(r[n].push({h:t,one:!0,ctx:i||this}),this)},on:function(n,t,i){var r=this._$handlers;return!t||!n?this:(r[n]||(r[n]=[]),r[n].push({h:t,one:!1,ctx:i||this}),this)},isSilent:function(n){var t=this._$handlers;return t[n]&&t[n].length},off:function(n,t){var i=this._$handlers,u,r,f;if(!n)return this._$handlers={},this;if(t){if(i[n]){for(u=[],r=0,f=i[n].length;r<f;r++)i[n][r].h!=t&&u.push(i[n][r]);i[n]=u}i[n]&&i[n].length===0&&delete i[n]}else delete i[n];return this},trigger:function(n){var r,f,i,e,t;if(this._$handlers[n])for(r=arguments,f=r.length,f>3&&(r=u.call(r,1)),i=this._$handlers[n],e=i.length,t=0;t<e;){switch(f){case 1:i[t].h.call(i[t].ctx);break;case 2:i[t].h.call(i[t].ctx,r[1]);break;case 3:i[t].h.call(i[t].ctx,r[1],r[2]);break;default:i[t].h.apply(i[t].ctx,r)}i[t].one?(i.splice(t,1),e--):t++}return this},triggerWithContext:function(n){var t,e,i;if(this._$handlers[n]){t=arguments;e=t.length;e>4&&(t=u.call(t,1,t.length-1));var f=t[t.length-1],r=this._$handlers[n],o=r.length;for(i=0;i<o;){switch(e){case 1:r[i].h.call(f);break;case 2:r[i].h.call(f,t[1]);break;case 3:r[i].h.call(f,t[1],t[2]);break;default:r[i].h.apply(f,t)}r[i].one?(r.splice(i,1),o--):i++}}return this}};n.exports=r},function(n,t,i){"use strict";function f(n){return n>h||n<-h}var r=i(17),s=i(16),e=r.identity,h=5e-5,c=function(n){n=n||{};n.position||(this.position=[0,0]);n.rotation==null&&(this.rotation=0);n.scale||(this.scale=[1,1]);this.origin=this.origin||null},u=c.prototype,o;u.transform=null;u.needLocalTransform=function(){return f(this.rotation)||f(this.position[0])||f(this.position[1])||f(this.scale[0]-1)||f(this.scale[1]-1)};u.updateTransform=function(){var t=this.parent,u=t&&t.transform,i=this.needLocalTransform(),n=this.transform;if(!(i||u)){n&&e(n);return}n=n||r.create();i?this.getLocalTransform(n):e(n);u&&(i?r.mul(n,t.transform,n):r.copy(n,t.transform));this.transform=n;this.invTransform=this.invTransform||r.create();r.invert(this.invTransform,n)};u.getLocalTransform=function(n){n=n||[];e(n);var t=this.origin,f=this.scale,i=this.rotation,u=this.position;return t&&(n[4]-=t[0],n[5]-=t[1]),r.scale(n,n,f),i&&r.rotate(n,n,i),t&&(n[4]+=t[0],n[5]+=t[1]),n[4]+=u[0],n[5]+=u[1],n};u.setTransform=function(n){var t=this.transform;t&&n.transform(t[0],t[1],t[2],t[3],t[4],t[5])};o=[];u.decomposeTransform=function(){var u,n;if(this.transform){u=this.parent;n=this.transform;u&&u.transform&&(r.mul(o,u.invTransform,n),n=o);var t=n[0]*n[0]+n[1]*n[1],i=n[2]*n[2]+n[3]*n[3],e=this.position,s=this.scale;f(t-1)&&(t=Math.sqrt(t));f(i-1)&&(i=Math.sqrt(i));n[0]<0&&(t=-t);n[3]<0&&(i=-i);e[0]=n[4];e[1]=n[5];s[0]=t;s[1]=i;this.rotation=Math.atan2(-n[1]/i,n[0]/t)}};u.transformCoordToLocal=function(n,t){var i=[n,t],r=this.invTransform;return r&&s.applyTransform(i,i,r),i};u.transformCoordToGlobal=function(n,t){var i=[n,t],r=this.transform;return r&&s.applyTransform(i,i,r),i};n.exports=c},function(n,t,i){"use strict";var e=i(35),r=i(3),o=r.isString,u=r.isFunction,s=r.isObject,h=i(39),f=function(){this.animators=[]};f.prototype={constructor:f,animate:function(n,t){var o,a=!1,f=this,v=this.__zr,s,i,c,y,l,u;if(n){for(s=n.split("."),i=f,a=s[0]==="shape",c=0,y=s.length;c<y;c++)i&&(i=i[s[c]]);i&&(o=i)}else o=f;if(!o){h('Property "'+n+'" is not existed in element '+f.id);return}return l=f.animators,u=new e(o,t),u.during(function(){f.dirty(a)}).done(function(){l.splice(r.indexOf(l,u),1)}),l.push(u),v&&v.animation.addAnimator(u),u},stopAnimation:function(n){for(var t=this.animators,r=t.length,i=0;i<r;i++)t[i].stop(n);return t.length=0,this},animateTo:function(n,t,i,r,f){function c(){s--;s||f&&f()}var e,s,h;for(o(i)?(f=r,r=i,i=0):u(r)?(f=r,r="linear",i=0):u(i)?(f=i,i=0):u(t)?(f=t,t=500):t||(t=500),this.stopAnimation(),this._animateToShallow("",this,n,t,i,r,f),e=this.animators.slice(),s=e.length,s||f&&f(),h=0;h<e.length;h++)e[h].done(c).start(r)},_animateToShallow:function(n,t,i,u,f){var h={},c=0,e,o;for(e in i)t[e]!=null?s(i[e])&&!r.isArrayLike(i[e])?this._animateToShallow(n?n+"."+e:e,t[e],i[e],u,f):(h[e]=i[e],c++):i[e]!=null&&(n?(o={},o[n]={},o[n][e]=i[e],this.attr(o)):this.attr(e,i[e]));return c>0&&this.animate(n,!1).when(u==null?500:u,h).delay(f||0),this}};n.exports=f},function(n,t,i){function w(n,t){return n[t]}function b(n,t,i){n[t]=i}function f(n,t,i){return(t-n)*i+n}function o(n,t,i){return i>.5?t:n}function s(n,t,i,r,u){var s=n.length,h,e,o;if(u==1)for(e=0;e<s;e++)r[e]=f(n[e],t[e],i);else for(h=n[0].length,e=0;e<s;e++)for(o=0;o<h;o++)r[e][o]=f(n[e][o],t[e][o],i)}function h(n,t,i){var e=n.length,f=t.length,o,r;if(e!==f)if(o=e>f,o)n.length=f;else for(r=e;r<f;r++)n.push(i===1?t[r]:u.call(t[r]))}function k(n,t,i){var f,e,r,u;if(n===t)return!0;if(f=n.length,f!==t.length)return!1;if(i===1){for(r=0;r<f;r++)if(n[r]!==t[r])return!1}else for(e=n[0].length,r=0;r<f;r++)for(u=0;u<e;u++)if(n[r][u]!==t[r][u])return!1;return!0}function c(n,t,i,r,u,f,o,s,h){var a=n.length,v,c,l;if(h==1)for(c=0;c<a;c++)s[c]=e(n[c],t[c],i[c],r[c],u,f,o);else for(v=n[0].length,c=0;c<a;c++)for(l=0;l<v;l++)s[c][l]=e(n[c][l],t[c][l],i[c][l],r[c][l],u,f,o)}function e(n,t,i,r,u,f,e){var o=(i-n)*.5,s=(r-t)*.5;return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}function d(n){var f,i,t;if(r(n)){if(f=n.length,r(n[0])){for(i=[],t=0;t<f;t++)i.push(u.call(n[t]));return i}return u.call(n)}return n}function l(n){return n[0]=Math.floor(n[0]),n[1]=Math.floor(n[1]),n[2]=Math.floor(n[2]),"rgba("+n.join(",")+")"}function g(n,t,i,u,a){var ct=n._getter,kt=n._setter,ii=t==="spline",b=u.length,g,yt,pt,d,ot,wt,ni,p,st,rt,ut,ht,ft,ti,bt;if(b){var dt=u[0].value,nt=r(dt),et=!1,lt=!1,it=nt&&r(dt[0])?2:1,at;u.sort(function(n,t){return n.time-t.time});at=u[b-1].time;var tt=[],w=[],vt=u[0].value,gt=!0;for(d=0;d<b;d++)tt.push(u[d].time/at),g=u[d].value,nt&&k(g,vt,it)||!nt&&g===vt||(gt=!1),vt=g,typeof g=="string"&&(yt=y.parse(g),yt?(g=yt,et=!0):lt=!0),w.push(g);if(!gt){if(nt){for(pt=w[b-1],d=0;d<b-1;d++)h(w[d],pt,it);h(ct(n._target,a),pt,it)}return ot=0,wt=0,et&&(ft=[0,0,0,0]),ti=function(n,t){var i,u,r;if(t<wt){for(ni=Math.min(ot+1,b-1),i=ni;i>=0;i--)if(tt[i]<=t)break;i=Math.min(i,b-2)}else{for(i=ot;i<b;i++)if(tt[i]>t)break;i=Math.min(i-1,b-2)}if(ot=i,wt=t,u=tt[i+1]-tt[i],u!==0)if(p=(t-tt[i])/u,ii)if(rt=w[i],st=w[i===0?i:i-1],ut=w[i>b-2?b-1:i+1],ht=w[i>b-3?b-1:i+2],nt)c(st,rt,ut,ht,p,p*p,p*p*p,ct(n,a),it);else{if(et)r=c(st,rt,ut,ht,p,p*p,p*p*p,ft,1),r=l(ft);else{if(lt)return o(rt,ut,p);r=e(st,rt,ut,ht,p,p*p,p*p*p)}kt(n,a,r)}else if(nt)s(w[i],w[i+1],p,ct(n,a),it);else{if(et)s(w[i],w[i+1],p,ft,1),r=l(ft);else{if(lt)return o(w[i],w[i+1],p);r=f(w[i],w[i+1],p)}kt(n,a,r)}},bt=new v({target:n._target,life:at,loop:n._loop,delay:n._delay,onframe:ti,ondestroy:i}),t&&t!=="spline"&&(bt.easing=t),bt}}}var v=i(36),y=i(38),p=i(3),r=p.isArrayLike,u=Array.prototype.slice,a=function(n,t,i,r){this._tracks={};this._target=n;this._loop=t||!1;this._getter=i||w;this._setter=r||b;this._clipCount=0;this._delay=0;this._doneList=[];this._onframeList=[];this._clipList=[]};a.prototype={when:function(n,t){var r=this._tracks,i,u;for(i in t){if(!r[i]){if(r[i]=[],u=this._getter(this._target,i),u==null)continue;n!==0&&r[i].push({time:0,value:d(u)})}r[i].push({time:n,value:t[i]})}return this},during:function(n){return this._onframeList.push(n),this},_doneCallback:function(){var t,i,n;for(this._tracks={},this._clipList.length=0,t=this._doneList,i=t.length,n=0;n<i;n++)t[n].call(this)},start:function(n){var u=this,i=0,o=function(){i--;i||u._doneCallback()},r,f,t,e;for(f in this._tracks)t=g(this,n,o,this._tracks[f],f),t&&(this._clipList.push(t),i++,this.animation&&this.animation.addClip(t),r=t);return r&&(e=r.onframe,r.onframe=function(n,t){e(n,t);for(var i=0;i<u._onframeList.length;i++)u._onframeList[i](n,t)}),i||this._doneCallback(),this},stop:function(n){for(var r,t=this._clipList,u=this.animation,i=0;i<t.length;i++){if(r=t[i],n)r.onframe(this._target,1);u&&u.removeClip(r)}t.length=0},delay:function(n){return this._delay=n,this},done:function(n){return n&&this._doneList.push(n),this},getClips:function(){return this._clipList}};n.exports=a},function(n,t,i){function r(n){this._target=n.target;this._life=n.life||1e3;this._delay=n.delay||0;this._initialized=!1;this.loop=n.loop==null?!1:n.loop;this.gap=n.gap||0;this.easing=n.easing||"Linear";this.onframe=n.onframe;this.ondestroy=n.ondestroy;this.onrestart=n.onrestart}var u=i(37);r.prototype={constructor:r,step:function(n){var t;if(this._initialized||(this._startTime=(new Date).getTime()+this._delay,this._initialized=!0),t=(n-this._startTime)/this._life,!(t<0)){t=Math.min(t,1);var i=this.easing,r=typeof i=="string"?u[i]:i,f=typeof r=="function"?r(t):t;return(this.fire("frame",f),t==1)?this.loop?(this.restart(),"restart"):(this._needsRemove=!0,"destroy"):null}},restart:function(){var n=(new Date).getTime(),t=(n-this._startTime)%this._life;this._startTime=(new Date).getTime()-t+this.gap;this._needsRemove=!1},fire:function(n,t){n="on"+n;this[n]&&this[n](this._target,t)}};n.exports=r},function(n){var t={linear:function(n){return n},quadraticIn:function(n){return n*n},quadraticOut:function(n){return n*(2-n)},quadraticInOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)},cubicIn:function(n){return n*n*n},cubicOut:function(n){return--n*n*n+1},cubicInOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)},quarticIn:function(n){return n*n*n*n},quarticOut:function(n){return 1- --n*n*n*n},quarticInOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)},quinticIn:function(n){return n*n*n*n*n},quinticOut:function(n){return--n*n*n*n*n+1},quinticInOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)},sinusoidalIn:function(n){return 1-Math.cos(n*Math.PI/2)},sinusoidalOut:function(n){return Math.sin(n*Math.PI/2)},sinusoidalInOut:function(n){return.5*(1-Math.cos(Math.PI*n))},exponentialIn:function(n){return n===0?0:Math.pow(1024,n-1)},exponentialOut:function(n){return n===1?1:1-Math.pow(2,-10*n)},exponentialInOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)},circularIn:function(n){return 1-Math.sqrt(1-n*n)},circularOut:function(n){return Math.sqrt(1- --n*n)},circularInOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)},elasticIn:function(n){var i,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),-(t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/r)))},elasticOut:function(n){var i,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),t*Math.pow(2,-10*n)*Math.sin((n-i)*2*Math.PI/r)+1)},elasticInOut:function(n){var i,t=.1,r=.4;return n===0?0:n===1?1:(!t||t<1?(t=1,i=r/4):i=r*Math.asin(1/t)/(2*Math.PI),(n*=2)<1)?-.5*t*Math.pow(2,10*(n-=1))*Math.sin((n-i)*2*Math.PI/r):t*Math.pow(2,-10*(n-=1))*Math.sin((n-i)*2*Math.PI/r)*.5+1},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){var t=1.70158;return--n*n*((t+1)*n+t)+1},backInOut:function(n){var t=1.70158*1.525;return(n*=2)<1?.5*n*n*((t+1)*n-t):.5*((n-=2)*n*((t+1)*n+t)+2)},bounceIn:function(n){return 1-t.bounceOut(1-n)},bounceOut:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},bounceInOut:function(n){return n<.5?t.bounceIn(n*2)*.5:t.bounceOut(n*2-1)*.5+.5}};n.exports=t},function(n){function t(n){return n=Math.round(n),n<0?0:n>255?255:n}function a(n){return n=Math.round(n),n<0?0:n>360?360:n}function e(n){return n<0?0:n>1?1:n}function o(n){return n.length&&n.charAt(n.length-1)==="%"?t(parseFloat(n)/100*255):t(parseInt(n,10))}function u(n){return n.length&&n.charAt(n.length-1)==="%"?e(parseFloat(n)/100):e(parseFloat(n))}function s(n,t,i){return(i<0?i+=1:i>1&&(i-=1),i*6<1)?n+(t-n)*i*6:i*2<1?t:i*3<2?n+(t-n)*(2/3-i)*6:n}function i(n,t,i){return n+(t-n)*i}function r(n){var i,t,f,e;if(n){if(n=n+"",i=n.replace(/ /g,"").toLowerCase(),i in l)return l[i].slice();if(i.charAt(0)==="#")return i.length===4?(t=parseInt(i.substr(1),16),!(t>=0&&t<=4095))?void 0:[(t&3840)>>4|(t&3840)>>8,t&240|(t&240)>>4,t&15|(t&15)<<4,1]:i.length===7?(t=parseInt(i.substr(1),16),!(t>=0&&t<=16777215))?void 0:[(t&16711680)>>16,(t&65280)>>8,t&255,1]:void 0;if(f=i.indexOf("("),e=i.indexOf(")"),f!==-1&&e+1===i.length){var c=i.substr(0,f),r=i.substr(f+1,e-(f+1)).split(","),s=1;switch(c){case"rgba":if(r.length!==4)return;s=u(r.pop());case"rgb":return r.length!==3?void 0:[o(r[0]),o(r[1]),o(r[2]),s];case"hsla":return r.length!==4?void 0:(r[3]=u(r[3]),h(r));case"hsl":return r.length!==3?void 0:h(r);default:return}}return}}function h(n){var f=(parseFloat(n[0])%360+360)%360/360,e=u(n[1]),i=u(n[2]),r=i<=.5?i*(e+1):i+e-i*e,o=i*2-r,h=[t(s(o,r,f+1/3)*255),t(s(o,r,f)*255),t(s(o,r,f-1/3)*255)];return n.length===4&&(h[3]=n[3]),h}function v(n){var h;if(n){var u=n[0]/255,f=n[1]/255,e=n[2]/255,o=Math.min(u,f,e),t=Math.max(u,f,e),i=t-o,c=(t+o)/2,r,s;if(i===0)r=0,s=0;else{s=c<.5?i/(t+o):i/(2-t-o);var l=((t-u)/6+i/2)/i,a=((t-f)/6+i/2)/i,v=((t-e)/6+i/2)/i;u===t?r=v-a:f===t?r=1/3+l-v:e===t&&(r=2/3+a-l);r<0&&(r+=1);r>1&&(r-=1)}return h=[r*360,s,c],n[3]!=null&&h.push(n[3]),h}}function y(n,t){var i=r(n),u;if(i){for(u=0;u<3;u++)i[u]=t<0?i[u]*(1-t)|0:(255-i[u])*t+i[u]|0;return f(i,i.length===4?"rgba":"rgb")}}function p(n){var t=r(n);if(t)return(16777216+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function w(n,r,u){if(r&&r.length&&n>=0&&n<=1){u=u||[0,0,0,0];var s=n*(r.length-1),h=Math.floor(s),c=Math.ceil(s),f=r[h],e=r[c],o=s-h;return u[0]=t(i(f[0],e[0],o)),u[1]=t(i(f[1],e[1],o)),u[2]=t(i(f[2],e[2],o)),u[3]=t(i(f[3],e[3],o)),u}}function c(n,u,o){if(u&&u.length&&n>=0&&n<=1){var s=n*(u.length-1),a=Math.floor(s),v=Math.ceil(s),h=r(u[a]),c=r(u[v]),l=s-a,y=f([t(i(h[0],c[0],l)),t(i(h[1],c[1],l)),t(i(h[2],c[2],l)),e(i(h[3],c[3],l))],"rgba");return o?{color:y,leftIndex:a,rightIndex:v,value:s}:y}}function b(n,t){var r;if(n.length===2&&!(n[1]<n[0])){var i=c(n[0],t,!0),u=c(n[1],t,!0),f=[{color:i.color,offset:0}],e=u.value-i.value,o=Math.max(i.value,i.rightIndex),s=Math.min(u.value,u.leftIndex);for(r=o;e>0&&r<=s;r++)f.push({color:t[r],offset:(r-i.value)/e});return f.push({color:u.color,offset:1}),f}}function k(n,t,i,e){return n=r(n),n?(n=v(n),t!=null&&(n[0]=a(t)),i!=null&&(n[1]=u(i)),e!=null&&(n[2]=u(e)),f(h(n),"rgba")):void 0}function d(n,t){return n=r(n),n&&t!=null?(n[3]=e(t),f(n,"rgba")):void 0}function f(n,t){return(t==="rgb"||t==="hsv"||t==="hsl")&&(n=n.slice(0,3)),t+"("+n.join(",")+")"}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};n.exports={parse:r,lift:y,toHex:p,fastMapToColor:w,mapToColor:c,mapIntervalToColor:b,modifyHSL:k,modifyAlpha:d,stringify:f}},function(n,t,i){var r=i(40);n.exports=function(){var n;if(r.debugMode!==0)if(r.debugMode==1)for(n in arguments)throw new Error(arguments[n]);else if(r.debugMode>1)for(n in arguments)console.log(arguments[n])}},function(n){var t=1,i;typeof window!="undefined"&&(t=Math.max(window.devicePixelRatio||1,1));i={debugMode:0,devicePixelRatio:t};n.exports=i},function(n,t,i){function r(){this.group=new s;this.uid=h.getUID("viewChart")}function f(n,t){if(n&&(n.trigger(t),n.type==="group"))for(var i=0;i<n.childCount();i++)f(n.childAt(i),t)}function o(n,t,i){var u,r;t.dataIndex!=null?(r=n.getItemGraphicEl(t.dataIndex),f(r,i)):t.name?(u=n.indexOfName(t.name),r=n.getItemGraphicEl(u),f(r,i)):n.eachItemGraphicEl(function(n){f(n,i)})}var s=i(29),h=i(20),e=i(9),u;r.prototype={type:"chart",init:function(){},render:function(){},highlight:function(n,t,i,r){o(n.getData(),r,"emphasis")},downplay:function(n,t,i,r){o(n.getData(),r,"normal")},remove:function(){this.group.removeAll()},dispose:function(){}};u=r.prototype;u.updateView=u.updateLayout=u.updateVisual=function(n,t,i,r){this.render(n,t,i,r)};e.enableClassExtend(r);e.enableClassManagement(r,{registerWhenExtend:!0});n.exports=r},function(n,t,i){"use strict";function h(n){var f,u;if(!n.__isHover){if(n.__hoverStlDirty){var i=n.style.stroke,r=n.style.fill,t=n.__hoverStl,e=w.lift;t.fill=t.fill||r&&(r instanceof s?r:e(r,-.1));t.stroke=t.stroke||i&&(i instanceof s?i:e(i,-.1));f={};for(u in t)t.hasOwnProperty(u)&&(f[u]=n.style[u]);n.__normalStl=f;n.__hoverStlDirty=!1}n.setStyle(n.__hoverStl);n.z2+=1;n.__isHover=!0}}function c(n){if(n.__isHover){var t=n.__normalStl;t&&n.setStyle(t);n.z2-=1;n.__isHover=!1}}function l(n){n.type==="group"?n.traverse(function(n){n.type!=="group"&&h(n)}):h(n)}function a(n){n.type==="group"?n.traverse(function(n){n.type!=="group"&&c(n)}):c(n)}function v(n,t){n.__hoverStl=n.hoverStyle||t||{};n.__hoverStlDirty=!0}function k(){this.__isEmphasis||l(this)}function d(){this.__isEmphasis||a(this)}function g(){this.__isEmphasis=!0;l(this)}function nt(){this.__isEmphasis=!1;a(this)}function y(n,t,i,r,u){var f=n?"Update":"",e=r&&r.getShallow("animationDuration"+f),o=r&&r.getShallow("animationEasing"+f);r&&r.getShallow("animation")?t.animateTo(i,e,o,u):(t.attr(i),u&&u())}var f=i(3),e=i(43),u=Math.round,p=i(44),w=i(38),o=i(17),b=i(16),s=i(4),r={};r.Group=i(29);r.Image=i(59);r.Text=i(62);r.Circle=i(63);r.Sector=i(64);r.Ring=i(65);r.Polygon=i(66);r.Polyline=i(70);r.Rect=i(71);r.Line=i(72);r.BezierCurve=i(73);r.Arc=i(74);r.LinearGradient=i(75);r.RadialGradient=i(76);r.BoundingRect=i(15);r.extendShape=function(n){return p.extend(n)};r.extendPath=function(n,t){return e.extendFromString(n,t)};r.makePath=function(n,t,i,r){var o=e.createFromString(n,t),h=o.getBoundingRect(),s,u,f,c,l;return i&&(s=h.width/h.height,r==="center"&&(u=i.height*s,u<=i.width?f=i.height:(u=i.width,f=u/s),c=i.x+i.width/2,l=i.y+i.height/2,i.x=c-u/2,i.y=l-f/2,i.width=u,i.height=f),this.resizePath(o,i)),o};r.mergePath=e.mergePath;r.resizePath=function(n,t){if(n.applyTransform){var i=n.getBoundingRect(),r=i.calculateTransform(t);n.applyTransform(r)}};r.subPixelOptimizeLine=function(n){var i=r.subPixelOptimize,t=n.shape,f=n.style.lineWidth;return u(t.x1*2)===u(t.x2*2)&&(t.x1=t.x2=i(t.x1,f,!0)),u(t.y1*2)===u(t.y2*2)&&(t.y1=t.y2=i(t.y1,f,!0)),n};r.subPixelOptimizeRect=function(n){var i=r.subPixelOptimize,t=n.shape,u=n.style.lineWidth,o=t.x,s=t.y,f=t.width,e=t.height;return t.x=i(t.x,u,!0),t.y=i(t.y,u,!0),t.width=Math.max(i(o+f,u,!1)-t.x,f===0?0:1),t.height=Math.max(i(s+e,u,!1)-t.y,e===0?0:1),n};r.subPixelOptimize=function(n,t,i){var r=u(n*2);return(r+u(t))%2==0?r/2:(r+(i?1:-1))/2};r.setHoverStyle=function(n,t){n.type==="group"?n.traverse(function(n){n.type!=="group"&&v(n,t)}):v(n,t);n.on("mouseover",k).on("mouseout",d);n.on("emphasis",g).on("normal",nt)};r.setText=function(n,t,i){var r=t.getShallow("position")||"inside",e=r.indexOf("inside")>=0?"white":i,u=t.getModel("textStyle");f.extend(n,{textDistance:t.getShallow("distance")||5,textFont:u.getFont(),textPosition:r,textFill:u.getTextColor()||e})};r.updateProps=f.curry(y,!0);r.initProps=f.curry(y,!1);r.getTransform=function(n,t){for(var i=o.identity([]);n&&n!==t;)o.mul(i,n.getLocalTransform(),i),n=n.parent;return i};r.applyTransform=function(n,t,i){return i&&(t=o.invert([],t)),b.applyTransform([],n,t)};r.transformDirection=function(n,t,i){var f=t[4]===0||t[5]===0||t[0]===0?1:Math.abs(2*t[4]/t[0]),e=t[4]===0||t[5]===0||t[2]===0?1:Math.abs(2*t[4]/t[2]),u=[n==="left"?-f:n==="right"?f:0,n==="top"?-e:n==="bottom"?e:0];return u=r.applyTransform(u,t,i),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"};n.exports=r},function(n,t,i){function y(n,t,i,e,o,c,l,a,y,p,w){var d=y*(f/180),b=u(d)*(n-i)/2+r(d)*(t-e)/2,k=-1*r(d)*(n-i)/2+u(d)*(t-e)/2,it=b*b/(l*l)+k*k/(a*a);it>1&&(l*=s(it),a*=s(it));var ft=(o===c?-1:1)*s((l*l*a*a-l*l*k*k-a*a*b*b)/(l*l*k*k+a*a*b*b))||0,nt=ft*l*k/a,tt=ft*-a*b/l,et=(n+i)/2+u(d)*nt-r(d)*tt,ot=(t+e)/2+r(d)*nt+u(d)*tt,st=v([1,0],[(b-nt)/l,(k-tt)/a]),rt=[(b-nt)/l,(k-tt)/a],ut=[(-1*b-nt)/l,(-1*k-tt)/a],g=v(rt,ut);h(rt,ut)<=-1&&(g=f);h(rt,ut)>=1&&(g=0);c===0&&g>0&&(g=g-2*f);c===1&&g<0&&(g=g+2*f);w.addData(p,et,ot,l,a,st,g,d,c)}function b(n){var nt,b,g,a,v,tt,it,rt,ut,ft,h,l,p,w;if(!n)return[];for(nt=n.replace(/-/g," -").replace(/  /g," ").replace(/ /g,",").replace(/,,/g,","),b=0;b<o.length;b++)nt=nt.replace(new RegExp(o[b],"g"),"|"+o[b]);var et=nt.split("|"),r=0,u=0,e=new c,s=c.CMD,k;for(b=1;b<et.length;b++){var ot=et[b],d=ot.charAt(0),i=0,t=ot.slice(1).replace(/e,-/g,"e-").split(","),f;for(t.length>0&&t[0]===""&&t.shift(),g=0;g<t.length;g++)t[g]=parseFloat(t[g]);while(i<t.length&&!isNaN(t[i])){if(isNaN(t[0]))break;h=r;l=u;switch(d){case"l":r+=t[i++];u+=t[i++];f=s.L;e.addData(f,r,u);break;case"L":r=t[i++];u=t[i++];f=s.L;e.addData(f,r,u);break;case"m":r+=t[i++];u+=t[i++];f=s.M;e.addData(f,r,u);d="l";break;case"M":r=t[i++];u=t[i++];f=s.M;e.addData(f,r,u);d="L";break;case"h":r+=t[i++];f=s.L;e.addData(f,r,u);break;case"H":r=t[i++];f=s.L;e.addData(f,r,u);break;case"v":u+=t[i++];f=s.L;e.addData(f,r,u);break;case"V":u=t[i++];f=s.L;e.addData(f,r,u);break;case"C":f=s.C;e.addData(f,t[i++],t[i++],t[i++],t[i++],t[i++],t[i++]);r=t[i-2];u=t[i-1];break;case"c":f=s.C;e.addData(f,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u,t[i++]+r,t[i++]+u);r+=t[i-2];u+=t[i-1];break;case"S":a=r;v=u;p=e.len();w=e.data;k===s.C&&(a+=r-w[p-4],v+=u-w[p-3]);f=s.C;h=t[i++];l=t[i++];r=t[i++];u=t[i++];e.addData(f,a,v,h,l,r,u);break;case"s":a=r;v=u;p=e.len();w=e.data;k===s.C&&(a+=r-w[p-4],v+=u-w[p-3]);f=s.C;h=r+t[i++];l=u+t[i++];r+=t[i++];u+=t[i++];e.addData(f,a,v,h,l,r,u);break;case"Q":h=t[i++];l=t[i++];r=t[i++];u=t[i++];f=s.Q;e.addData(f,h,l,r,u);break;case"q":h=t[i++]+r;l=t[i++]+u;r+=t[i++];u+=t[i++];f=s.Q;e.addData(f,h,l,r,u);break;case"T":a=r;v=u;p=e.len();w=e.data;k===s.Q&&(a+=r-w[p-4],v+=u-w[p-3]);r=t[i++];u=t[i++];f=s.Q;e.addData(f,a,v,r,u);break;case"t":a=r;v=u;p=e.len();w=e.data;k===s.Q&&(a+=r-w[p-4],v+=u-w[p-3]);r+=t[i++];u+=t[i++];f=s.Q;e.addData(f,a,v,r,u);break;case"A":tt=t[i++];it=t[i++];rt=t[i++];ut=t[i++];ft=t[i++];h=r;l=u;r=t[i++];u=t[i++];f=s.A;y(h,l,r,u,ut,ft,tt,it,rt,f,e);break;case"a":tt=t[i++];it=t[i++];rt=t[i++];ut=t[i++];ft=t[i++];h=r;l=u;r+=t[i++];u+=t[i++];f=s.A;y(h,l,r,u,ut,ft,tt,it,rt,f,e)}}(d==="z"||d==="Z")&&(f=s.Z,e.addData(f));k=f}return e.toStatic(),e}function p(n,t){var r=b(n),i;return t=t||{},t.buildPath=function(n){n.setData(r.data);i&&w(n,i);var t=n.getContext();t&&n.rebuildPath(t)},t.applyTransform=function(n){i||(i=l.create());l.mul(i,n,i)},t}var e=i(44),c=i(48),w=i(58),l=i(17),o=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"],s=Math.sqrt,r=Math.sin,u=Math.cos,f=Math.PI,a=function(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1])},h=function(n,t){return(n[0]*t[0]+n[1]*t[1])/(a(n)*a(t))},v=function(n,t){return(n[0]*t[1]<n[1]*t[0]?-1:1)*Math.acos(h(n,t))};n.exports={createFromString:function(n,t){return new e(p(n,t))},extendFromString:function(n,t){return e.extend(p(n,t))},mergePath:function(n,t){for(var f=[],o=n.length,i,u,r=0;r<o;r++)i=n[r],i.__dirty&&i.buildPath(i.path,i.shape),f.push(i.path);return u=new e(t),u.buildPath=function(n){n.appendPath(f);var t=n.getContext();t&&n.rebuildPath(t)},u}}},function(n,t,i){function u(n){var t=n.fill;return t!=null&&t!=="none"}function o(n){var t=n.stroke;return t!=null&&t!=="none"&&n.lineWidth>0}function r(n){f.call(this,n);this.path=new l}var f=i(45),e=i(3),l=i(48),h=i(51),c=i(4),s=Math.abs;r.prototype={constructor:r,type:"path",__dirtyPath:!0,strokeContainThreshold:5,brush:function(n){n.save();var t=this.style,i=this.path,f=o(t),s=u(t);this.__dirtyPath&&(s&&t.fill instanceof c&&t.fill.updateCanvasGradient(this,n),f&&t.stroke instanceof c&&t.stroke.updateCanvasGradient(this,n));t.bind(n,this);this.setTransform(n);var r=t.lineDash,h=t.lineDashOffset,e=!!n.setLineDash;this.__dirtyPath||r&&!e&&f?(i=this.path.beginPath(n),r&&!e&&(i.setLineDash(r),i.setLineDashOffset(h)),this.buildPath(i,this.shape),this.__dirtyPath=!1):(n.beginPath(),this.path.rebuildPath(n));s&&i.fill(n);r&&e&&(n.setLineDash(r),n.lineDashOffset=h);f&&i.stroke(n);t.text!=null&&this.drawRectText(n,this.getBoundingRect());n.restore()},buildPath:function(){},getBoundingRect:function(){var i=this._rect,f=this.style,s=!i,e,n,t,r;return(s&&(e=this.path,this.__dirtyPath&&(e.beginPath(),this.buildPath(e,this.shape)),i=e.getBoundingRect()),this._rect=i,o(f))?(n=this._rectWithStroke,(this.__dirty||s)&&(n=this._rectWithStroke||(this._rectWithStroke=i.clone()),n.copy(i),t=f.lineWidth,r=f.strokeNoScale?this.getLineScale():1,u(f)||(t=Math.max(t,this.strokeContainThreshold)),r>1e-10&&(n.width+=t/r,n.height+=t/r,n.x-=t/r/2,n.y-=t/r/2)),n):i},contain:function(n,t){var s=this.transformCoordToLocal(n,t),c=this.getBoundingRect(),i=this.style,f,r,e;if(n=s[0],t=s[1],c.contain(n,t)){if(f=this.path.data,o(i)&&(r=i.lineWidth,e=i.strokeNoScale?this.getLineScale():1,e>1e-10&&(u(i)||(r=Math.max(r,this.strokeContainThreshold)),h.containStroke(f,r/e,n,t))))return!0;if(u(i))return h.contain(f,n,t)}return!1},dirty:function(n){arguments.length===0&&(n=!0);n&&(this.__dirtyPath=n,this._rect=null);this.__dirty=!0;this.__zr&&this.__zr.refresh();this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(n){return this.animate("shape",n)},attrKV:function(n,t){n==="shape"?this.setShape(t):f.prototype.attrKV.call(this,n,t)},setShape:function(n,t){var i=this.shape,r;if(i){if(e.isObject(n))for(r in n)i[r]=n[r];else i[n]=t;this.dirty(!0)}return this},getLineScale:function(){var n=this.transform;return n&&s(n[0]-1)>1e-10&&s(n[3]-1)>1e-10?Math.sqrt(s(n[0]*n[3]-n[2]*n[1])):1}};r.extend=function(n){var i=function(t){var i,f,u;if(r.call(this,t),n.style&&this.style.extendFrom(n.style,!1),i=n.shape,i){this.shape=this.shape||{};f=this.shape;for(u in i)!f.hasOwnProperty(u)&&i.hasOwnProperty(u)&&(f[u]=i[u])}n.init&&n.init.call(this,t)},t;e.inherits(i,r);for(t in n)t!=="style"&&t!=="shape"&&(i.prototype[t]=n[t]);return i};e.inherits(r,f);n.exports=r},function(n,t,i){function r(n){n=n||{};u.call(this,n);for(var t in n)n.hasOwnProperty(t)&&t!=="style"&&(this[t]=n[t]);this.style=new e(n.style);this._rect=null;this.__clipPaths=[]}var f=i(3),e=i(46),u=i(30),o=i(47);r.prototype={constructor:r,type:"displayable",__dirty:!0,invisible:!1,z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,beforeBrush:function(){},afterBrush:function(){},brush:function(){},getBoundingRect:function(){},contain:function(n,t){return this.rectContain(n,t)},traverse:function(n,t){n.call(t,this)},rectContain:function(n,t){var i=this.transformCoordToLocal(n,t),r=this.getBoundingRect();return r.contain(i[0],i[1])},dirty:function(){this.__dirty=!0;this._rect=null;this.__zr&&this.__zr.refresh()},animateStyle:function(n){return this.animate("style",n)},attrKV:function(n,t){n!=="style"?u.prototype.attrKV.call(this,n,t):this.style.set(t)},setStyle:function(n,t){return this.style.set(n,t),this.dirty(!1),this}};f.inherits(r,u);f.mixin(r,o);n.exports=r},function(n){var t=["lineCap","lineJoin","miterLimit","shadowBlur","shadowOffsetX","shadowOffsetY","shadowColor"],i=function(n){this.extendFrom(n)},u,f,r;for(i.prototype={constructor:i,fill:"#000000",stroke:null,opacity:1,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,textFill:"#000",textStroke:null,textPosition:"inside",textBaseline:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,bind:function(n,i){for(var f,o,u=this.fill,r=this.stroke,e=0;e<t.length;e++)f=t[e],this[f]!=null&&(n[f]=this[f]);r!=null&&(o=this.lineWidth,n.lineWidth=o/(this.strokeNoScale&&i&&i.getLineScale?i.getLineScale():1));u!=null&&(n.fillStyle=u.canvasGradient?u.canvasGradient:u);r!=null&&(n.strokeStyle=r.canvasGradient?r.canvasGradient:r);this.opacity!=null&&(n.globalAlpha=this.opacity)},extendFrom:function(n,t){var r,i;if(n){r=this;for(i in n)n.hasOwnProperty(i)&&(t||!r.hasOwnProperty(i))&&(r[i]=n[i])}},set:function(n,t){typeof n=="string"?this[n]=t:this.extendFrom(n,!0)},clone:function(){var n=new this.constructor;return n.extendFrom(this,!0),n}},u=i.prototype,r=0;r<t.length;r++)f=t[r],f in u||(u[f]=null);n.exports=i},function(n,t,i){function e(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n}function o(n,t){n.transform(t[0],t[1],t[2],t[3],t[4],t[5])}var f=i(14),s=i(15),r=new s,u=function(){};u.prototype={constructor:u,drawRectText:function(n,t,i){var u=this.style,l=u.text,a,tt,v,b,k,d,y;if(l!=null&&(l+=""),l){var p,s,w=u.textPosition,it=u.textDistance,h=u.textAlign,g=u.textFont||u.font,c=u.textBaseline,nt=u.textVerticalAlign;if(i=i||f.getBoundingRect(l,g,h,c),a=this.transform,tt=this.invTransform,a&&(r.copy(t),r.applyTransform(a),t=r,o(n,tt)),w instanceof Array?(p=t.x+e(w[0],t.width),s=t.y+e(w[1],t.height),h=h||"left",c=c||"top"):(v=f.adjustTextPositionOnRect(w,t,i,it),p=v.x,s=v.y,h=h||v.textAlign,c=c||v.textBaseline),n.textAlign=h,nt){switch(nt){case"middle":s-=i.height/2;break;case"bottom":s-=i.height}n.textBaseline="top"}else n.textBaseline=c;for(b=u.textFill,k=u.textStroke,b&&(n.fillStyle=b),k&&(n.strokeStyle=k),n.font=g,n.shadowColor=u.textShadowColor,n.shadowBlur=u.textShadowBlur,n.shadowOffsetX=u.textShadowOffsetX,n.shadowOffsetY=u.textShadowOffsetY,d=l.split("\n"),y=0;y<d.length;y++)b&&n.fillText(d[y],p,s),k&&n.strokeText(d[y],p,s),s+=i.lineHeight;a&&o(n,a)}}};n.exports=u},function(n,t,i){"use strict";var b=i(49),y=i(16),s=i(50),k=i(15),r={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},u=[],o=[],f=[],e=[],p=Math.min,w=Math.max,l=Math.cos,a=Math.sin,h=Math.sqrt,v=typeof Float32Array!="undefined",c=function(){this.data=[];this._len=0;this._ctx=null;this._xi=0;this._yi=0;this._x0=0;this._y0=0};c.prototype={constructor:c,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,getContext:function(){return this._ctx},beginPath:function(n){return this._ctx=n,n&&n.beginPath(),this._len=0,this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(n,t){return this.addData(r.M,n,t),this._ctx&&this._ctx.moveTo(n,t),this._x0=n,this._y0=t,this._xi=n,this._yi=t,this},lineTo:function(n,t){return this.addData(r.L,n,t),this._ctx&&(this._needsDash()?this._dashedLineTo(n,t):this._ctx.lineTo(n,t)),this._xi=n,this._yi=t,this},bezierCurveTo:function(n,t,i,u,f,e){return this.addData(r.C,n,t,i,u,f,e),this._ctx&&(this._needsDash()?this._dashedBezierTo(n,t,i,u,f,e):this._ctx.bezierCurveTo(n,t,i,u,f,e)),this._xi=f,this._yi=e,this},quadraticCurveTo:function(n,t,i,u){return this.addData(r.Q,n,t,i,u),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(n,t,i,u):this._ctx.quadraticCurveTo(n,t,i,u)),this._xi=i,this._yi=u,this},arc:function(n,t,i,u,f,e){return this.addData(r.A,n,t,i,i,u,f-u,0,e?0:1),this._ctx&&this._ctx.arc(n,t,i,u,f,e),this._xi=l(f)*i+n,this._xi=a(f)*i+n,this},arcTo:function(n,t,i,r,u){return this._ctx&&this._ctx.arcTo(n,t,i,r,u),this},rect:function(n,t,i,u){return this._ctx&&this._ctx.rect(n,t,i,u),this.addData(r.R,n,t,i,u),this},closePath:function(){this.addData(r.Z);var n=this._ctx,t=this._x0,i=this._y0;return n&&(this._needsDash()&&this._dashedLineTo(t,i),n.closePath()),this._xi=t,this._yi=i,this},fill:function(n){n&&n.fill();this.toStatic()},stroke:function(n){n&&n.stroke();this.toStatic()},setLineDash:function(n){var i,t;if(n instanceof Array){for(this._lineDash=n,this._dashIdx=0,i=0,t=0;t<n.length;t++)i+=n[t];this._dashSum=i}return this},setLineDashOffset:function(n){return this._dashOffset=n,this},len:function(){return this._len},setData:function(n){var i=n.length,t;for(this.data&&this.data.length==i||!v||(this.data=new Float32Array(i)),t=0;t<i;t++)this.data[t]=n[t];this._len=i},appendPath:function(n){var t,u,i;n instanceof Array||(n=[n]);var f=n.length,e=0,r=this._len;for(t=0;t<f;t++)e+=n[t].len();for(v&&this.data instanceof Float32Array&&(this.data=new Float32Array(r+e)),t=0;t<f;t++)for(u=n[t].data,i=0;i<u.length;i++)this.data[r++]=u[i];this._len=r},addData:function(n){var i=this.data,t;for(this._len+arguments.length>i.length&&(this._expandData(),i=this.data),t=0;t<arguments.length;t++)i[this._len++]=arguments[t];this._prevCmd=n},_expandData:function(){var t,n;if(!(this.data instanceof Array)){for(t=[],n=0;n<this._len;n++)t[n]=this.data[n];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(n,t){var l=this._dashSum,f=this._dashOffset,a=this._lineDash,b=this._ctx,o=this._xi,v=this._yi,i=n-o,r=t-v,y=h(i*i+r*r),u=o,e=v,c,k=a.length,s;for(i/=y,r/=y,f<0&&(f=l+f),f%=l,u-=f*i,e-=f*r;i>=0&&u<=n||i<0&&u>n;)(s=this._dashIdx,c=a[s],u+=i*c,e+=r*c,this._dashIdx=(s+1)%k,i>0&&u<o||i<0&&u>o)||b[s%2?"moveTo":"lineTo"](i>=0?p(u,n):w(u,n),r>=0?p(e,t):w(e,t));i=u-n;r=e-t;this._dashOffset=-h(i*i+r*r)},_dashedBezierTo:function(n,t,i,r,u,f){var tt=this._dashSum,s=this._dashOffset,p=this._lineDash,w=this._ctx,k=this._xi,d=this._yi,e,c,l,a=b.cubicAt,g=0,o=this._dashIdx,it=p.length,v,y,nt=0;for(s<0&&(s=tt+s),s%=tt,e=0;e<1;e+=.1)c=a(k,n,i,u,e+.1)-a(k,n,i,u,e),l=a(d,t,r,f,e+.1)-a(d,t,r,f,e),g+=h(c*c+l*l);for(;o<it;o++)if(nt+=p[o],nt>s)break;for(e=(nt-s)/g;e<=1;)v=a(k,n,i,u,e),y=a(d,t,r,f,e),o%2?w.moveTo(v,y):w.lineTo(v,y),e+=p[o]/g,o=(o+1)%it;o%2!=0&&w.lineTo(u,f);c=u-v;l=f-y;this._dashOffset=-h(c*c+l*l)},_dashedQuadraticTo:function(n,t,i,r){var u=i,f=r;i=(i+2*n)/3;r=(r+2*t)/3;n=(this._xi+2*n)/3;t=(this._yi+2*t)/3;this._dashedBezierTo(n,t,i,r,u,f)},toStatic:function(){var n=this.data;n instanceof Array&&(n.length=this._len,v&&(this.data=new Float32Array(n)))},getBoundingRect:function(){var n,tt,it,rt;u[0]=u[1]=f[0]=f[1]=Number.MAX_VALUE;o[0]=o[1]=e[0]=e[1]=-Number.MAX_VALUE;var t=this.data,i=0,h=0,c=0,v=0;for(n=0;n<t.length;){tt=t[n++];n==1&&(i=t[n],h=t[n+1],c=i,v=h);switch(tt){case r.M:c=t[n++];v=t[n++];i=c;h=v;f[0]=c;f[1]=v;e[0]=c;e[1]=v;break;case r.L:s.fromLine(i,h,t[n],t[n+1],f,e);i=t[n++];h=t[n++];break;case r.C:s.fromCubic(i,h,t[n++],t[n++],t[n++],t[n++],t[n],t[n+1],f,e);i=t[n++];h=t[n++];break;case r.Q:s.fromQuadratic(i,h,t[n++],t[n++],t[n],t[n+1],f,e);i=t[n++];h=t[n++];break;case r.A:var w=t[n++],b=t[n++],d=t[n++],g=t[n++],p=t[n++],nt=t[n++]+p,ft=t[n++],ut=1-t[n++];n==1&&(c=l(p)*d+w,v=a(p)*g+b);s.fromArc(w,b,d,g,p,nt,ut,f,e);i=l(nt)*d+w;h=a(nt)*g+b;break;case r.R:c=i=t[n++];v=h=t[n++];it=t[n++];rt=t[n++];s.fromLine(c,v,c+it,v+rt,f,e);break;case r.Z:i=c;h=v}y.min(u,u,f);y.max(o,o,e)}return n===0&&(u[0]=u[1]=o[0]=o[1]=0),new k(u[0],u[1],o[0]-u[0],o[1]-u[1])},rebuildPath:function(n){for(var h,i=this.data,t=0;t<this._len;){h=i[t++];switch(h){case r.M:n.moveTo(i[t++],i[t++]);break;case r.L:n.lineTo(i[t++],i[t++]);break;case r.C:n.bezierCurveTo(i[t++],i[t++],i[t++],i[t++],i[t++],i[t++]);break;case r.Q:n.quadraticCurveTo(i[t++],i[t++],i[t++],i[t++]);break;case r.A:var o=i[t++],s=i[t++],u=i[t++],f=i[t++],e=i[t++],c=i[t++],l=i[t++],a=i[t++],v=u>f?u:f,y=u>f?1:u/f,p=u>f?f/u:1,w=Math.abs(u-f)>.001;w?(n.translate(o,s),n.rotate(l),n.scale(y,p),n.arc(0,0,v,e,e+c,1-a),n.scale(1/y,1/p),n.rotate(-l),n.translate(-o,-s)):n.arc(o,s,v,e,e+c,1-a);break;case r.R:n.rect(i[t++],i[t++],i[t++],i[t++]);break;case r.Z:n.closePath()}}}};c.CMD=r;n.exports=c},function(n,t,i){"use strict";function s(n){return n>-a&&n<a}function k(n){return n>a||n<-a}function f(n,t,i,r,u){var f=1-u;return f*f*(f*n+3*u*t)+u*u*(u*r+3*f*i)}function d(n,t,i,r,u){var f=1-u;return 3*(((t-n)*f+2*(i-t)*u)*f+(r-i)*u*u)}function g(n,t,i,r,u,f){var c=r+3*(t-i)-n,e=3*(i-t*2+n),k=3*(t-n),ft=n-u,a=e*e-3*c*k,p=e*k-9*c*ft,st=k*k-3*e*ft,y=0,nt,h;if(s(a)&&s(p))s(e)?f[0]=0:(h=-k/e,h>=0&&h<=1&&(f[y++]=h));else if(nt=p*p-4*a*st,s(nt)){var et=p/a,h=-e/c+et,w=-et/2;h>=0&&h<=1&&(f[y++]=h);w>=0&&w<=1&&(f[y++]=w)}else if(nt>0){var ot=o(nt),d=a*e+1.5*c*(-p+ot),g=a*e+1.5*c*(-p-ot);d=d<0?-l(-d,v):l(d,v);g=g<0?-l(-g,v):l(g,v);h=(-e-(d+g))/(3*c);h>=0&&h<=1&&(f[y++]=h)}else{var ht=(2*a*e-3*c*p)/(2*o(a*a*a)),tt=Math.acos(ht)/3,it=o(a),rt=Math.cos(tt),h=(-e-2*it*rt)/(3*c),w=(-e+it*(rt+b*Math.sin(tt)))/(3*c),ut=(-e+it*(rt-b*Math.sin(tt)))/(3*c);h>=0&&h<=1&&(f[y++]=h);w>=0&&w<=1&&(f[y++]=w);ut>=0&&ut<=1&&(f[y++]=ut)}return y}function nt(n,t,i,r,u){var f=6*i-12*t+6*n,h=9*t+3*r-3*n-9*i,v=3*t-3*n,c=0,e,l;if(s(h))k(f)&&(e=-v/f,e>=0&&e<=1&&(u[c++]=e));else if(l=f*f-4*h*v,s(l))u[0]=-f/(2*h);else if(l>0){var y=o(l),e=(-f+y)/(2*h),a=(-f-y)/(2*h);e>=0&&e<=1&&(u[c++]=e);a>=0&&a<=1&&(u[c++]=a)}return c}function tt(n,t,i,r,u,f){var e=(t-n)*u+n,o=(i-t)*u+t,h=(r-i)*u+i,s=(o-e)*u+e,c=(h-o)*u+o,l=(c-s)*u+s;f[0]=n;f[1]=e;f[2]=s;f[3]=l;f[4]=l;f[5]=c;f[6]=h;f[7]=r}function it(n,t,i,e,s,l,a,v,y,p,b){var d,rt=.005,k=Infinity,tt,it,g,ut,nt,ft;for(u[0]=y,u[1]=p,nt=0;nt<1;nt+=.05)r[0]=f(n,i,s,a,nt),r[1]=f(t,e,l,v,nt),g=h(u,r),g<k&&(d=nt,k=g);for(k=Infinity,ft=0;ft<32;ft++){if(rt<w)break;tt=d-rt;it=d+rt;r[0]=f(n,i,s,a,tt);r[1]=f(t,e,l,v,tt);g=h(r,u);tt>=0&&g<k?(d=tt,k=g):(c[0]=f(n,i,s,a,it),c[1]=f(t,e,l,v,it),ut=h(c,u),it<=1&&ut<k?(d=it,k=ut):rt*=.5)}return b&&(b[0]=f(n,i,s,a,d),b[1]=f(t,e,l,v,d)),o(k)}function e(n,t,i,r){var u=1-r;return u*(u*n+2*r*t)+r*r*i}function rt(n,t,i,r){return 2*((1-r)*(t-n)+r*(i-t))}function ut(n,t,i,r,u){var h=n-2*t+i,e=2*(t-n),v=n-r,c=0,l,f;if(s(h))k(e)&&(f=-v/e,f>=0&&f<=1&&(u[c++]=f));else if(l=e*e-4*h*v,s(l))f=-e/(2*h),f>=0&&f<=1&&(u[c++]=f);else if(l>0){var y=o(l),f=(-e+y)/(2*h),a=(-e-y)/(2*h);f>=0&&f<=1&&(u[c++]=f);a>=0&&a<=1&&(u[c++]=a)}return c}function ft(n,t,i){var r=n+i-2*t;return r===0?.5:(n-t)/r}function et(n,t,i,r,u){var f=(t-n)*r+n,e=(i-t)*r+t,o=(e-f)*r+f;u[0]=n;u[1]=f;u[2]=o;u[3]=o;u[4]=e;u[5]=i}function ot(n,t,i,f,s,l,a,v,y){var b,tt=.005,p=Infinity,k,it,g,nt,d,rt;for(u[0]=a,u[1]=v,k=0;k<1;k+=.05)r[0]=e(n,i,s,k),r[1]=e(t,f,l,k),d=h(u,r),d<p&&(b=k,p=d);for(p=Infinity,it=0;it<32;it++){if(tt<w)break;g=b-tt;nt=b+tt;r[0]=e(n,i,s,g);r[1]=e(t,f,l,g);d=h(r,u);g>=0&&d<p?(b=g,p=d):(c[0]=e(n,i,s,nt),c[1]=e(t,f,l,nt),rt=h(c,u),nt<=1&&rt<p?(b=nt,p=rt):tt*=.5)}return y&&(y[0]=e(n,i,s,b),y[1]=e(t,f,l,b)),o(p)}var p=i(16),y=p.create,h=p.distSquare,l=Math.pow,o=Math.sqrt,a=1e-8,w=.0001,b=o(3),v=1/3,u=y(),r=y(),c=y();n.exports={cubicAt:f,cubicDerivativeAt:d,cubicRootAt:g,cubicExtrema:nt,cubicSubdivide:tt,cubicProjectPoint:it,quadraticAt:e,quadraticDerivativeAt:rt,quadraticRootAt:ut,quadraticExtremum:ft,quadraticSubdivide:et,quadraticProjectPoint:ot}},function(n,t,i){var o=i(16),s=i(49),e={},r=Math.min,u=Math.max,a=Math.sin,v=Math.cos,h=o.create(),c=o.create(),l=o.create(),f=Math.PI*2,y,p;e.fromPoints=function(n,t,i){if(n.length!==0){for(var f=n[0],o=f[0],s=f[0],h=f[1],c=f[1],e=1;e<n.length;e++)f=n[e],o=r(o,f[0]),s=u(s,f[0]),h=r(h,f[1]),c=u(c,f[1]);t[0]=o;t[1]=h;i[0]=s;i[1]=c}};e.fromLine=function(n,t,i,f,e,o){e[0]=r(n,i);e[1]=r(t,f);o[0]=u(n,i);o[1]=u(t,f)};y=[];p=[];e.fromCubic=function(n,t,i,f,e,o,h,c,l,a){var d=s.cubicExtrema,g=s.cubicAt,v,w=d(n,i,e,h,y),b,k;for(l[0]=Infinity,l[1]=Infinity,a[0]=-Infinity,a[1]=-Infinity,v=0;v<w;v++)b=g(n,i,e,h,y[v]),l[0]=r(b,l[0]),a[0]=u(b,a[0]);for(w=d(t,f,o,c,p),v=0;v<w;v++)k=g(t,f,o,c,p[v]),l[1]=r(k,l[1]),a[1]=u(k,a[1]);l[0]=r(n,l[0]);a[0]=u(n,a[0]);l[0]=r(h,l[0]);a[0]=u(h,a[0]);l[1]=r(t,l[1]);a[1]=u(t,a[1]);l[1]=r(c,l[1]);a[1]=u(c,a[1])};e.fromQuadratic=function(n,t,i,f,e,o,h,c){var l=s.quadraticExtremum,a=s.quadraticAt,p=u(r(l(n,i,e),1),0),w=u(r(l(t,f,o),1),0),v=a(n,i,e,p),y=a(t,f,o,w);h[0]=r(n,e,v);h[1]=r(t,o,y);c[0]=u(n,e,v);c[1]=u(t,o,y)};e.fromArc=function(n,t,i,r,u,e,s,y,p){var b=o.min,k=o.max,d=Math.abs(u-e),g,w;if(d%f<.0001&&d>.0001){y[0]=n-i;y[1]=t-r;p[0]=n+i;p[1]=t+r;return}for(h[0]=v(u)*i+n,h[1]=a(u)*r+t,c[0]=v(e)*i+n,c[1]=a(e)*r+t,b(y,h,c),k(p,h,c),u=u%f,u<0&&(u=u+f),e=e%f,e<0&&(e=e+f),u>e&&!s?e+=f:u<e&&s&&(u+=f),s&&(g=e,e=u,u=g),w=0;w<e;w+=Math.PI/2)w>u&&(l[0]=v(w)*i+n,l[1]=a(w)*r+t,b(y,l,y),k(p,l,p))};n.exports=e},function(n,t,i){"use strict";function b(n,t){return Math.abs(n-t)<w}function k(){var n=r[0];r[0]=r[1];r[1]=n}function d(n,t,i,e,o,s,h,c,l,a){var b,d,v,y,g,w,p,nt;if(a>t&&a>e&&a>s&&a>c||a<t&&a<e&&a<s&&a<c||(b=f.cubicRootAt(t,e,s,c,a,u),b===0))return 0;for(d=0,v=-1,w=0;w<b;w++)(p=u[w],nt=f.cubicAt(n,i,o,h,p),nt<l)||(v<0&&(v=f.cubicExtrema(t,e,s,c,r),r[1]<r[0]&&v>1&&k(),y=f.cubicAt(t,e,s,c,r[0]),v>1&&(g=f.cubicAt(t,e,s,c,r[1]))),d+=v==2?p<r[0]?y<t?1:-1:p<r[1]?g<y?1:-1:c<g?1:-1:p<r[0]?y<t?1:-1:c<y?1:-1);return d}function g(n,t,i,r,e,o,s,h){var v,c,y,p,l,a;if(h>t&&h>r&&h>o||h<t&&h<r&&h<o||(v=f.quadraticRootAt(t,r,o,h,u),v===0))return 0;if(c=f.quadraticExtremum(t,r,o),c>=0&&c<=1){for(y=0,p=f.quadraticAt(t,r,o,c),l=0;l<v;l++)(a=f.quadraticAt(n,i,e,u[l]),a<s)||(y+=u[l]<c?p<t?1:-1:o<p?1:-1);return y}return(a=f.quadraticAt(n,i,e,u[0]),a<s)?0:o<t?1:-1}function nt(n,t,i,r,f,e,o,s){var p,v,w,y,b,l,a;if((s-=t,s>i||s<-i)||(v=Math.sqrt(i*i-s*s),u[0]=-v,u[1]=v,p=Math.abs(r-f),p<.0001))return 0;if(p%h<.0001)return r=0,f=h,a=e?1:-1,o>=u[0]+n&&o<=u[1]+n?a:0;for(e?(v=r,r=c(f),f=c(v)):(r=c(r),f=c(f)),r>f&&(f+=h),w=0,y=0;y<2;y++)b=u[y],b+n>o&&(l=Math.atan2(s,b),a=e?1:-1,l<0&&(l=h+l),(l>=r&&l<=f||l+h>=r&&l+h<=f)&&(l>Math.PI/2&&l<Math.PI*1.5&&(a=-a),w+=a));return w}function l(n,t,i,r,u){for(var ot,ht,w=0,c=0,h=0,a=0,l=0,f=0;f<n.length;){if(ot=n[f++],ot===e.M&&f>1&&(i||(w+=o(c,h,a,l,r,u)),w!==0))return!0;f==1&&(c=n[f],h=n[f+1],a=c,l=h);switch(ot){case e.M:a=n[f++];l=n[f++];c=a;h=l;break;case e.L:if(i){if(s(c,h,n[f],n[f+1],t,r,u))return!0}else w+=o(c,h,n[f],n[f+1],r,u)||0;c=n[f++];h=n[f++];break;case e.C:if(i){if(v.containStroke(c,h,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else w+=d(c,h,n[f++],n[f++],n[f++],n[f++],n[f],n[f+1],r,u)||0;c=n[f++];h=n[f++];break;case e.Q:if(i){if(y.containStroke(c,h,n[f++],n[f++],n[f],n[f+1],t,r,u))return!0}else w+=g(c,h,n[f++],n[f++],n[f],n[f+1],r,u)||0;c=n[f++];h=n[f++];break;case e.A:var rt=n[f++],ft=n[f++],st=n[f++],ut=n[f++],it=n[f++],et=n[f++],vt=n[f++],ct=1-n[f++],k=Math.cos(it)*st+rt,tt=Math.sin(it)*ut+ft;if(f>1?w+=o(c,h,k,tt,r,u):(a=k,l=tt),ht=(r-rt)*ut/st+rt,i){if(p.containStroke(rt,ft,ut,it,it+et,ct,t,ht,u))return!0}else w+=nt(rt,ft,ut,it,it+et,ct,ht,u);c=Math.cos(it+et)*st+rt;h=Math.sin(it+et)*ut+ft;break;case e.R:a=c=n[f++];l=h=n[f++];var lt=n[f++],at=n[f++],k=a+lt,tt=l+at;if(i){if(s(a,l,k,l,t,r,u)||s(k,l,k,tt,t,r,u)||s(k,tt,a,tt,t,r,u)||s(a,tt,k,tt,t,r,u))return!0}else w+=o(k,l,k,tt,r,u),w+=o(a,tt,a,l,r,u);break;case e.Z:if(i){if(s(c,h,a,l,t,r,u))return!0}else if(w+=o(c,h,a,l,r,u),w!==0)return!0;c=a;h=l}}return i||b(h,l)||(w+=o(c,h,a,l,r,u)||0),w!==0}var e=i(48).CMD,a=i(52),v=i(53),y=i(54),p=i(55),c=i(56).normalizeRadian,f=i(49),o=i(57),s=a.containStroke,h=Math.PI*2,w=.0001,u=[-1,-1,-1],r=[-1,-1];n.exports={contain:function(n,t,i){return l(n,0,!1,t,i)},containStroke:function(n,t,i,r){return l(n,t,!0,i,r)}}},function(n){n.exports={containStroke:function(n,t,i,r,u,f,e){var h,l;if(u===0)return!1;var o=u,s=0,c=n;if(e>t+o&&e>r+o||e<t-o&&e<r-o||f>n+o&&f>i+o||f<n-o&&f<i-o)return!1;if(n!==i)s=(t-r)/(n-i),c=(n*r-i*t)/(n-i);else return Math.abs(f-n)<=o/2;return h=s*f-e+c,l=h*h/(s*s+1),l<=o/2*o/2}}},function(n,t,i){var r=i(49);n.exports={containStroke:function(n,t,i,u,f,e,o,s,h,c,l){var a,v;return h===0?!1:(a=h,l>t+a&&l>u+a&&l>e+a&&l>s+a||l<t-a&&l<u-a&&l<e-a&&l<s-a||c>n+a&&c>i+a&&c>f+a&&c>o+a||c<n-a&&c<i-a&&c<f-a&&c<o-a)?!1:(v=r.cubicProjectPoint(n,t,i,u,f,e,o,s,c,l,null),v<=a/2)}}},function(n,t,i){var r=i(49);n.exports={containStroke:function(n,t,i,u,f,e,o,s,h){var c,l;return o===0?!1:(c=o,h>t+c&&h>u+c&&h>e+c||h<t-c&&h<u-c&&h<e-c||s>n+c&&s>i+c&&s>f+c||s<n-c&&s<i-c&&s<f-c)?!1:(l=r.quadraticProjectPoint(n,t,i,u,f,e,s,h,null),l<=c/2)}}},function(n,t,i){var u=i(56).normalizeRadian,r=Math.PI*2;n.exports={containStroke:function(n,t,i,f,e,o,s,h,c){var a,v,y,l;return s===0?!1:(a=s,h-=n,c-=t,v=Math.sqrt(h*h+c*c),v-a>i||v+a<i)?!1:Math.abs(f-e)%r<.0001?!0:(o?(y=f,f=u(e),e=u(y)):(f=u(f),e=u(e)),f>e&&(e+=r),l=Math.atan2(c,h),l<0&&(l+=r),l>=f&&l<=e||l+r>=f&&l+r<=e)}}},function(n){var t=Math.PI*2;n.exports={normalizeRadian:function(n){return n%=t,n<0&&(n+=t),n}}},function(n){n.exports=function(n,t,i,r,u,f){if(f>t&&f>r||f<t&&f<r||r===t)return 0;var e=r<t?1:-1,o=(f-t)/(r-t),s=o*(i-n)+n;return s>u?e:0}},function(n,t,i){function h(n,t){for(var i=n.data,v,l,a,b=r.M,k=r.C,d=r.L,g=r.R,nt=r.A,tt=r.Q,e,h=0,c=0;h<i.length;){v=i[h++];c=h;l=0;switch(v){case b:l=1;break;case d:l=1;break;case k:l=3;break;case tt:l=2;break;case nt:var it=t[4],rt=t[5],y=f(t[0]*t[0]+t[1]*t[1]),p=f(t[2]*t[2]+t[3]*t[3]),w=s(-t[1]/p,t[0]/y);i[h++]+=it;i[h++]+=rt;i[h++]*=y;i[h++]*=p;i[h++]+=w;i[h++]+=w;h+=2;c=h;break;case g:e[0]=i[h++];e[1]=i[h++];u(e,e,t);i[c++]=e[0];i[c++]=e[1];e[0]+=i[h++];e[1]+=i[h++];u(e,e,t);i[c++]=e[0];i[c++]=e[1]}for(a=0;a<l;a++)e=o[a],e[0]=i[h++],e[1]=i[h++],u(e,e,t),i[c++]=e[0],i[c++]=e[1]}}var r=i(48).CMD,e=i(16),u=e.applyTransform,o=[[],[],[]],f=Math.sqrt,s=Math.atan2;n.exports=h},function(n,t,i){function r(n){u.call(this,n)}var u=i(45),e=i(15),o=i(3),s=i(60),h=i(61),f=new h(50);r.prototype={constructor:r,type:"image",brush:function(n){var t=this.style,u=t.image,i,r,h,c;if(i=typeof u=="string"?this._image:u,!i&&u)if(r=f.get(u),r){if(i=r.image,this._image=i,!i.width||!i.height){r.pending.push(this);return}}else{i=new Image;i.onload=function(){i.onload=null;for(var n=0;n<r.pending.length;n++)r.pending[n].dirty()};r={image:i,pending:[this]};i.src=u;f.put(u,r);this._image=i;return}if(i){var e=t.width||i.width,o=t.height||i.height,l=t.x||0,a=t.y||0;if(!i.width||!i.height)return;if(n.save(),t.bind(n),this.setTransform(n),t.r&&(n.beginPath(),s.buildPath(n,t),n.clip()),t.sWidth&&t.sHeight)h=t.sx||0,c=t.sy||0,n.drawImage(i,h,c,t.sWidth,t.sHeight,l,a,e,o);else if(t.sx&&t.sy){var h=t.sx,c=t.sy,v=e-h,y=o-c;n.drawImage(i,h,c,v,y,l,a,e,o)}else n.drawImage(i,l,a,e,o);t.width==null&&(t.width=e);t.height==null&&(t.height=o);t.text!=null&&this.drawRectText(n,this.getBoundingRect());n.restore()}},getBoundingRect:function(){var n=this.style;return this._rect||(this._rect=new e(n.x||0,n.y||0,n.width||0,n.height||0)),this._rect}};o.inherits(r,u);n.exports=r},function(n){n.exports={buildPath:function(n,t){var e=t.x,o=t.y,i=t.width,r=t.height,u=t.r,f,s,h,c,l;i<0&&(e=e+i,i=-i);r<0&&(o=o+r,r=-r);typeof u=="number"?f=s=h=c=u:u instanceof Array?u.length===1?f=s=h=c=u[0]:u.length===2?(f=h=u[0],s=c=u[1]):u.length===3?(f=u[0],s=c=u[1],h=u[2]):(f=u[0],s=u[1],h=u[2],c=u[3]):f=s=h=c=0;f+s>i&&(l=f+s,f*=i/l,s*=i/l);h+c>i&&(l=h+c,h*=i/l,c*=i/l);s+h>r&&(l=s+h,s*=r/l,h*=r/l);f+c>r&&(l=f+c,f*=r/l,c*=r/l);n.moveTo(e+f,o);n.lineTo(e+i-s,o);s!==0&&n.quadraticCurveTo(e+i,o,e+i,o+s);n.lineTo(e+i,o+r-h);h!==0&&n.quadraticCurveTo(e+i,o+r,e+i-h,o+r);n.lineTo(e+c,o+r);c!==0&&n.quadraticCurveTo(e,o+r,e,o+r-c);n.lineTo(e,o+f);f!==0&&n.quadraticCurveTo(e,o,e+f,o)}}},function(n){var r=function(){this.head=null;this.tail=null;this._len=0},t=r.prototype;t.insert=function(n){var t=new f(n);return this.insertEntry(t),t};t.insertEntry=function(n){this.head?(this.tail.next=n,n.prev=this.tail,this.tail=n):this.head=this.tail=n;this._len++};t.remove=function(n){var t=n.prev,i=n.next;t?t.next=i:this.head=i;i?i.prev=t:this.tail=t;n.next=n.prev=null;this._len--};t.len=function(){return this._len};var f=function(n){this.value=n;this.next;this.prev},u=function(n){this._list=new r;this._map={};this._maxSize=n||10},i=u.prototype;i.put=function(n,t){var i=this._list,r=this._map,u,f,e;r[n]==null&&(u=i.len(),u>=this._maxSize&&u>0&&(f=i.head,i.remove(f),delete r[f.key]),e=i.insert(t),e.key=n,r[n]=e)};i.get=function(n){var t=this._map[n],i=this._list;if(t!=null)return t!==i.tail&&(i.remove(t),i.insertEntry(t)),t.value};i.clear=function(){this._list.clear();this._map={}};n.exports=u},function(n,t,i){var f=i(45),e=i(3),u=i(14),r=function(n){f.call(this,n)};r.prototype={constructor:r,type:"text",brush:function(n){var t=this.style,c=t.x||0,i=t.y||0,r=t.text,o=t.fill,s=t.stroke,h,l,e,f;if(r!=null&&(r+=""),r){if(n.save(),this.style.bind(n),this.setTransform(n),o&&(n.fillStyle=o),s&&(n.strokeStyle=s),n.font=t.textFont||t.font,n.textAlign=t.textAlign,t.textVerticalAlign){h=u.getBoundingRect(r,n.font,t.textAlign,"top");n.textBaseline="top";switch(t.textVerticalAlign){case"middle":i-=h.height/2;break;case"bottom":i-=h.height}}else n.textBaseline=t.textBaseline;for(l=u.measureText("国",n.font).width,e=r.split("\n"),f=0;f<e.length;f++)o&&n.fillText(e[f],c,i),s&&n.strokeText(e[f],c,i),i+=l;n.restore()}},getBoundingRect:function(){if(!this._rect){var n=this.style,i=n.textVerticalAlign,t=u.getBoundingRect(n.text+"",n.textFont||n.font,n.textAlign,i?"top":n.textBaseline);switch(i){case"middle":t.y-=t.height/2;break;case"bottom":t.y-=t.height}t.x+=n.x||0;t.y+=n.y||0;this._rect=t}return this._rect}};e.inherits(r,f);n.exports=r},function(n,t,i){"use strict";n.exports=i(44).extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(n,t){n.moveTo(t.cx+t.r,t.cy);n.arc(t.cx,t.cy,t.r,0,Math.PI*2,!0);return}})},function(n,t,i){n.exports=i(44).extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},buildPath:function(n,t){var r=t.cx,u=t.cy,i=Math.max(t.r0||0,0),o=Math.max(t.r,0),f=t.startAngle,e=t.endAngle,s=t.clockwise,h=Math.cos(f),c=Math.sin(f);n.moveTo(h*i+r,c*i+u);n.lineTo(h*o+r,c*o+u);n.arc(r,u,o,f,e,!s);n.lineTo(Math.cos(e)*i+r,Math.sin(e)*i+u);i!==0&&n.arc(r,u,i,e,f,s);n.closePath()}})},function(n,t,i){n.exports=i(44).extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=Math.PI*2;n.moveTo(i+t.r,r);n.arc(i,r,t.r,0,u,!1);n.moveTo(i+t.r0,r);n.arc(i,r,t.r0,0,u,!0)}})},function(n,t,i){var r=i(67);n.exports=i(44).extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(n,t){r.buildPath(n,t,!0)}})},function(n,t,i){var r=i(68),u=i(69);n.exports={buildPath:function(n,t,i){var f=t.points,o=t.smooth,h,s,e,v;if(f&&f.length>=2){if(o&&o!=="spline")for(h=u(f,o,i,t.smoothConstraint),n.moveTo(f[0][0],f[0][1]),s=f.length,e=0;e<(i?s:s-1);e++){var c=h[e*2],l=h[e*2+1],a=f[(e+1)%s];n.bezierCurveTo(c[0],c[1],l[0],l[1],a[0],a[1])}else for(o==="spline"&&(f=r(f,i)),n.moveTo(f[0][0],f[0][1]),e=1,v=f.length;e<v;e++)n.lineTo(f[e][0],f[e][1]);i&&n.closePath()}}}},function(n,t,i){function r(n,t,i,r,u,f,e){var o=(i-n)*.5,s=(r-t)*.5;return(2*(t-i)+o+s)*e+(-3*(t-i)-2*o-s)*f+o*u+t}var u=i(16);n.exports=function(n,t){for(var o,a,v,i=n.length,y=[],p=0,e=1;e<i;e++)p+=u.distance(n[e-1],n[e]);for(o=p/2,o=o<i?i:o,e=0;e<o;e++){var w=e/(o-1)*(t?i:i-1),f=Math.floor(w),s=w-f,h,b=n[f%i],c,l;t?(h=n[(f-1+i)%i],c=n[(f+1)%i],l=n[(f+2)%i]):(h=n[f===0?f:f-1],c=n[f>i-2?i-1:f+1],l=n[f>i-3?i-1:f+2]);a=s*s;v=s*a;y.push([r(h[0],b[0],c[0],l[0],s,a,v),r(h[1],b[1],c[1],l[1],s,a,v)])}return y}},function(n,t,i){var r=i(16),u=r.min,f=r.max,e=r.scale,o=r.distance,s=r.add;n.exports=function(n,t,i,h){var y=[],b=[],rt=[],ut=[],d,g,l,a,c,v,k,p,w;if(h){for(l=[Infinity,Infinity],a=[-Infinity,-Infinity],c=0,v=n.length;c<v;c++)u(l,l,n[c]),f(a,a,n[c]);u(l,l,h[0]);f(a,a,h[1])}for(c=0,v=n.length;c<v;c++){if(k=n[c],i)d=n[c?c-1:v-1],g=n[(c+1)%v];else if(c===0||c===v-1){y.push(r.clone(n[c]));continue}else d=n[c-1],g=n[c+1];r.sub(b,g,d);e(b,b,t);var nt=o(k,d),tt=o(k,g),it=nt+tt;it!==0&&(nt/=it,tt/=it);e(rt,b,-nt);e(ut,b,tt);p=s([],k,rt);w=s([],k,ut);h&&(f(p,p,l),u(p,p,a),f(w,w,l),u(w,w,a));y.push(p);y.push(w)}return i&&y.push(y.shift()),y}},function(n,t,i){var r=i(67);n.exports=i(44).extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(n,t){r.buildPath(n,t,!1)}})},function(n,t,i){var r=i(60);n.exports=i(44).extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(n,t){var i=t.x,u=t.y,f=t.width,e=t.height;t.r?r.buildPath(n,t):n.rect(i,u,f,e);n.closePath();return}})},function(n,t,i){n.exports=i(44).extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var f=t.x1,e=t.y1,r=t.x2,u=t.y2,i=t.percent;i!==0&&(n.moveTo(f,e),i<1&&(r=f*(1-i)+r*i,u=e*(1-i)+u*i),n.lineTo(r,u))},pointAt:function(n){var t=this.shape;return[t.x1*(1-n)+t.x2*n,t.y1*(1-n)+t.y2*n]}})},function(n,t,i){"use strict";var u=i(49),f=u.quadraticSubdivide,e=u.cubicSubdivide,o=u.quadraticAt,s=u.cubicAt,r=[];n.exports=i(44).extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(n,t){var a=t.x1,v=t.y1,u=t.x2,o=t.y2,s=t.cpx1,h=t.cpy1,c=t.cpx2,l=t.cpy2,i=t.percent;i!==0&&(n.moveTo(a,v),c==null||l==null?(i<1&&(f(a,s,u,i,r),s=r[1],u=r[2],f(v,h,o,i,r),h=r[1],o=r[2]),n.quadraticCurveTo(s,h,u,o)):(i<1&&(e(a,s,c,u,i,r),s=r[1],c=r[2],u=r[3],e(v,h,l,o,i,r),h=r[1],l=r[2],o=r[3]),n.bezierCurveTo(s,h,c,l,u,o)))},pointAt:function(n){var t=this.shape,i=t.cpx2,r=t.cpy2;return i===null||r===null?[o(t.x1,t.cpx1,t.x2,n),o(t.y1,t.cpy1,t.y2,n)]:[s(t.x1,t.cpx1,t.cpx1,t.x2,n),s(t.y1,t.cpy1,t.cpy1,t.y2,n)]}})},function(n,t,i){n.exports=i(44).extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:Math.PI*2,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(n,t){var u=t.cx,f=t.cy,i=Math.max(t.r,0),r=t.startAngle,e=t.endAngle,o=t.clockwise,s=Math.cos(r),h=Math.sin(r);n.moveTo(s*i+u,h*i+f);n.arc(u,f,i,r,e,!o)}})},function(n,t,i){"use strict";var f=i(3),u=i(4),r=function(n,t,i,r,f){this.x=n==null?0:n;this.y=t==null?0:t;this.x2=i==null?1:i;this.y2=r==null?0:r;u.call(this,f)};r.prototype={constructor:r,type:"linear",updateCanvasGradient:function(n,t){for(var i=n.getBoundingRect(),e=this.x*i.width+i.x,o=this.x2*i.width+i.x,s=this.y*i.height+i.y,h=this.y2*i.height+i.y,f=t.createLinearGradient(e,s,o,h),u=this.colorStops,r=0;r<u.length;r++)f.addColorStop(u[r].offset,u[r].color);this.canvasGradient=f}};f.inherits(r,u);n.exports=r},function(n,t,i){"use strict";var f=i(3),u=i(4),r=function(n,t,i,r){this.x=n==null?.5:n;this.y=t==null?.5:t;this.r=i==null?.5:i;u.call(this,r)};r.prototype={constructor:r,type:"radial",updateCanvasGradient:function(n,t){for(var i=n.getBoundingRect(),f=i.width,e=i.height,c=Math.min(f,e),o=this.x*f+i.x,s=this.y*e+i.y,l=this.r*c,h=t.createRadialGradient(o,s,0,o,s,l),u=this.colorStops,r=0;r<u.length;r++)h.addColorStop(u[r].offset,u[r].color);this.canvasGradient=h}};f.inherits(r,u);n.exports=r},function(n,t,i){
/*!
	 * ZRender, a high performance 2d drawing library.
	 *
	 * Copyright (c) 2013, Baidu Inc.
	 * All rights reserved.
	 *
	 * LICENSE
	 * https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
	 */
function v(n){delete u[n]}var o=i(31),s=i(78),h=i(79),c=i(83),l=i(84),a=!s.canvasSupported,f={canvas:i(85)},u={},r={},e;r.version="3.0.8";r.init=function(n,t){var i=new e(o(),n,t);return u[i.id]=i,i};r.dispose=function(n){if(n)n.dispose();else{for(var t in u)u[t].dispose();u={}}return r};r.getInstance=function(n){return u[n]};r.registerPainter=function(n,t){f[n]=t};e=function(n,t,i){var o,v,y;i=i||{};this.dom=t;this.id=n;var e=this,r=new c,u=i.renderer;if(a){if(!f.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");u="vml"}else u&&f[u]||(u="canvas");o=new f[u](t,r,i);this.storage=r;this.painter=o;s.node||(this.handler=new h(o.getViewportRoot(),r,o));this.animation=new l({stage:{update:function(){e._needsRefresh&&e.refreshImmediately()}}});this.animation.start();this._needsRefresh;v=r.delFromMap;y=r.addToMap;r.delFromMap=function(n){var t=r.get(n);v.call(r,n);t&&t.removeSelfFromZr(e)};r.addToMap=function(n){y.call(r,n);n.addSelfToZr(e)}};e.prototype={constructor:e,getId:function(){return this.id},add:function(n){this.storage.addRoot(n);this._needsRefresh=!0},remove:function(n){this.storage.delRoot(n);this._needsRefresh=!0},configLayer:function(n,t){this.painter.configLayer(n,t);this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=!1;this.painter.refresh();this._needsRefresh=!1},refresh:function(){this._needsRefresh=!0},resize:function(){this.painter.resize();this.handler&&this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},toDataURL:function(n,t,i){return this.painter.toDataURL(n,t,i)},pathToImage:function(n,t,i){var r=o();return this.painter.pathToImage(r,n,t,i)},setDefaultCursorStyle:function(n){this.handler.setDefaultCursorStyle(n)},on:function(n,t,i){this.handler&&this.handler.on(n,t,i)},off:function(n,t){this.handler&&this.handler.off(n,t)},trigger:function(n,t){this.handler&&this.handler.trigger(n,t)},clear:function(){this.storage.delRoot();this.painter.clear()},dispose:function(){this.animation.stop();this.clear();this.storage.dispose();this.painter.dispose();this.handler&&this.handler.dispose();this.animation=this.storage=this.painter=this.handler=null;v(this.id)}};n.exports=r},function(n){function i(n){var t={},i={},c=n.match(/Web[kK]it[\/]{0,1}([\d.]+)/),f=n.match(/(Android);?[\s\/]+([\d.]+)?/),e=n.match(/(iPad).*OS\s([\d_]+)/),o=n.match(/(iPod)(.*OS\s([\d_]+))?/),l=!e&&n.match(/(iPhone\sOS)\s([\d_]+)/),s=n.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=s&&n.match(/TouchPad/),p=n.match(/Kindle\/([\d.]+)/),a=n.match(/Silk\/([\d._]+)/),v=n.match(/(BlackBerry).*Version\/([\d.]+)/),y=n.match(/(BB10).*Version\/([\d.]+)/),w=n.match(/(RIM\sTablet\sOS)\s([\d.]+)/),b=n.match(/PlayBook/),r=n.match(/Chrome\/([\d.]+)/)||n.match(/CriOS\/([\d.]+)/),h=n.match(/Firefox\/([\d.]+)/),g=c&&n.match(/Mobile\//)&&!r,nt=n.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/)&&!r,u=n.match(/MSIE\s([\d.]+)/)||n.match(/Trident\/.+?rv:(([\d.]+))/),k=n.match(/Edge\/([\d.]+)/);return(i.webkit=!!c)&&(i.version=c[1]),f&&(t.android=!0,t.version=f[2]),l&&!o&&(t.ios=t.iphone=!0,t.version=l[2].replace(/_/g,".")),e&&(t.ios=t.ipad=!0,t.version=e[2].replace(/_/g,".")),o&&(t.ios=t.ipod=!0,t.version=o[3]?o[3].replace(/_/g,"."):null),s&&(t.webos=!0,t.version=s[2]),d&&(t.touchpad=!0),v&&(t.blackberry=!0,t.version=v[2]),y&&(t.bb10=!0,t.version=y[2]),w&&(t.rimtabletos=!0,t.version=w[2]),b&&(i.playbook=!0),p&&(t.kindle=!0,t.version=p[1]),a&&(i.silk=!0,i.version=a[1]),!a&&t.android&&n.match(/Kindle Fire/)&&(i.silk=!0),r&&(i.chrome=!0,i.version=r[1]),h&&(i.firefox=!0,i.version=h[1]),u&&(i.ie=!0,i.version=u[1]),g&&(n.match(/Safari/)||!!t.ios)&&(i.safari=!0),nt&&(i.webview=!0),u&&(i.ie=!0,i.version=u[1]),k&&(i.edge=!0,i.version=k[1]),t.tablet=!!(e||b||f&&!n.match(/Mobile/)||h&&n.match(/Tablet/)||u&&!n.match(/Phone/)&&n.match(/Touch/)),t.phone=!!(!t.tablet&&!t.ipod&&(f||l||s||v||y||r&&n.match(/Android/)||r&&n.match(/CriOS\/([\d.]+)/)||h&&n.match(/Mobile/)||u&&n.match(/Touch/))),{browser:i,os:t,node:!1,canvasSupported:document.createElement("canvas").getContext?!0:!1,touchEventsSupported:"ontouchstart"in window&&!i.ie&&!i.edge,pointerEventsSupported:"onpointerdown"in window&&(i.edge||i.ie&&i.version>=10)}}var t={};t=typeof navigator=="undefined"?{browser:{},os:{},node:!0,canvasSupported:!0}:i(navigator.userAgent);n.exports=t},function(n,t,i){"use strict";function tt(n,t,i){return{type:n,event:i,target:t,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta}}function c(n,t,i){var u=n._gestureMgr,r,f;i==="start"&&u.clear();r=u.recognize(t,n.findHover(t.zrX,t.zrY,null));i==="end"&&u.clear();r&&(f=r.type,t.gestureEvent=f,n._dispatchProxy(r.target,f,r.event))}function it(n){function f(n,t){return function(){if(!t._touching)return n.apply(t,arguments)}}for(var i,u=h.concat(p),t=0;t<u.length;t++)i=u[t],n._handlers[i]=e.bind(r[i],n);for(t=0;t<o.length;t++)i=o[t],n._handlers[i]=f(r[i],n)}function rt(n,t,i){if(n[n.rectHover?"rectContain":"contain"](t,i)){for(var r=n;r;){if(r.silent||r.clipPath&&!r.clipPath.contain(t,i))return!1;r=r.parent}return!0}return!1}function l(n){n._touching=!0;clearTimeout(n._touchTimer);n._touchTimer=setTimeout(function(){n._touching=!1},700)}function w(){return!1}function ut(){return a.touchEventsSupported}function b(n){return n==="mousewheel"&&a.browser.firefox?"DOMMouseScroll":n}var a=i(78),s=i(80),e=i(3),v=i(81),k=i(82),y=i(32),o=["click","dblclick","mousewheel","mouseout"],r,f;w()||o.push("mouseup","mousedown","mousemove");var h=["touchstart","touchend","touchmove"],p=["pointerdown","pointerup","pointermove"],d=300,g=s.addEventListener,nt=s.removeEventListener,u=s.normalizeEvent;r={mousemove:function(n){n=u(this.root,n);var r=n.zrX,f=n.zrY,t=this.findHover(r,f,null),i=this._hovered;this._hovered=t;this.root.style.cursor=t?t.cursor:this._defaultCursorStyle;i&&t!==i&&i.__zr&&this._dispatchProxy(i,"mouseout",n);this._dispatchProxy(t,"mousemove",n);t&&t!==i&&this._dispatchProxy(t,"mouseover",n)},mouseout:function(n){n=u(this.root,n);var t=n.toElement||n.relatedTarget;if(t!=this.root)while(t&&t.nodeType!=9){if(t===this.root)return;t=t.parentNode}this._dispatchProxy(this._hovered,"mouseout",n);this.trigger("globalout",{event:n})},touchstart:function(n){n=u(this.root,n);this._lastTouchMoment=new Date;c(this,n,"start");r.mousemove.call(this,n);r.mousedown.call(this,n);l(this)},touchmove:function(n){n=u(this.root,n);c(this,n,"change");r.mousemove.call(this,n);l(this)},touchend:function(n){n=u(this.root,n);c(this,n,"end");r.mouseup.call(this,n);+new Date-this._lastTouchMoment<d&&r.click.call(this,n);l(this)}};e.each(["click","mousedown","mouseup","mousewheel","dblclick"],function(n){r[n]=function(t){t=u(this.root,t);var i=this.findHover(t.zrX,t.zrY,null);this._dispatchProxy(i,n,t)}});f=function(n,t,i){function r(t,i){e.each(t,function(t){g(n,b(t),i._handlers[t])},i)}y.call(this);this.root=n;this.storage=t;this.painter=i;this._hovered;this._lastTouchMoment;this._lastX;this._lastY;this._defaultCursorStyle="default";this._gestureMgr=new k;this._handlers=[];this._touching=!1;this._touchTimer;it(this);w()?r(p,this):ut()&&r(h,this);r(o,this);v.call(this)};f.prototype={constructor:f,resize:function(){this._hovered=null},dispatch:function(n,t){var i=this._handlers[n];i&&i.call(this,t)},dispose:function(){for(var t,r=this.root,i=o.concat(h),n=0;n<i.length;n++)t=i[n],nt(r,b(t),this._handlers[t]);this.root=this.storage=this.painter=null},setDefaultCursorStyle:function(n){this._defaultCursorStyle=n},_dispatchProxy:function(n,t,i){for(var f="on"+t,r=tt(t,n,i),u=n;u;)if(u[f]&&(r.cancelBubble=u[f].call(u,r)),u.trigger(t,r),u=u.parent,r.cancelBubble)break;r.cancelBubble||(this.trigger(t,r),this.painter&&this.painter.eachOtherLayer(function(n){typeof n[f]=="function"&&n[f].call(n,r);n.trigger&&n.trigger(t,r)}))},findHover:function(n,t,i){for(var u=this.storage.getDisplayList(),r=u.length-1;r>=0;r--)if(!u[r].silent&&u[r]!==i&&!u[r].ignore&&rt(u[r],n,t))return u[r]}};e.mixin(f,y);e.mixin(f,v);n.exports=f},function(n,t,i){"use strict";function u(n){return n.getBoundingClientRect?n.getBoundingClientRect():{left:0,top:0}}function e(n,t){var i,o,f,r,e;return(t=t||window.event,t.zrX!=null)?t:(i=t.type,o=i&&i.indexOf("touch")>=0,o?(r=i!="touchend"?t.targetTouches[0]:t.changedTouches[0],r&&(e=u(n),t.zrX=r.clientX-e.left,t.zrY=r.clientY-e.top)):(f=u(n),t.zrX=t.clientX-f.left,t.zrY=t.clientY-f.top,t.zrDelta=t.wheelDelta?t.wheelDelta/120:-(t.detail||0)/3),t)}function o(n,t,i){r?n.addEventListener(t,i):n.attachEvent("on"+t,i)}function s(n,t,i){r?n.removeEventListener(t,i):n.detachEvent("on"+t,i)}var f=i(32),r=typeof window!="undefined"&&!!window.addEventListener,h=r?function(n){n.preventDefault();n.stopPropagation();n.cancelBubble=!0}:function(n){n.returnValue=!1;n.cancelBubble=!0};n.exports={normalizeEvent:e,addEventListener:o,removeEventListener:s,stop:h,Dispatcher:f}},function(n){function t(){this.on("mousedown",this._dragStart,this);this.on("mousemove",this._drag,this);this.on("mouseup",this._dragEnd,this);this.on("globalout",this._dragEnd,this)}t.prototype={constructor:t,_dragStart:function(n){var t=n.target;t&&t.draggable&&(this._draggingTarget=t,t.dragging=!0,this._x=n.offsetX,this._y=n.offsetY,this._dispatchProxy(t,"dragstart",n.event))},_drag:function(n){var i=this._draggingTarget,t,r;if(i){var u=n.offsetX,f=n.offsetY,e=u-this._x,o=f-this._y;this._x=u;this._y=f;i.drift(e,o,n);this._dispatchProxy(i,"drag",n.event);t=this.findHover(u,f,i);r=this._dropTarget;this._dropTarget=t;i!==t&&(r&&t!==r&&this._dispatchProxy(r,"dragleave",n.event),t&&t!==r&&this._dispatchProxy(t,"dragenter",n.event))}},_dragEnd:function(n){var t=this._draggingTarget;t&&(t.dragging=!1);this._dispatchProxy(t,"dragend",n.event);this._dropTarget&&this._dispatchProxy(this._dropTarget,"drop",n.event);this._draggingTarget=null;this._dropTarget=null}};n.exports=t},function(n){"use strict";function r(n){var t=n[1][0]-n[0][0],i=n[1][1]-n[0][1];return Math.sqrt(t*t+i*i)}function u(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}var i=function(){this._track=[]},t;i.prototype={constructor:i,recognize:function(n,t){return this._doTrack(n,t),this._recognize(n)},clear:function(){return this._track.length=0,this},_doTrack:function(n,t){var f=n.touches,i,r,e,u;if(f){for(i={points:[],touches:[],target:t,event:n},r=0,e=f.length;r<e;r++)u=f[r],i.points.push([u.clientX,u.clientY]),i.touches.push(u);this._track.push(i)}},_recognize:function(n){var i,r;for(i in t)if(t.hasOwnProperty(i)&&(r=t[i](this._track,n),r))return r}};t={pinch:function(n,t){var o=n.length,i,f,e,s;if(o)return i=(n[o-1]||{}).points,f=(n[o-2]||{}).points||i,f&&f.length>1&&i&&i.length>1?(e=r(i)/r(f),isFinite(e)||(e=1),t.pinchScale=e,s=u(i),t.pinchX=s[0],t.pinchY=s[1],{type:"pinch",target:n[0].target,event:t}):void 0}};n.exports=i},function(n,t,i){"use strict";function e(n,t){return n.zlevel===t.zlevel?n.z===t.z?n.z2===t.z2?n.__renderidx-t.__renderidx:n.z2-t.z2:n.z-t.z:n.zlevel-t.zlevel}var f=i(3),r=i(29),u=function(){this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0};u.prototype={constructor:u,getDisplayList:function(n,t){return t=t||!1,n&&this.updateDisplayList(t),this._displayList},updateDisplayList:function(n){var u,i,t,r;for(this._displayListLen=0,u=this._roots,i=this._displayList,t=0,r=u.length;t<r;t++)this._updateAndAddDisplayable(u[t],null,n);for(i.length=this._displayListLen,t=0,r=i.length;t<r;t++)i[t].__renderidx=t;i.sort(e)},_updateAndAddDisplayable:function(n,t,i){var r,e,u,f;if(!n.ignore||i)if(n.beforeUpdate(),n.update(),n.afterUpdate(),r=n.clipPath,r&&(r.parent=n,r.updateTransform(),t?(t=t.slice(),t.push(r)):t=[r]),n.type=="group"){for(e=n._children,u=0;u<e.length;u++)f=e[u],f.__dirty=n.__dirty||f.__dirty,this._updateAndAddDisplayable(f,t,i);n.__dirty=!1}else n.__clipPaths=t,this._displayList[this._displayListLen++]=n},addRoot:function(n){this._elements[n.id]||(n instanceof r&&n.addChildrenToStorage(this),this.addToMap(n),this._roots.push(n))},delRoot:function(n){var u,t,o,i,e;if(n==null){for(t=0;t<this._roots.length;t++)u=this._roots[t],u instanceof r&&u.delChildrenFromStorage(this);this._elements={};this._roots=[];this._displayList=[];this._displayListLen=0;return}if(n instanceof Array){for(t=0,o=n.length;t<o;t++)this.delRoot(n[t]);return}i=typeof n=="string"?this._elements[n]:n;e=f.indexOf(this._roots,i);e>=0&&(this.delFromMap(i.id),this._roots.splice(e,1),i instanceof r&&i.delChildrenFromStorage(this))},addToMap:function(n){return n instanceof r&&(n.__storage=this),n.dirty(),this._elements[n.id]=n,this},get:function(n){return this._elements[n]},delFromMap:function(n){var i=this._elements,t=i[n];return t&&(delete i[n],t instanceof r&&(t.__storage=null)),this},dispose:function(){this._elements=this._renderList=this._roots=null}};n.exports=u},function(n,t,i){"use strict";var u=i(3),f=i(80).Dispatcher,e=typeof window!="undefined"&&(window.requestAnimationFrame||window.msRequestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(n){setTimeout(n,16)},o=i(35),r=function(n){n=n||{};this.stage=n.stage||{};this.onframe=n.onframe||function(){};this._clips=[];this._running=!1;this._time=0;f.call(this)};r.prototype={constructor:r,addClip:function(n){this._clips.push(n)},addAnimator:function(n){var i,t;for(n.animation=this,i=n.getClips(),t=0;t<i.length;t++)this.addClip(i[t])},removeClip:function(n){var t=u.indexOf(this._clips,n);t>=0&&this._clips.splice(t,1)},removeAnimator:function(n){for(var i=n.getClips(),t=0;t<i.length;t++)this.removeClip(i[t]);n.animation=null},_update:function(){for(var f,e,r=(new Date).getTime(),o=r-this._time,t=this._clips,i=t.length,u=[],s=[],n=0;n<i;n++)f=t[n],e=f.step(r),e&&(u.push(e),s.push(f));for(n=0;n<i;)t[n]._needsRemove?(t[n]=t[i-1],t.pop(),i--):n++;for(i=u.length,n=0;n<i;n++)s[n].fire(u[n]);this._time=r;this.onframe(o);this.trigger("frame",o);this.stage.update&&this.stage.update()},start:function(){function t(){n._running&&(e(t),n._update())}var n=this;this._running=!0;this._time=(new Date).getTime();e(t)},stop:function(){this._running=!1},clear:function(){this._clips=[]},animate:function(n,t){t=t||{};return new o(n,t.loop,t.getter,t.setter)}};u.mixin(r,f);n.exports=r},function(n,t,i){"use strict";function r(n){return parseInt(n,10)}function a(n){return n?n.isBuildin?!0:typeof n.resize!="function"||typeof n.refresh!="function"?!1:!0:!1}function v(n){n.__unusedCount++}function y(n){n.__dirty=!1;n.__unusedCount==1&&n.clear()}function p(n,t,i){return o.copy(n.getBoundingRect()),n.transform&&o.applyTransform(n.transform),s.width=t,s.height=i,!o.intersect(s)}function w(n,t){if(!n||!t||n.length!==t.length)return!0;for(var i=0;i<n.length;i++)if(n[i]!==t[i])return!0}function b(n,t){for(var r,i,f,u=0;u<n.length;u++)r=n[u],r.transform&&(i=r.transform,t.transform(i[0],i[1],i[2],i[3],i[4],i[5])),f=r.path,f.beginPath(t),r.buildPath(f,r.shape),t.clip(),r.transform&&(i=r.invTransform,t.transform(i[0],i[1],i[2],i[3],i[4],i[5]))}var l=i(40),u=i(3),f=i(39),c=i(15),e=i(86),o=new c(0,0,0,0),s=new c(0,0,0,0),h=function(n,t,i){var c=!n.nodeName||n.nodeName.toUpperCase()==="CANVAS",r,s,u,f,o,h;i=i||{};this.dpr=i.devicePixelRatio||l.devicePixelRatio;this._singleCanvas=c;this.root=n;r=n.style;r&&(r["-webkit-tap-highlight-color"]="transparent",r["-webkit-user-select"]="none",r["user-select"]="none",r["-webkit-touch-callout"]="none",n.innerHTML="");this.storage=t;c?(f=n.width,o=n.height,this._width=f,this._height=o,h=new e(n,this,1),h.initContext(),this._layers={0:h},this._zlevelList=[0]):(f=this._getWidth(),o=this._getHeight(),this._width=f,this._height=o,s=document.createElement("div"),this._domRoot=s,u=s.style,u.position="relative",u.overflow="hidden",u.width=this._width+"px",u.height=this._height+"px",n.appendChild(s),this._layers={},this._zlevelList=[]);this._layerConfig={};this.pathToImage=this._createPathToImage()};h.prototype={constructor:h,isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._singleCanvas?this._layers[0].dom:this._domRoot},refresh:function(n){var f=this.storage.getDisplayList(!0),r=this._zlevelList,t,u,i;for(this._paintList(f,n),t=0;t<r.length;t++)u=r[t],i=this._layers[u],!i.isBuildin&&i.refresh&&i.refresh();return this},_paintList:function(n,t){var r,s,u,l,a,e,h,k,i,c,o;for(t==null&&(t=!1),this._updateLayerStatus(n),l=this._width,a=this._height,this.eachBuildinLayer(v),e=null,h=0,k=n.length;h<k;h++)i=n[h],c=this._singleCanvas?0:i.zlevel,s!==c&&(s=c,r=this.getLayer(s),r.isBuildin||f("ZLevel "+s+" has been used by unkown layer "+r.id),u=r.ctx,r.__unusedCount=0,(r.__dirty||t)&&r.clear()),!(r.__dirty||t)||i.invisible||i.style.opacity===0||!i.scale[0]||!i.scale[1]||i.culling&&p(i,l,a)||(o=i.__clipPaths,w(o,e)&&(e&&u.restore(),o&&(u.save(),b(o,u)),e=o),i.beforeBrush&&i.beforeBrush(u),i.brush(u,!1),i.afterBrush&&i.afterBrush(u)),i.__dirty=!1;e&&u.restore();this.eachBuildinLayer(y)},getLayer:function(n){if(this._singleCanvas)return this._layers[0];var t=this._layers[n];return t||(t=new e("zr_"+n,this,this.dpr),t.isBuildin=!0,this._layerConfig[n]&&u.merge(t,this._layerConfig[n],!0),this.insertLayer(n,t),t.initContext()),t},insertLayer:function(n,t){var e=this._layers,r=this._zlevelList,h=r.length,o=null,i=-1,u=this._domRoot,s;if(e[n]){f("ZLevel "+n+" has been used already");return}if(!a(t)){f("Layer of zlevel "+n+" is not valid");return}if(h>0&&n>r[0]){for(i=0;i<h-1;i++)if(r[i]<n&&r[i+1]>n)break;o=e[r[i]]}r.splice(i+1,0,n);o?(s=o.dom,s.nextSibling?u.insertBefore(t.dom,s.nextSibling):u.appendChild(t.dom)):u.firstChild?u.insertBefore(t.dom,u.firstChild):u.appendChild(t.dom);e[n]=t},eachLayer:function(n,t){for(var u=this._zlevelList,r,i=0;i<u.length;i++)r=u[i],n.call(t,this._layers[r],r)},eachBuildinLayer:function(n,t){for(var f=this._zlevelList,r,u,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.isBuildin&&n.call(t,r,u)},eachOtherLayer:function(n,t){for(var f=this._zlevelList,r,u,i=0;i<f.length;i++)u=f[i],r=this._layers[u],r.isBuildin||n.call(t,r,u)},getLayers:function(){return this._layers},_updateLayerStatus:function(n){var e=this._layers,r={},t,u;for(this.eachBuildinLayer(function(n,t){r[t]=n.elCount;n.elCount=0}),t=0,u=n.length;t<u;t++){var f=n[t],o=this._singleCanvas?0:f.zlevel,i=e[o];if(i){if(i.elCount++,i.__dirty)continue;i.__dirty=f.__dirty}}this.eachBuildinLayer(function(n,t){r[t]!==n.elCount&&(n.__dirty=!0)})},clear:function(){return this.eachBuildinLayer(this._clearLayer),this},_clearLayer:function(n){n.clear()},configLayer:function(n,t){var i,r;t&&(i=this._layerConfig,i[n]?u.merge(i[n],t,!0):i[n]=t,r=this._layers[n],r&&u.merge(r,i[n],!0))},delLayer:function(n){var i=this._layers,r=this._zlevelList,t=i[n];t&&(t.dom.parentNode.removeChild(t.dom),delete i[n],r.splice(u.indexOf(r,n),1))},resize:function(n,t){var i=this._domRoot,r;if(i.style.display="none",n=n||this._getWidth(),t=t||this._getHeight(),i.style.display="",this._width!=n||t!=this._height){i.style.width=n+"px";i.style.height=t+"px";for(r in this._layers)this._layers[r].resize(n,t);this.refresh(!0)}return this._width=n,this._height=t,this},clearLayer:function(n){var t=this._layers[n];t&&t.clear()},dispose:function(){this.root.innerHTML="";this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(n){var i,r,f,u,t;if(n=n||{},this._singleCanvas)return this._layers[0].dom;for(i=new e("image",this,n.pixelRatio||this.dpr),i.initContext(),r=i.ctx,i.clearColor=n.backgroundColor,i.clear(),f=this.storage.getDisplayList(!0),u=0;u<f.length;u++)t=f[u],t.invisible||(t.beforeBrush&&t.beforeBrush(r),t.brush(r,!1),t.afterBrush&&t.afterBrush(r));return i.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var n=this.root,t=document.defaultView.getComputedStyle(n);return(n.clientWidth||r(t.width)||r(n.style.width))-(r(t.paddingLeft)||0)-(r(t.paddingRight)||0)|0},_getHeight:function(){var n=this.root,t=document.defaultView.getComputedStyle(n);return(n.clientHeight||r(t.height)||r(n.style.height))-(r(t.paddingTop)||0)-(r(t.paddingBottom)||0)|0},_pathToImage:function(n,t,r,u,f){var s=document.createElement("canvas"),h=s.getContext("2d"),e,c,o;return s.width=r*f,s.height=u*f,h.clearRect(0,0,r*f,u*f),e={position:t.position,rotation:t.rotation,scale:t.scale},t.position=[0,0,0],t.rotation=0,t.scale=[1,1],t&&t.brush(h),c=i(59),o=new c({id:n,style:{x:0,y:0,image:s}}),e.position!=null&&(o.position=t.position=e.position),e.rotation!=null&&(o.rotation=t.rotation=e.rotation),e.scale!=null&&(o.scale=t.scale=e.scale),o},_createPathToImage:function(){var n=this;return function(t,i,r,u){return n._pathToImage(t,i,r,u,n.dpr)}}};n.exports=h},function(n,t,i){function o(){return!1}function u(n,t,i,r){var u=document.createElement(t),e=i.getWidth(),o=i.getHeight(),f=u.style;return f.position="absolute",f.left=0,f.top=0,f.width=e+"px",f.height=o+"px",u.width=e*r,u.height=o*r,u.setAttribute("data-zr-dom-id",n),u}var f=i(3),e=i(40),r=function(n,t,i){var r,s;i=i||e.devicePixelRatio;typeof n=="string"?r=u(n,"canvas",t,i):f.isObject(n)&&(r=n,n=r.id);this.id=n;this.dom=r;s=r.style;s&&(r.onselectstart=o,s["-webkit-user-select"]="none",s["user-select"]="none",s["-webkit-touch-callout"]="none",s["-webkit-tap-highlight-color"]="rgba(0,0,0,0)");this.domBack=null;this.ctxBack=null;this.painter=t;this.config=null;this.clearColor=0;this.motionBlur=!1;this.lastFrameAlpha=.7;this.dpr=i};r.prototype={constructor:r,elCount:0,__dirty:!0,initContext:function(){this.ctx=this.dom.getContext("2d");var n=this.dpr;n!=1&&this.ctx.scale(n,n)},createBackBuffer:function(){var n=this.dpr;this.domBack=u("back-"+this.id,"canvas",this.painter,n);this.ctxBack=this.domBack.getContext("2d");n!=1&&this.ctxBack.scale(n,n)},resize:function(n,t){var i=this.dpr,r=this.dom,f=r.style,u=this.domBack;f.width=n+"px";f.height=t+"px";r.width=n*i;r.height=t*i;i!=1&&this.ctx.scale(i,i);u&&(u.width=n*i,u.height=t*i,i!=1&&this.ctxBack.scale(i,i))},clear:function(n){var f=this.dom,t=this.ctx,r=f.width,u=f.height,s=this.clearColor,e=this.motionBlur&&!n,h=this.lastFrameAlpha,i=this.dpr,o;e&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(f,0,0,r/i,u/i));t.clearRect(0,0,r/i,u/i);s&&(t.save(),t.fillStyle=this.clearColor,t.fillRect(0,0,r/i,u/i),t.restore());e&&(o=this.domBack,t.save(),t.globalAlpha=h,t.drawImage(o,0,0,r/i,u/i),t.restore())}};n.exports=r},function(n,t,i){var r=i(42),f=i(3),u=Math.PI;n.exports=function(n,t){var i;t=t||{};f.defaults(t,{text:"loading",color:"#c23531",textColor:"#000",maskColor:"rgba(255, 255, 255, 0.8)",zlevel:0});var o=new r.Rect({style:{fill:t.maskColor},zlevel:t.zlevel,z:1e4}),e=new r.Arc({shape:{startAngle:-u/2,endAngle:-u/2+.1,r:10},style:{stroke:t.color,lineCap:"round",lineWidth:5},zlevel:t.zlevel,z:10001}),s=new r.Rect({style:{fill:"none",text:t.text,textPosition:"right",textDistance:10,textFill:t.textColor},zlevel:t.zlevel,z:10001});return e.animateShape(!0).when(1e3,{endAngle:u*3/2}).start("circularInOut"),e.animateShape(!0).when(1e3,{startAngle:u*3/2}).delay(300).start("circularInOut"),i=new r.Group,i.add(e),i.add(s),i.add(o),i.resize=function(){var i=n.getWidth()/2,r=n.getHeight()/2,t;e.setShape({cx:i,cy:r});t=e.shape.r;s.setShape({x:i-t,y:r-t,width:t*2,height:t*2});o.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},i.resize(),i}},function(n,t,i){var r=i(4);n.exports=function(n,t,i){function u(n){var e=[t,"normal","color"],o=i.get("color"),u=n.getData(),f=n.get(e)||o[n.seriesIndex%o.length];u.setVisual("color",f);i.isSeriesFiltered(n)||(typeof f!="function"||f instanceof r||u.each(function(t){u.setItemVisual(t,"color",f(n.getDataParams(t)))}),u.each(function(n){var i=u.getItemModel(n),t=i.get(e,!0);t!=null&&u.setItemVisual(n,"color",t)}))}n?i.eachSeriesByType(n,u):i.eachSeries(u)}},function(n,t,i){function s(n,t){var i,r;for(t=t.split(","),i=n,r=0;r<t.length;r++)if(i=i&&i[t[r]],i==null)break;return i}function h(n,t,i,r){var u,e,f;for(t=t.split(","),u=n,f=0;f<t.length-1;f++)e=t[f],u[e]==null&&(u[e]={}),u=u[e];(r||u[t[f]]==null)&&(u[t[f]]=i)}function f(n){r(c,function(t){t[0]in n&&!(t[1]in n)&&(n[t[1]]=n[t[0]])})}var u=i(3),o=i(90),c=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],l=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],e=["bar","boxplot","candlestick","chord","effectScatter","funnel","gauge","lines","graph","heatmap","line","map","parallel","pie","radar","sankey","scatter","treemap"],r=u.each;n.exports=function(n){r(n.series,function(n){var t,r,i;if(u.isObject(n))for(t=n.type,o(n),(t==="pie"||t==="gauge")&&n.clockWise!=null&&(n.clockwise=n.clockWise),t==="gauge"&&(r=s(n,"pointer.color"),r!=null&&h(n,"itemStyle.normal.color",r)),i=0;i<e.length;i++)if(e[i]===n.type){f(n);break}});n.dataRange&&(n.visualMap=n.dataRange);r(l,function(t){var i=n[t];i&&(u.isArray(i)||(i=[i]),r(i,function(n){f(n)}))})}},function(n,t,i){function r(n){var t=n&&n.itemStyle;t&&u.each(f,function(i){var r=t.normal,f=t.emphasis;r&&r[i]&&(n[i]=n[i]||{},n[i].normal?u.merge(n[i].normal,r[i]):n[i].normal=r[i],r[i]=null);f&&f[i]&&(n[i]=n[i]||{},n[i].emphasis?u.merge(n[i].emphasis,f[i]):n[i].emphasis=f[i],f[i]=null)})}var u=i(3),f=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];n.exports=function(n){var f,e,s,o,i,t;if(n&&(r(n),r(n.markPoint),r(n.markLine),f=n.data,f)){for(t=0;t<f.length;t++)r(f[t]);if(e=n.markPoint,e&&e.data)for(s=e.data,t=0;t<s.length;t++)r(s[t]);if(o=n.markLine,o&&o.data)for(i=o.data,t=0;t<i.length;t++)u.isArray(i[t])?(r(i[t][0]),r(i[t][1])):r(i[t])}}},function(n,t,i){var r=i(3),u=i(1);i(92);i(97);u.registerVisualCoding("chart",r.curry(i(103),"line","circle","line"));u.registerLayout(r.curry(i(104),"line"));u.registerProcessor("statistic",r.curry(i(105),"line"));i(106)},function(n,t,i){"use strict";var r=i(93),u=i(27);n.exports=u.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(n,t){return r(n.data,this,t)},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,clipOverflow:!0,label:{normal:{position:"top"}},lineStyle:{normal:{width:2,type:"solid"}},symbol:"emptyCircle",symbolSize:4,showSymbol:!0,animationEasing:"linear"}})},function(n,t,i){"use strict";function a(n){for(var t=0;t<n.length&&n[t]==null;)t++;return n[t]}function v(n){var t=a(n);return t!=null&&!e.isArray(o(t))}function y(n,t,i){n=n||[];var a=t.get("coordinateSystem"),y=p[a],b=l.get(a),f=y&&y(n,t,i),u=f&&f.dimensions;u||(u=b&&b.dimensions||["x","y"],u=r(u,n,u.concat(["value"])));var k=f&&f.categoryAxisModel,s,d=u[0].type==="ordinal"?0:u[1].type==="ordinal"?1:-1,g=new c(u,t),nt=w(f,n),tt=k&&v(n)?function(n,t,i,r){return r===d?i:h(o(n),u[r])}:function(n,t,i,r){var c=o(n),f=h(c&&c[r],u[r]);return d===r&&typeof f=="string"&&(s=s||k.getCategories(),f=e.indexOf(s,f),f<0&&!isNaN(f)&&(f=+f)),f};return g.initData(n,nt,tt),g}function u(n){return n!=="category"&&n!=="time"}function f(n){return n==="category"?"ordinal":n==="time"?"time":"float"}function w(n,t){var r=[],u,f,i;if(n&&n.categoryAxisModel&&(u=n.categoryAxisModel.getCategories(),u))if(f=t.length,e.isArray(t[0])&&t[0].length>1)for(r=[],i=0;i<f;i++)r[i]=u[t[i][n.categoryIndex||0]];else r=u.slice(0);return r}var c=i(94),r=i(96),e=i(3),s=i(5),l=i(25),o=s.getDataItemValue,h=s.converDataValue,p={cartesian2d:function(n,t,i){var s=i.getComponent("xAxis",t.get("xAxisIndex")),h=i.getComponent("yAxis",t.get("yAxisIndex")),e=s.get("type"),o=h.get("type"),c=[{name:"x",type:f(e),stackable:u(e)},{name:"y",type:f(o),stackable:u(o)}],l=e==="category";return r(c,n,["x","y","z"]),{dimensions:c,categoryIndex:l?0:1,categoryAxisModel:l?s:o==="category"?h:null}},polar:function(n,t,i){var v=t.get("polarIndex")||0,s=function(n){return n.get("polarIndex")===v},h=i.findComponents({mainType:"angleAxis",filter:s})[0],c=i.findComponents({mainType:"radiusAxis",filter:s})[0],e=c.get("type"),o=h.get("type"),l=[{name:"radius",type:f(e),stackable:u(e)},{name:"angle",type:f(o),stackable:u(o)}],a=o==="category";return r(l,n,["radius","angle","value"]),{dimensions:l,categoryIndex:a?1:0,categoryAxisModel:a?h:e==="category"?c:null}},geo:function(n){return{dimensions:r([{name:"lng"},{name:"lat"}],n,["lng","lat","value"])}}};n.exports=y},function(n,t,i){(function(t){function s(n){return u.isArray(n)||(n=[n]),n}function a(n,t){var o=n.dimensions,s=new e(u.map(o,n.getDimensionInfo,n),n.hostModel),h,r,f,i,c;for(l(s,n,n._wrappedMethods),h=s._storage={},r=n._storage,f=0;f<o.length;f++)i=o[f],c=r[i],h[i]=u.indexOf(t,i)>=0?new c.constructor(r[i].length):r[i];return s}var h="undefined",f=typeof window=="undefined"?t:window,y=typeof f.Float64Array===h?Array:f.Float64Array,p=typeof f.Int32Array===h?Array:f.Int32Array,w={float:y,int:p,ordinal:Array,number:Array,time:Array},b=i(8),k=i(95),u=i(3),c=i(5),o=u.isObject,d=["stackedOn","_nameList","_idList","_rawData"],l=function(n,t,i){u.each(d.concat(i||[]),function(i){t.hasOwnProperty(i)&&(n[i]=t[i])})},e=function(n,t){var f,e,r,u,i;for(n=n||["x","y"],f={},e=[],r=0;r<n.length;r++)i={},typeof n[r]=="string"?(u=n[r],i={name:u,stackable:!1,type:"number"}):(i=n[r],u=i.name,i.type=i.type||"number"),e.push(u),f[u]=i;this.dimensions=e;this._dimensionInfos=f;this.hostModel=t;this.indices=[];this._storage={};this._nameList=[];this._idList=[];this._optionModels=[];this.stackedOn=null;this._visual={};this._layout={};this._itemVisuals=[];this._itemLayouts=[];this._graphicEls=[];this._rawData;this._extent},r=e.prototype,v;r.type="list";r.getDimension=function(n){return isNaN(n)||(n=this.dimensions[n]||n),n};r.getDimensionInfo=function(n){return u.clone(this._dimensionInfos[this.getDimension(n)])};r.initData=function(n,t,i){var b,k,e,d,l,a,g,r,o,f;n=n||[];this._rawData=n;var v=this._storage={},nt=this.indices=[],s=this.dimensions,tt=n.length,y=this._dimensionInfos,p=[],h={};for(t=t||[],r=0;r<s.length;r++)b=y[s[r]],k=w[b.type],v[s[r]]=new k(tt);for(i=i||function(n,t,i,r){var f=c.getDataItemValue(n);return c.converDataValue(u.isArray(f)?f[r]:f,y[t])},e=0;e<n.length;e++){for(d=n[e],l=0;l<s.length;l++)a=s[l],g=v[a],g[e]=i(d,a,e,l);nt.push(e)}for(r=0;r<n.length;r++)o="",t[r]||(t[r]=n[r].name,o=n[r].id),f=t[r]||"",!o&&f&&(h[f]=h[f]||0,o=f,h[f]>0&&(o+="__ec__"+h[f]),h[f]++),o&&(p[r]=o);this._nameList=t;this._idList=p};r.count=function(){return this.indices.length};r.get=function(n,t,i){var o=this._storage,s=this.indices[t],r,e,u,f;if(s==null)return NaN;if(r=o[n]&&o[n][s],i&&(e=this._dimensionInfos[n],e&&e.stackable))for(u=this.stackedOn;u;)f=u.get(n,t),(r>=0&&f>0||r<=0&&f<0)&&(r+=f),u=u.stackedOn;return r};r.getValues=function(n,t,i){var f=[],r,e;for(u.isArray(n)||(i=t,t=n,n=this.dimensions),r=0,e=n.length;r<e;r++)f.push(this.get(n[r],t,i));return f};r.hasValue=function(n){for(var i=this.dimensions,r=this._dimensionInfos,t=0,u=i.length;t<u;t++)if(r[i[t]].type!=="ordinal"&&isNaN(this.get(i[t],n)))return!1;return!0};r.getDataExtent=function(n,t){var h=this._storage[n],o=this.getDimensionInfo(n),e,i,r,u,f,s;if(t=o&&o.stackable&&t,e=(this._extent||(this._extent={}))[n+!!t],e)return e;if(h){for(r=Infinity,u=-Infinity,f=0,s=this.count();f<s;f++)i=this.get(n,f,t),i<r&&(r=i),i>u&&(u=i);return this._extent[n+t]=[r,u]}return[Infinity,-Infinity]};r.getSum=function(n,t){var e=this._storage[n],u=0,i,f,r;if(e)for(i=0,f=this.count();i<f;i++)r=this.get(n,i,t),isNaN(r)||(u+=r);return u};r.indexOf=function(n,t){var o=this._storage,r=o[n],u=this.indices,i,f,e;if(r)for(i=0,f=u.length;i<f;i++)if(e=u[i],r[e]===t)return i;return-1};r.indexOfName=function(n){for(var r,i=this.indices,u=this._nameList,t=0,f=i.length;t<f;t++)if(r=i[t],u[r]===n)return t;return-1};r.indexOfNearest=function(n,t,i){var h=this._storage,c=h[n],u,e,r,s,o,f;if(c){for(u=Number.MAX_VALUE,e=-1,r=0,s=this.count();r<s;r++)o=t-this.get(n,r,i),f=Math.abs(o),(f<u||f===u&&o>0)&&(u=f,e=r);return e}return-1};r.getRawIndex=function(n){var t=this.indices[n];return t==null?-1:t};r.getName=function(n){return this._nameList[this.indices[n]]||""};r.getId=function(n){return this._idList[this.indices[n]]||this.getRawIndex(n)+""};r.each=function(n,t,i,r){var f,e;typeof n=="function"&&(r=i,i=t,t=n,n=[]);n=u.map(s(n),this.getDimension,this);var o=[],h=n.length,c=this.indices;for(r=r||this,f=0;f<c.length;f++)if(h===0)t.call(r,f);else if(h===1)t.call(r,this.get(n[0],f,i),f);else{for(e=0;e<h;e++)o[e]=this.get(n[e],f,i);o[e]=f;t.apply(r,o)}};r.filterSelf=function(n,t,i,r){var f,h,e;typeof n=="function"&&(r=i,i=t,t=n,n=[]);n=u.map(s(n),this.getDimension,this);var c=[],o=[],l=n.length,a=this.indices;for(r=r||this,f=0;f<a.length;f++){if(l===1)h=t.call(r,this.get(n[0],f,i),f);else{for(e=0;e<l;e++)o[e]=this.get(n[e],f,i);o[e]=f;h=t.apply(r,o)}h&&c.push(a[f])}return this.indices=c,this._extent={},this};r.mapArray=function(n,t,i,r){typeof n=="function"&&(r=i,i=t,t=n,n=[]);var u=[];return this.each(n,function(){u.push(t&&t.apply(this,arguments))},i,r),u};r.map=function(n,t,i,r){n=u.map(s(n),this.getDimension,this);var f=a(this,n),o=f.indices=this.indices,h=f._storage,e=[];return this.each(n,function(){var f=arguments[arguments.length-1],i=t&&t.apply(this,arguments),r;if(i!=null)for(typeof i=="number"&&(e[0]=i,i=e),r=0;r<i.length;r++){var s=n[r],u=h[s],c=o[f];u&&(u[c]=i[r])}},i,r),f};r.downSample=function(n,t,i,r){for(var f,l,e,h=a(this,[n]),v=this._storage,y=h._storage,b=this.indices,k=h.indices=[],s=[],p=[],o=Math.floor(1/t),w=y[n],c=this.count(),u=0;u<v[n].length;u++)y[n][u]=v[n][u];for(u=0;u<c;u+=o){for(o>c-u&&(o=c-u,s.length=o),f=0;f<o;f++)e=b[u+f],s[f]=w[e],p[f]=e;l=i(s);e=p[r(s,l)||0];w[e]=l;k.push(e)}return h};r.getItemModel=function(n){var t=this.hostModel;return n=this.indices[n],new b(this._rawData[n],t,t.ecModel)};r.diff=function(n){var t=this._idList,i=n&&n._idList;return new k(n?n.indices:[],this.indices,function(n){return i[n]||n+""},function(n){return t[n]||n+""})};r.getVisual=function(n){var t=this._visual;return t&&t[n]};r.setVisual=function(n,t){if(o(n)){for(var i in n)n.hasOwnProperty(i)&&this.setVisual(i,n[i]);return}this._visual=this._visual||{};this._visual[n]=t};r.setLayout=function(n,t){if(o(n)){for(var i in n)n.hasOwnProperty(i)&&this.setLayout(i,n[i]);return}this._layout[n]=t};r.getLayout=function(n){return this._layout[n]};r.getItemLayout=function(n){return this._itemLayouts[n]};r.setItemLayout=function(n,t,i){this._itemLayouts[n]=i?u.extend(this._itemLayouts[n]||{},t):t};r.getItemVisual=function(n,t,i){var r=this._itemVisuals[n],u=r&&r[t];return u==null&&!i?this.getVisual(t):u};r.setItemVisual=function(n,t,i){var u=this._itemVisuals[n]||{},r;if(this._itemVisuals[n]=u,o(t)){for(r in t)t.hasOwnProperty(r)&&(u[r]=t[r]);return}u[t]=i};v=function(n){n.seriesIndex=this.seriesIndex;n.dataIndex=this.dataIndex};r.setItemGraphicEl=function(n,t){var i=this.hostModel;t&&(t.dataIndex=n,t.seriesIndex=i&&i.seriesIndex,t.type==="group"&&t.traverse(v,t));this._graphicEls[n]=t};r.getItemGraphicEl=function(n){return this._graphicEls[n]};r.eachItemGraphicEl=function(n,t){u.each(this._graphicEls,function(i,r){i&&n&&n.call(t,i,r)})};r.cloneShallow=function(){var t=u.map(this.dimensions,this.getDimensionInfo,this),n=new e(t,this.hostModel);return n._storage=this._storage,l(n,this,this._wrappedMethods),n.indices=this.indices.slice(),n};r.wrapMethod=function(n,t){var i=this[n];typeof i=="function"&&(this._wrappedMethods=this._wrappedMethods||[],this._wrappedMethods.push(n),this[n]=function(){var n=i.apply(this,arguments);return t.call(this,n)})};n.exports=e}).call(t,function(){return this}())},function(n){"use strict";function i(n){return n}function t(n,t,r,u){this._old=n;this._new=t;this._oldKeyGetter=r||i;this._newKeyGetter=u||i}function r(n,t,i){for(var f,u,r=0;r<n.length;r++)f=i(n[r]),u=t[f],u==null?t[f]=r:(u.length||(t[f]=u=[u]),u.push(r))}t.prototype={constructor:t,add:function(n){return this._add=n,this},update:function(n){return this._update=n,this},remove:function(n){return this._remove=n,this},execute:function(){var e=this._old,s=this._new,o=this._oldKeyGetter,h=this._newKeyGetter,i={},u,n,t,f;for(r(e,{},o),r(s,i,h),t=0;t<e.length;t++)u=o(e[t]),n=i[u],n!=null?(f=n.length,f?(f===1&&(i[u]=null),n=n.unshift()):i[u]=null,this._update&&this._update(n,t)):this._remove&&this._remove(t);for(u in i)if(i.hasOwnProperty(u)){if(n=i[u],n==null)continue;if(n.length)for(t=0,f=n.length;t<f;t++)this._add&&this._add(n[t]);else this._add&&this._add(n)}}};n.exports=t},function(n,t,i){function f(n,t,i,f){var s,c,o,h;if(!t)return n;for(s=u(t[0]),c=r.isArray(s)&&s.length||1,i=i||[],f=f||"extra",o=0;o<c;o++)n[o]||(h=i[o]||f+(o-i.length),n[o]=e(t,o)?{type:"ordinal",name:h}:h);return n}function e(n,t){for(var i,f=0,e=n.length;f<e;f++){if((i=u(n[f]),!r.isArray(i))||(i=i[t],i!=null&&isFinite(i)))return!1;if(r.isString(i)&&i!=="-")return!0}return!1}function u(n){return r.isArray(n)?n:r.isObject(n)?n.value:n}var r=i(3);n.exports=f},function(n,t,i){"use strict";function o(n,t){var i,r,u;if(n.length===t.length){for(i=0;i<n.length;i++)if(r=n[i],u=t[i],r[0]!==u[0]||r[1]!==u[1])return;return!0}}function s(n){return typeof n=="number"?n:n?.3:0}function h(n){var t=n.getGlobalExtent(),i,r;return n.onBand&&(i=n.getBandWidth()/2-1,r=t[1]>t[0]?1:-1,t[0]+=r*i,t[1]-=r*i),t}function c(n){return n>=0?1:-1}function w(n,t){var r=n.getBaseAxis(),u=n.getOtherAxis(r),e=r.onZero?0:u.scale.getExtent()[0],i=u.dim,f=i==="x"||i==="radius"?1:0;return t.mapArray([i],function(u,o){for(var h,l=t.stackedOn,s;l&&c(l.get(i,o))===c(u);){h=l;break}return s=[],s[f]=t.get(r.dim,o),s[1-f]=h?h.get(i,o,!0):e,n.dataToPoint(s)},!0)}function l(n,t){return t.dataIndex!=null?t.dataIndex:t.name!=null?n.indexOfName(t.name):void 0}function b(n,t,i){var c=h(n.getAxis("x")),l=h(n.getAxis("y")),a=n.getBaseAxis().isHorizontal(),o=c[0],s=l[0],u=c[1]-o,f=l[1]-s,e;return i.get("clipOverflow")||(a?(s-=f,f*=3):(o-=u,u*=3)),e=new r.Rect({shape:{x:o,y:s,width:u,height:f}}),t&&(e.shape[a?"width":"height"]=0,r.initProps(e,{shape:{width:u,height:f}},i)),e}function k(n,t,i){var o=n.getAngleAxis(),h=n.getRadiusAxis(),s=h.getExtent(),u=o.getExtent(),f=Math.PI/180,e=new r.Sector({shape:{cx:n.cx,cy:n.cy,r0:s[0],r:s[1],startAngle:-u[0]*f,endAngle:-u[1]*f,clockwise:o.inverse}});return t&&(e.shape.endAngle=-u[0]*f,r.initProps(e,{shape:{endAngle:-u[1]*f}},i)),e}function a(n,t,i){return n.type==="polar"?k(n,t,i):b(n,t,i)}var u=i(3),v=i(98),y=i(99),p=i(101),r=i(42),e=i(102),f=i(41);n.exports=f.extend({type:"line",init:function(){var t=new r.Group,n=new v;this.group.add(n.group);this._symbolDraw=n;this._lineGroup=t},render:function(n,t,i){var e=n.coordinateSystem,it=this.group,r=n.getData(),et=n.getModel("lineStyle.normal"),rt=n.getModel("areaStyle.normal"),h=r.mapArray(r.getItemLayout,!0),ot=e.type==="polar",st=this._coordSys,k=this._symbolDraw,l=this._polyline,f=this._polygon,v=this._lineGroup,y=n.get("animation"),d=!rt.isEmpty(),c=w(e,r),p=n.get("showSymbol"),ut=p&&!ot&&!n.get("showAllSymbol")&&this._getSymbolIgnoreFunc(r,e),g=this._data,b,nt,tt,ft;g&&g.eachItemGraphicEl(function(n,t){n.__temp&&(it.remove(n),g.setItemGraphicEl(t,null))});p||k.remove();it.add(v);l&&st.type===e.type?(d&&!f?f=this._newPolygon(h,c,e,y):f&&!d&&(v.remove(f),f=this._polygon=null),v.setClipPath(a(e,!1,n)),p&&k.updateData(r,ut),r.eachItemGraphicEl(function(n){n.stopAnimation(!0)}),o(this._stackedOnPoints,c)&&o(this._points,h)||(y?this._updateAnimation(r,c,e,i):(l.setShape({points:h}),f&&f.setShape({points:h,stackedOnPoints:c})))):(p&&k.updateData(r,ut),l=this._newPolyline(h,e,y),d&&(f=this._newPolygon(h,c,e,y)),v.setClipPath(a(e,!0,n)));l.setStyle(u.defaults(et.getLineStyle(),{stroke:r.getVisual("color"),lineJoin:"bevel"}));b=n.get("smooth");b=s(n.get("smooth"));l.setShape({smooth:b,smoothMonotone:n.get("smoothMonotone")});f&&(nt=r.stackedOn,tt=0,f.style.opacity=.7,f.setStyle(u.defaults(rt.getAreaStyle(),{fill:r.getVisual("color"),lineJoin:"bevel"})),nt&&(ft=nt.hostModel,tt=s(ft.get("smooth"))),f.setShape({smooth:b,stackedOnSmooth:tt,smoothMonotone:n.get("smoothMonotone")}));this._data=r;this._coordSys=e;this._stackedOnPoints=c;this._points=h},highlight:function(n,t,i,r){var o=n.getData(),e=l(o,r),u,s;e!=null&&e>=0?(u=o.getItemGraphicEl(e),u||(s=o.getItemLayout(e),u=new y(o,e,i),u.position=s,u.setZ(n.get("zlevel"),n.get("z")),u.ignore=isNaN(s[0])||isNaN(s[1]),u.__temp=!0,o.setItemGraphicEl(e,u),u.stopSymbolAnimation(!0),this.group.add(u)),u.highlight()):f.prototype.highlight.call(this,n,t,i,r)},downplay:function(n,t,i,r){var o=n.getData(),e=l(o,r),u;e!=null&&e>=0?(u=o.getItemGraphicEl(e),u&&(u.__temp?(o.setItemGraphicEl(e,null),this.group.remove(u)):u.downplay())):f.prototype.downplay.call(this,n,t,i,r)},_newPolyline:function(n){var t=this._polyline;return t&&this._lineGroup.remove(t),t=new e.Polyline({shape:{points:n},silent:!0,z2:10}),this._lineGroup.add(t),this._polyline=t,t},_newPolygon:function(n,t){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new e.Polygon({shape:{points:n,stackedOnPoints:t},silent:!0}),this._lineGroup.add(i),this._polygon=i,i},_getSymbolIgnoreFunc:function(n,t){var i=t.getAxesByScale("ordinal")[0];if(i&&i.isLabelIgnored)return u.bind(i.isLabelIgnored,i)},_updateAnimation:function(n,t,i){var f=this._polyline,h=this._polygon,l=n.hostModel,u=p(this._data,n,this._stackedOnPoints,t,this._coordSys,i),o,s,e,a,c;for(f.shape.points=u.current,r.updateProps(f,{shape:{points:u.next}},l),h&&(h.setShape({points:u.current,stackedOnPoints:u.stackedOnCurrent}),r.updateProps(h,{shape:{points:u.next,stackedOnPoints:u.stackedOnNext}},l)),o=[],s=u.status,e=0;e<s.length;e++)a=s[e].cmd,a==="="&&(c=n.getItemGraphicEl(s[e].idx1),c&&o.push({el:c,ptIdx:e}));f.animators&&f.animators.length&&f.animators[0].during(function(){for(var t,n=0;n<o.length;n++)t=o[n].el,t.attr("position",f.shape.points[o[n].ptIdx])})},remove:function(){var t=this.group,n=this._data;this._lineGroup.removeAll();this._symbolDraw.remove(!0);n&&n.eachItemGraphicEl(function(i,r){i.__temp&&(t.remove(i),n.setItemGraphicEl(r,null))});this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}})},function(n,t,i){function f(n){this.group=new u.Group;this._symbolCtor=n||o}function e(n,t,i){var r=n.getItemLayout(t);return r&&!isNaN(r[0])&&!isNaN(r[1])&&!(i&&i(t))&&n.getItemVisual(t,"symbol")!=="none"}var u=i(42),o=i(99),r=f.prototype;r.updateData=function(n,t){var i=this.group,o=n.hostModel,r=this._data,f=this._symbolCtor;n.diff(r).add(function(r){var o=n.getItemLayout(r),u;e(n,r,t)&&(u=new f(n,r),u.attr("position",o),n.setItemGraphicEl(r,u),i.add(u))}).update(function(s,h){var c=r.getItemGraphicEl(h),l=n.getItemLayout(s);if(!e(n,s,t)){i.remove(c);return}c?(c.updateData(n,s),u.updateProps(c,{position:l},o)):(c=new f(n,s),c.attr("position",l));i.add(c);n.setItemGraphicEl(s,c)}).remove(function(n){var t=r.getItemGraphicEl(n);t&&t.fadeOut(function(){i.remove(t)})}).execute();this._data=n};r.updateLayout=function(){var n=this._data;n&&n.eachItemGraphicEl(function(t,i){t.attr("position",n.getItemLayout(i))})};r.remove=function(n){var t=this.group,i=this._data;i&&(n?i.eachItemGraphicEl(function(n){n.fadeOut(function(){t.remove(n)})}):t.removeAll())};n.exports=f},function(n,t,i){function e(n){return f.isArray(n)||(n=[+n,+n]),n}function o(n,t){u.Group.call(this);this.updateData(n,t)}function c(n,t){this.parent.drift(n,t)}var f=i(3),h=i(100),u=i(42),s=i(7),r=o.prototype;r._createSymbol=function(n,t,i){var f;this.removeAll();var o=t.hostModel,s=t.getItemVisual(i,"color"),r=h.createSymbol(n,-.5,-.5,1,1,s);r.attr({style:{strokeNoScale:!0},z2:100,culling:!0,scale:[0,0]});r.drift=c;f=e(t.getItemVisual(i,"symbolSize"));u.initProps(r,{scale:f},o);this._symbolType=n;this.add(r)};r.stopSymbolAnimation=function(n){this.childAt(0).stopAnimation(n)};r.getScale=function(){return this.childAt(0).scale};r.highlight=function(){this.childAt(0).trigger("emphasis")};r.downplay=function(){this.childAt(0).trigger("normal")};r.setZ=function(n,t){var i=this.childAt(0);i.zlevel=n;i.z=t};r.setDraggable=function(n){var t=this.childAt(0);t.draggable=n;t.cursor=n?"move":"pointer"};r.updateData=function(n,t){var i=n.getItemVisual(t,"symbol")||"circle",r=n.hostModel,f=e(n.getItemVisual(t,"symbolSize")),o;i!==this._symbolType?this._createSymbol(i,n,t):(o=this.childAt(0),u.updateProps(o,{scale:f},r));this._updateCommon(n,t,f);this._seriesModel=r};var l=["itemStyle","normal"],a=["itemStyle","emphasis"],v=["label","normal"],y=["label","emphasis"];r._updateCommon=function(n,t,i){var o=this.childAt(0),it=n.hostModel,h=n.getItemModel(t),ot=h.getModel(l),k=n.getItemVisual(t,"color"),c=o.style,p=h.getModel(a).getItemStyle(),w,d,g,r,nt,tt;o.rotation=h.getShallow("symbolRotate")*Math.PI/180||0;w=h.getShallow("symbolOffset");w&&(d=o.position,d[0]=s.parsePercent(w[0],i[0]),d[1]=s.parsePercent(w[1],i[1]));o.setColor(k);f.extend(c,ot.getItemStyle(["color"]));g=n.getItemVisual(t,"opacity");g!=null&&(c.opacity=g);for(var rt=h.getModel(v),ut=h.getModel(y),ft=n.dimensions.slice(),b=ft.pop(),et;(et=n.getDimensionInfo(b).type)==="ordinal"||et==="time";)b=ft.pop();if(rt.get("show")?(u.setText(c,rt,k),c.text=f.retrieve(it.getFormattedLabel(t,"normal"),n.get(b,t))):c.text="",ut.getShallow("show")?(u.setText(p,ut,k),p.text=f.retrieve(it.getFormattedLabel(t,"emphasis"),n.get(b,t))):p.text="",r=e(n.getItemVisual(t,"symbolSize")),o.off("mouseover").off("mouseout").off("emphasis").off("normal"),u.setHoverStyle(o,p),h.getShallow("hoverAnimation")){nt=function(){var n=r[1]/r[0];this.animateTo({scale:[Math.max(r[0]*1.1,r[0]+3),Math.max(r[1]*1.1,r[1]+3*n)]},400,"elasticOut")};tt=function(){this.animateTo({scale:r},400,"elasticOut")};o.on("mouseover",nt).on("mouseout",tt).on("emphasis",nt).on("normal",tt)}};r.fadeOut=function(n){var t=this.childAt(0);t.style.text="";u.updateProps(t,{scale:[0,0]},this._seriesModel,n)};f.inherits(o,u.Group);n.exports=o},function(n,t,i){"use strict";var r=i(42),o=i(15),s=r.extendShape({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,f=t.width/2,u=t.height/2;n.moveTo(i,r-u);n.lineTo(i+f,r+u);n.lineTo(i-f,r+u);n.closePath()}}),h=r.extendShape({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(n,t){var i=t.cx,r=t.cy,u=t.width/2,f=t.height/2;n.moveTo(i,r-f);n.lineTo(i+u,r);n.lineTo(i,r+f);n.lineTo(i-u,r);n.closePath()}}),c=r.extendShape({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var r=t.x,o=t.y,l=t.width/5*3,a=Math.max(l,t.height),i=l/2,u=i*i/(a-i),s=o-a+i+u,f=Math.asin(u/i),h=Math.cos(f)*i,v=Math.sin(f),y=Math.cos(f),e,c;n.arc(r,s,i,Math.PI-f,Math.PI*2+f);e=i*.6;c=i*.7;n.bezierCurveTo(r+h-v*e,s+u+y*e,r,o-c,r,o);n.bezierCurveTo(r,o-c,r-h+v*e,s+u+y*e,r-h,s+u);n.closePath()}}),l=r.extendShape({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(n,t){var u=t.height,e=t.width,i=t.x,r=t.y,f=e/3*2;n.moveTo(i,r);n.lineTo(i+f,r+u);n.lineTo(i,r+u/4*3);n.lineTo(i-f,r+u);n.lineTo(i,r);n.closePath()}}),f={line:r.Line,rect:r.Rect,roundRect:r.Rect,square:r.Rect,circle:r.Circle,diamond:h,pin:c,arrow:l,triangle:s},a={line:function(n,t,i,r,u){u.x1=n;u.y1=t+r/2;u.x2=n+i;u.y2=t+r/2},rect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r},roundRect:function(n,t,i,r,u){u.x=n;u.y=t;u.width=i;u.height=r;u.r=Math.min(i,r)/4},square:function(n,t,i,r,u){var f=Math.min(i,r);u.x=n;u.y=t;u.width=f;u.height=f},circle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.r=Math.min(i,r)/2},diamond:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r},pin:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},arrow:function(n,t,i,r,u){u.x=n+i/2;u.y=t+r/2;u.width=i;u.height=r},triangle:function(n,t,i,r,u){u.cx=n+i/2;u.cy=t+r/2;u.width=i;u.height=r}},u={};for(var e in f)u[e]=new f[e];var v=r.extendShape({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},beforeBrush:function(){var n=this.style,t=this.shape;t.symbolType==="pin"&&n.textPosition==="inside"&&(n.textPosition=["50%","40%"],n.textAlign="center",n.textVerticalAlign="middle")},buildPath:function(n,t){var r=t.symbolType,i=u[r];t.symbolType!=="none"&&(i||(r="rect",i=u[r]),a[r](t.x,t.y,t.width,t.height,i.shape),i.buildPath(n,i.shape))}}),y=function(n){if(this.type!=="image"){var t=this.style,i=this.shape;i&&i.symbolType==="line"?t.stroke=n:this.__isEmptyBrush?(t.stroke=n,t.fill="#fff"):(t.fill&&(t.fill=n),t.stroke&&(t.stroke=n));this.dirty()}},p={createSymbol:function(n,t,i,u,f,e){var h=n.indexOf("empty")===0,s;return h&&(n=n.substr(5,1).toLowerCase()+n.substr(6)),s=n.indexOf("image://")===0?new r.Image({style:{image:n.slice(8),x:t,y:i,width:u,height:f}}):n.indexOf("path://")===0?r.makePath(n.slice(7),{},new o(t,i,u,f)):new v({shape:{symbolType:n,x:t,y:i,width:u,height:f}}),s.__isEmptyBrush=h,s.setColor=y,s.setColor(e),s}};n.exports=p},function(n){function t(n){return n>=0?1:-1}function i(n,i,r){for(var e=n.getBaseAxis(),h=n.getOtherAxis(e),l=e.onZero?0:h.scale.getExtent()[0],u=h.dim,c=u==="x"||u==="radius"?1:0,o,s=i.stackedOn,a=i.get(u,r),f;s&&t(s.get(u,r))===t(a);){o=s;break}return f=[],f[c]=i.get(e.dim,r),f[1-c]=o?o.get(u,r,!0):l,n.dataToPoint(f)}function r(n,t){var i=[];return t.diff(n).add(function(n){i.push({cmd:"+",idx:n})}).update(function(n,t){i.push({cmd:"=",idx:t,idx1:n})}).remove(function(n){i.push({cmd:"-",idx:n})}).execute(),i}n.exports=function(n,t,u,f,e,o){for(var c,d,v,g,nt,s,tt=r(n,t),y=[],p=[],w=[],b=[],it=[],l=[],a=[],k=o.dimensions,h=0;h<tt.length;h++){c=tt[h];d=!0;switch(c.cmd){case"=":v=n.getItemLayout(c.idx);g=t.getItemLayout(c.idx1);(isNaN(v[0])||isNaN(v[1]))&&(v=g.slice());y.push(v);p.push(g);w.push(u[c.idx]);b.push(f[c.idx1]);a.push(t.getRawIndex(c.idx1));break;case"+":s=c.idx;y.push(e.dataToPoint([t.get(k[0],s,!0),t.get(k[1],s,!0)]));p.push(t.getItemLayout(s).slice());w.push(i(e,t,s));b.push(f[s]);a.push(t.getRawIndex(s));break;case"-":s=c.idx;nt=n.getRawIndex(s);nt!==s?(y.push(n.getItemLayout(s)),p.push(o.dataToPoint([n.get(k[0],s,!0),n.get(k[1],s,!0)])),w.push(u[s]),b.push(i(o,n,s)),a.push(nt)):d=!1}d&&(it.push(c),l.push(l.length))}l.sort(function(n,t){return a[n]-a[t]});var rt=[],ut=[],ft=[],et=[],ot=[];for(h=0;h<l.length;h++)s=l[h],rt[h]=y[s],ut[h]=p[s],ft[h]=w[s],et[h]=b[s],ot[h]=it[s];return{current:rt,next:ut,stackedOnCurrent:ft,stackedOnNext:et,status:ot}}},function(n,t,i){function o(n,t,i,o,s,h,y,p,w,b){for(var k,ft,tt,nt,g=i,it=0;it<s;it++){if(k=t[g],g>=o||g<0||isNaN(k[0])||isNaN(k[1]))break;if(g===i)n[h>0?"moveTo":"lineTo"](k[0],k[1]),v(r,k);else if(w>0){var et=g-h,ot=g+h,rt=.5,ut=t[et],d=t[ot];h>0&&(g===s-1||isNaN(d[0])||isNaN(d[1]))||h<=0&&(g===0||isNaN(d[0])||isNaN(d[1]))?v(u,k):((isNaN(d[0])||isNaN(d[1]))&&(d=k),f.sub(e,d,ut),b==="x"||b==="y"?(nt=b==="x"?0:1,ft=Math.abs(k[nt]-ut[nt]),tt=Math.abs(k[nt]-d[nt])):(ft=f.dist(k,ut),tt=f.dist(k,d)),rt=tt/(tt+ft),a(u,k,e,-w*(1-rt)));c(r,r,p);l(r,r,y);c(u,u,p);l(u,u,y);n.bezierCurveTo(r[0],r[1],u[0],u[1],k[0],k[1]);a(r,k,e,w*rt)}else n.lineTo(k[0],k[1]);g+=h}return it}function s(n,t){var r=[Infinity,Infinity],u=[-Infinity,-Infinity],f,i;if(t)for(f=0;f<n.length;f++)i=n[f],i[0]<r[0]&&(r[0]=i[0]),i[1]<r[1]&&(r[1]=i[1]),i[0]>u[0]&&(u[0]=i[0]),i[1]>u[1]&&(u[1]=i[1]);return{min:t?r:u,max:t?u:r}}var h=i(44),f=i(16),c=f.min,l=f.max,a=f.scaleAndAdd,v=f.copy,e=[],r=[],u=[];n.exports={Polyline:h.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null},style:{fill:null,stroke:"#000"},buildPath:function(n,t){for(var i=t.points,r=0,u=i.length,f=s(i,t.smoothConstraint);r<u;)r+=o(n,i,r,u,u,1,f.min,f.max,t.smooth,t.smoothMonotone)+1}}),Polygon:h.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null},buildPath:function(n,t){for(var f=t.points,e=t.stackedOnPoints,i=0,r=f.length,h=t.smoothMonotone,c=s(f,t.smoothConstraint),l=s(e,t.smoothConstraint),u;i<r;)u=o(n,f,i,r,r,1,c.min,c.max,t.smooth,h),o(n,e,i+u-1,r,u,-1,l.min,l.max,t.stackedOnSmooth,h),i+=u+1,n.closePath()}})}},function(n){n.exports=function(n,t,i,r){r.eachRawSeriesByType(n,function(n){var u=n.getData(),e=n.get("symbol")||t,f=n.get("symbolSize");u.setVisual({legendSymbol:i||e,symbol:e,symbolSize:f});r.isSeriesFiltered(n)||(typeof f=="function"&&u.each(function(t){var i=n.getRawValue(t),r=n.getDataParams(t);u.setItemVisual(t,"symbolSize",f(i,r))}),u.each(function(n){var t=u.getItemModel(n),i=t.get("symbol",!0),r=t.get("symbolSize",!0);i!=null&&u.setItemVisual(n,"symbol",i);r!=null&&u.setItemVisual(n,"symbolSize",r)}))})}},function(n){n.exports=function(n,t){t.eachSeriesByType(n,function(n){var t=n.getData(),i=n.coordinateSystem,r=i.dimensions;t.each(r,function(n,r,u){var f;f=isNaN(n)||isNaN(r)?[NaN,NaN]:i.dataToPoint([n,r]);t.setItemLayout(u,f)},!0)})}},function(n){var t={average:function(n){for(var r=0,i=0,t=0;t<n.length;t++)isNaN(n[t])||(r+=n[t],i++);return i===0?NaN:r/i},sum:function(n){for(var i=0,t=0;t<n.length;t++)i+=n[t]||0;return i},max:function(n){for(var i=-Infinity,t=0;t<n.length;t++)n[t]>i&&(i=n[t]);return i},min:function(n){for(var i=Infinity,t=0;t<n.length;t++)n[t]<i&&(i=n[t]);return i},nearest:function(n){return n[0]}},i=function(n){return Math.round(n.length/2)};n.exports=function(n,r){r.eachSeriesByType(n,function(n){var u=n.getData(),r=n.get("sampling"),e=n.coordinateSystem,f;if(e.type==="cartesian2d"&&r){var o=e.getBaseAxis(),c=e.getOtherAxis(o),s=o.getExtent(),l=s[1]-s[0],h=Math.round(u.count()/l);h>1&&(typeof r=="string"?f=t[r]:typeof r=="function"&&(f=r),f&&(u=u.downSample(c.dim,1/h,f,i),n.setData(u)))}},this)}},function(n,t,i){"use strict";var r=i(42),u=i(3);i(107);i(124);i(1).extendComponentView({type:"grid",render:function(n){this.group.removeAll();n.get("show")&&this.group.add(new r.Rect({shape:n.coordinateSystem.getRect(),style:u.defaults({fill:n.get("backgroundColor")},n.getItemStyle()),silent:!0}))}})},function(n,t,i){function o(n,t,i){return i.getComponent("grid",n.get("gridIndex"))===t}function y(n){var f=n.model,e=f.getFormattedLabels(),i,o=1,r=e.length,t,u;for(r>40&&(o=Math.ceil(r/40)),t=0;t<r;t+=o)n.isLabelIgnored(t)||(u=f.getTextRect(e[t]),i?i.union(u):i=u);return i}function f(n,t,i){this._coordsMap={};this._coordsList=[];this._axesMap={};this._axesList=[];this._initCartesian(n,t,i);this._model=n}function p(n,t){var i=n.getExtent(),r=i[0]+i[1];n.toGlobalCoord=n.dim==="x"?function(n){return n+t}:function(n){return r-n+t};n.toLocalCoord=n.dim==="x"?function(n){return n-t}:function(n){return r-n+t}}var w=t,l=i(21),e=i(108),s=i(3),h=i(114),a=i(116),r=s.each,v=e.ifAxisCrossZero,c=e.niceScaleExtent,u;i(119);u=f.prototype;u.type="grid";u.getRect=function(){return this._rect};u.update=function(n,t){function u(n){var r=i[n],u,t;for(u in r)if(t=r[u],t&&(t.type==="category"||!v(t)))return!0;return!1}var i=this._axesMap;this._updateScale(n,this._model);r(i.x,function(n){c(n,n.model)});r(i.y,function(n){c(n,n.model)});r(i.x,function(n){u("y")&&(n.onZero=!1)});r(i.y,function(n){u("x")&&(n.onZero=!1)});this.resize(this._model,t)};u.resize=function(n,t){function f(){r(u,function(n){var t=n.isHorizontal(),r=t?[0,i.width]:[0,i.height],u=n.inverse?1:0;n.setExtent(r[u],r[1-u]);p(n,t?i.x:i.y)})}var i=l.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),u;this._rect=i;u=this._axesList;f();n.get("containLabel")&&(r(u,function(n){var t,u,r;n.model.get("axisLabel.inside")||(t=y(n),t&&(u=n.isHorizontal()?"height":"width",r=n.model.get("axisLabel.margin"),i[u]-=t[u]+r,n.position==="top"?i.y+=t.height+r:n.position==="left"&&(i.x+=t.width+r)))}),f())};u.getAxis=function(n,t){var i=this._axesMap[n],r;if(i!=null){if(t==null)for(r in i)return i[r];return i[t]}};u.getCartesian=function(n,t){var i="x"+n+"y"+t;return this._coordsMap[i]};u._initCartesian=function(n,t){function s(r){return function(s,h){var c,l,v;o(s,n,t)&&(c=s.get("position"),r==="x"?(c!=="top"&&c!=="bottom"&&(c="bottom"),u[c]&&(c=c==="top"?"bottom":"top")):(c!=="left"&&c!=="right"&&(c="left"),u[c]&&(c=c==="left"?"right":"left")),u[c]=!0,l=new a(r,e.createScaleByModel(s),[0,0],s.get("type"),c),v=l.type==="category",l.onBand=v&&s.get("boundaryGap"),l.inverse=s.get("inverse"),l.onZero=s.get("axisLine.onZero"),s.axis=l,l.model=s,l.index=h,this._axesList.push(l),i[r][h]=l,f[r]++)}}var u={left:!1,right:!1,top:!1,bottom:!1},i={x:{},y:{}},f={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!f.x||!f.y){this._axesMap={};this._axesList=[];return}this._axesMap=i;r(i.x,function(n,t){r(i.y,function(i,r){var f="x"+t+"y"+r,u=new h(f);u.grid=this;this._coordsMap[f]=u;this._coordsList.push(u);u.addAxis(n);u.addAxis(i)},this)},this)};u._updateScale=function(n,t){function i(n,t,i){r(i.coordDimToDataDim(t.dim),function(i){t.scale.unionExtent(n.getDataExtent(i,t.scale.type!=="ordinal"))})}s.each(this._axesList,function(n){n.scale.setExtent(Infinity,-Infinity)});n.eachSeries(function(r){if(r.get("coordinateSystem")==="cartesian2d"){var f=r.get("xAxisIndex"),e=r.get("yAxisIndex"),h=n.getComponent("xAxis",f),c=n.getComponent("yAxis",e);if(!o(h,t,n)||!o(c,t,n))return;var s=this.getCartesian(f,e),u=r.getData(),l=s.getAxis("x"),a=s.getAxis("y");u.type==="list"&&(i(u,l,r),i(u,a,r))}},this)};f.create=function(n,t){var i=[];return n.eachComponent("grid",function(r,u){var e=new f(r,n,t);e.name="grid_"+u;e.resize(r,t);r.coordinateSystem=e;i.push(e)}),n.eachSeries(function(t){if(t.get("coordinateSystem")==="cartesian2d"){var r=t.get("xAxisIndex"),u=n.getComponent("xAxis",r),f=i[u.get("gridIndex")];t.coordinateSystem=f.getCartesian(r,t.get("yAxisIndex"))}}),i};f.dimensions=h.prototype.dimensions;i(25).register("cartesian2d",f);n.exports=f},function(n,t,i){var o=i(109),f=i(111);i(112);i(113);var s=i(110),e=i(7),u=i(3),h=i(14),r={};r.getScaleExtent=function(n,t){var l=n.scale,o=l.getExtent(),s=o[1]-o[0],h,c;if(l.type==="ordinal")return isFinite(s)?o:[0,0];var r=t.getMin?t.getMin():t.get("min"),f=t.getMax?t.getMax():t.get("max"),a=t.getNeedCrossZero?t.getNeedCrossZero():!t.get("scale"),i=t.get("boundaryGap");return u.isArray(i)||(i=[i||0,i||0]),i[0]=e.parsePercent(i[0],1),i[1]=e.parsePercent(i[1],1),h=!0,c=!0,r==null&&(r=o[0]-i[0]*s,h=!1),f==null&&(f=o[1]+i[1]*s,c=!1),r==="dataMin"&&(r=o[0]),f==="dataMax"&&(f=o[1]),a&&(r>0&&f>0&&!h&&(r=0),r<0&&f<0&&!c&&(f=0)),[r,f]};r.niceScaleExtent=function(n,t){var i=n.scale,f=r.getScaleExtent(n,t),e=(t.getMin?t.getMin():t.get("min"))!=null,o=(t.getMax?t.getMax():t.get("max"))!=null,u;i.setExtent(f[0],f[1]);i.niceExtent(t.get("splitNumber"),e,o);u=t.get("interval");u!=null&&i.setInterval&&i.setInterval(u)};r.createScaleByModel=function(n,t){if(t=t||n.get("type"),t)switch(t){case"category":return new o(n.getCategories(),[Infinity,-Infinity]);case"value":return new f;default:return(s.getClass(t)||f).create(n)}};r.ifAxisCrossZero=function(n){var t=n.scale.getExtent(),i=t[0],r=t[1];return!(i>0&&r>0||i<0&&r<0)};r.getAxisLabelInterval=function(n,t,i,r){var o,s=0,c=0,f=1,e,l,u;for(t.length>40&&(f=Math.round(t.length/40)),e=0;e<n.length;e+=f)l=n[e],u=h.getBoundingRect(t[e],i,"center","top"),u[r?"x":"y"]+=l,u[r?"width":"height"]*=1.5,o?o.intersect(u)?(c++,s=Math.max(s,c)):(o.union(u),c=0):o=u.clone();return s===0&&f>1?f:s*f};r.getFormattedLabels=function(n,t){var i=n.scale,r=i.getTicksLabels(),f=i.getTicks();return typeof t=="string"?(t=function(n){return function(t){return n.replace("{value}",t)}}(t),u.map(r,t)):typeof t=="function"?u.map(f,function(r,u){return t(n.type==="category"?i.getLabel(r):r,u)},this):r};n.exports=r},function(n,t,i){var r=i(3),e=i(110),u=e.prototype,f=e.extend({type:"ordinal",init:function(n,t){this._data=n;this._extent=t||[0,n.length-1]},parse:function(n){return typeof n=="string"?r.indexOf(this._data,n):Math.round(n)},contain:function(n){return n=this.parse(n),u.contain.call(this,n)&&this._data[n]!=null},normalize:function(n){return u.normalize.call(this,this.parse(n))},scale:function(n){return Math.round(u.scale.call(this,n))},getTicks:function(){for(var t=[],i=this._extent,n=i[0];n<=i[1];)t.push(n),n++;return t},getLabel:function(n){return this._data[n]},count:function(){return this._extent[1]-this._extent[0]+1},niceTicks:r.noop,niceExtent:r.noop});f.create=function(){return new f};n.exports=f},function(n,t,i){function u(){this._extent=[Infinity,-Infinity];this._interval=0;this.init&&this.init.apply(this,arguments)}var f=i(9),r=u.prototype;r.parse=function(n){return n};r.contain=function(n){var t=this._extent;return n>=t[0]&&n<=t[1]};r.normalize=function(n){var t=this._extent;return t[1]===t[0]?.5:(n-t[0])/(t[1]-t[0])};r.scale=function(n){var t=this._extent;return n*(t[1]-t[0])+t[0]};r.unionExtent=function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1])};r.getExtent=function(){return this._extent.slice()};r.setExtent=function(n,t){var i=this._extent;isNaN(n)||(i[0]=n);isNaN(t)||(i[1]=t)};r.getTicksLabels=function(){for(var t=[],i=this.getTicks(),n=0;n<i.length;n++)t.push(this.getLabel(i[n]));return t};f.enableClassExtend(u);f.enableClassManagement(u,{registerWhenExtend:!0});n.exports=u},function(n,t,i){var r=i(7),o=i(6),s=i(110),f=Math.floor,e=Math.ceil,u=s.extend({type:"interval",_interval:0,setExtent:function(n,t){var i=this._extent;isNaN(n)||(i[0]=parseFloat(n));isNaN(t)||(i[1]=parseFloat(t))},unionExtent:function(n){var t=this._extent;n[0]<t[0]&&(t[0]=n[0]);n[1]>t[1]&&(t[1]=n[1]);u.prototype.setExtent.call(this,t[0],t[1])},getInterval:function(){return this._interval||this.niceTicks(),this._interval},setInterval:function(n){this._interval=n;this._niceExtent=this._extent.slice()},getTicks:function(){var t,i;this._interval||this.niceTicks();var f=this._interval,u=this._extent,n=[];if(f){for(t=this._niceExtent,u[0]<t[0]&&n.push(u[0]),i=t[0];i<=t[1];)if(n.push(i),i=r.round(i+f),n.length>1e4)return[];u[1]>t[1]&&n.push(u[1])}return n},getTicksLabels:function(){for(var t=[],i=this.getTicks(),n=0;n<i.length;n++)t.push(this.getLabel(i[n]));return t},getLabel:function(n){return o.addCommas(n)},niceTicks:function(n){var t,i,u,o;(n=n||5,t=this._extent,i=t[1]-t[0],isFinite(i))&&(i<0&&(i=-i,t.reverse()),u=r.nice(i/n,!0),o=[r.round(e(t[0]/u)*u),r.round(f(t[1]/u)*u)],this._interval=u,this._niceExtent=o)},niceExtent:function(n,t,i){var u=this._extent,s,h,o;u[0]===u[1]&&(u[0]!==0?(s=u[0]/2,u[0]-=s,u[1]+=s):u[1]=1);h=u[1]-u[0];isFinite(h)||(u[0]=0,u[1]=1);this.niceTicks(n);o=this._interval;t||(u[0]=r.round(f(u[0]/o)*o));i||(u[1]=r.round(e(u[1]/o)*o))}});u.create=function(){return new u};n.exports=u},function(n,t,i){var c=i(3),u=i(7),l=i(6),o=i(111),a=o.prototype,s=Math.ceil,h=Math.floor,r=864e5,v=function(n,t,i,r){while(i<r){var u=i+r>>>1;n[u][2]<t?i=u+1:r=u}return i},f=o.extend({type:"time",getLabel:function(n){var t=this._stepLvl,i=new Date(n);return l.formatTime(t[0],i)},niceExtent:function(n,t,i){var f=this._extent,o,e;f[0]===f[1]&&(f[0]-=r,f[1]+=r);f[1]===-Infinity&&f[0]===Infinity&&(o=new Date,f[1]=new Date(o.getFullYear(),o.getMonth(),o.getDate()),f[0]=f[1]-r);this.niceTicks(n,t,i);e=this._interval;t||(f[0]=u.round(h(f[0]/e)*e));i||(f[1]=u.round(s(f[1]/e)*e))},niceTicks:function(n){var c,l,a;n=n||10;var i=this._extent,f=i[1]-i[0],y=f/n,o=e.length,p=v(e,y,0,o),r=e[Math.min(p,o-1)],t=r[2];r[0]==="year"&&(c=f/t,l=u.nice(c/n,!0),t*=l);a=[s(i[0]/t)*t,h(i[1]/t)*t];this._stepLvl=r;this._interval=t;this._niceExtent=a},parse:function(n){return+u.parseDate(n)}}),e;c.each(["contain","normalize"],function(n){f.prototype[n]=function(t){return a[n].call(this,this.parse(t))}});e=[["hh:mm:ss",1,1e3],["hh:mm:ss",5,5e3],["hh:mm:ss",10,1e4],["hh:mm:ss",15,15e3],["hh:mm:ss",30,3e4],["hh:mm\nMM-dd",1,6e4],["hh:mm\nMM-dd",5,3e5],["hh:mm\nMM-dd",10,6e5],["hh:mm\nMM-dd",15,9e5],["hh:mm\nMM-dd",30,18e5],["hh:mm\nMM-dd",1,36e5],["hh:mm\nMM-dd",2,72e5],["hh:mm\nMM-dd",6,216e5],["hh:mm\nMM-dd",12,432e5],["MM-dd\nyyyy",1,r],["week",7,r*7],["month",1,r*31],["quarter",3,r*95],["half-year",6,r*190],["year",1,r*380]];f.create=function(){return new f};n.exports=f},function(n,t,i){var c=i(3),l=i(110),h=i(7),v=i(111),e=l.prototype,o=v.prototype,a=Math.floor,y=Math.ceil,f=Math.pow,u=10,r=Math.log,s=l.extend({type:"log",getTicks:function(){return c.map(o.getTicks.call(this),function(n){return h.round(f(u,n))})},getLabel:o.getLabel,scale:function(n){return n=e.scale.call(this,n),f(u,n)},setExtent:function(n,t){n=r(n)/r(u);t=r(t)/r(u);o.setExtent.call(this,n,t)},getExtent:function(){var n=e.getExtent.call(this);return n[0]=f(u,n[0]),n[1]=f(u,n[1]),n},unionExtent:function(n){n[0]=r(n[0])/r(u);n[1]=r(n[1])/r(u);e.unionExtent.call(this,n)},niceTicks:function(n){var i,u,t,e,o;(n=n||10,i=this._extent,u=i[1]-i[0],u===Infinity||u<=0)||(t=f(10,a(r(u/n)/Math.LN10)),e=n/u*t,e<=.5&&(t*=10),o=[h.round(y(i[0]/t)*t),h.round(a(i[1]/t)*t)],this._interval=t,this._niceExtent=o)},niceExtent:o.niceExtent});c.each(["contain","normalize"],function(n){s.prototype[n]=function(t){return t=r(t)/r(u),e[n].call(this,t)}});s.create=function(){return new s};n.exports=s},function(n,t,i){"use strict";function r(n){u.call(this,n)}var f=i(3),u=i(115);r.prototype={constructor:r,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(n){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(n[0]))&&i.contain(i.toLocalCoord(n[1]))},containData:function(n){return this.getAxis("x").containData(n[0])&&this.getAxis("y").containData(n[1])},dataToPoints:function(n,t){return n.mapArray(["x","y"],function(n,t){return this.dataToPoint([n,t])},t,this)},dataToPoint:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return[i.toGlobalCoord(i.dataToCoord(n[0],t)),r.toGlobalCoord(r.dataToCoord(n[1],t))]},pointToData:function(n,t){var i=this.getAxis("x"),r=this.getAxis("y");return[i.coordToData(i.toLocalCoord(n[0]),t),r.coordToData(r.toLocalCoord(n[1]),t)]},getOtherAxis:function(n){return this.getAxis(n.dim==="x"?"y":"x")}};f.inherits(r,u);n.exports=r},function(n,t,i){"use strict";function f(n){return this._axes[n]}var u=i(3),r=function(n){this._axes={};this._dimList=[];this.name=n||""};r.prototype={constructor:r,type:"cartesian",getAxis:function(n){return this._axes[n]},getAxes:function(){return u.map(this._dimList,f,this)},getAxesByScale:function(n){return n=n.toLowerCase(),u.filter(this.getAxes(),function(t){return t.scale.type===n})},addAxis:function(n){var t=n.dim;this._axes[t]=n;this._dimList.push(t)},dataToCoord:function(n){return this._dataCoordConvert(n,"dataToCoord")},coordToData:function(n){return this._dataCoordConvert(n,"coordToData")},_dataCoordConvert:function(n,t){for(var i,e,u=this._dimList,f=n instanceof Array?[]:{},r=0;r<u.length;r++)i=u[r],e=this._axes[i],f[i]=e[t](n[i]);return f}};n.exports=r},function(n,t,i){var f=i(3),u=i(117),e=i(118),r=function(n,t,i,r,f){u.call(this,n,t,i);this.type=r||"value";this.position=f||"bottom"};r.prototype={constructor:r,index:0,onZero:!1,model:null,isHorizontal:function(){var n=this.position;return n==="top"||n==="bottom"},getGlobalExtent:function(){var n=this.getExtent();return n[0]=this.toGlobalCoord(n[0]),n[1]=this.toGlobalCoord(n[1]),n},getLabelInterval:function(){var n=this._labelInterval;return n||(n=this._labelInterval=e(this)),n},isLabelIgnored:function(n){if(this.type==="category"){var t=this.getLabelInterval();return typeof t=="function"&&!t(n,this.scale.getLabel(n))||n%(t+1)}},toLocalCoord:null,toGlobalCoord:null};f.inherits(r,u);n.exports=r},function(n,t,i){function o(n,t){var r=n[1]-n[0],u=t,i=r/u/2;n[0]+=i;n[1]-=i}var u=i(7),f=u.linearMap,e=i(3),s=[0,1],r=function(n,t,i){this.dim=n;this.scale=t;this._extent=i||[0,0];this.inverse=!1;this.onBand=!1};r.prototype={constructor:r,contain:function(n){var t=this._extent,i=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]);return n>=i&&n<=r},containData:function(n){return this.contain(this.dataToCoord(n))},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(n){return u.getPixelPrecision(n||this.scale.getExtent(),this._extent)},setExtent:function(n,t){var i=this._extent;i[0]=n;i[1]=t},dataToCoord:function(n,t){var i=this._extent,r=this.scale;return n=r.normalize(n),this.onBand&&r.type==="ordinal"&&(i=i.slice(),o(i,r.count())),f(n,s,i,t)},coordToData:function(n,t){var i=this._extent,r=this.scale,u;return this.onBand&&r.type==="ordinal"&&(i=i.slice(),o(i,r.count())),u=f(n,i,s,t),this.scale.scale(u)},getTicksCoords:function(){var t,i,n;if(this.onBand){for(t=this.getBands(),i=[],n=0;n<t.length;n++)i.push(t[n][0]);return t[n-1]&&i.push(t[n-1][1]),i}return e.map(this.scale.getTicks(),this.dataToCoord,this)},getLabelsCoords:function(){var t,i,r,n;if(this.onBand){for(t=this.getBands(),i=[],n=0;n<t.length;n++)r=t[n],i.push((r[0]+r[1])/2);return i}return e.map(this.scale.getTicks(),this.dataToCoord,this)},getBands:function(){for(var r=this.getExtent(),u=[],t=this.scale.count(),i=r[0],e=r[1],f=e-i,n=0;n<t;n++)u.push([f*n/t+i,f*(n+1)/t+i]);return u},getBandWidth:function(){var t=this._extent,i=this.scale.getExtent(),n=i[1]-i[0]+(this.onBand?1:0),r;return n===0&&(n=1),r=Math.abs(t[1]-t[0]),Math.abs(r)/n}};n.exports=r},function(n,t,i){"use strict";var r=i(3),u=i(108);n.exports=function(n){var i=n.model,f=i.getModel("axisLabel"),t=f.get("interval");return(n.type==="category"&&t==="auto")?u.getAxisLabelInterval(r.map(n.scale.getTicks(),n.dataToCoord,n),i.getFormattedLabels(),f.getModel("textStyle").getFont(),n.isHorizontal()):t==="auto"?0:t}},function(n,t,i){"use strict";i(120);var r=i(19);n.exports=r.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}})},function(n,t,i){"use strict";function e(n,t){return t.type||(t.data?"category":"value")}var o=i(19),s=i(3),f=i(121),r=o.extend({type:"cartesian2dAxis",axis:null,init:function(){r.superApply(this,"init",arguments);this._resetRange()},mergeOption:function(){r.superApply(this,"mergeOption",arguments);this._resetRange()},restoreData:function(){r.superApply(this,"restoreData",arguments);this._resetRange()},setRange:function(n,t){this.option.rangeStart=n;this.option.rangeEnd=t},getMin:function(){var n=this.option;return n.rangeStart!=null?n.rangeStart:n.min},getMax:function(){var n=this.option;return n.rangeEnd!=null?n.rangeEnd:n.max},getNeedCrossZero:function(){var n=this.option;return n.rangeStart!=null||n.rangeEnd!=null?!1:!n.scale},_resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}}),u;s.merge(r.prototype,i(123));u={gridIndex:0};f("x",r,e,u);f("y",r,e,u);n.exports=r},function(n,t,i){var f=i(122),r=i(3),e=i(19),u=i(21),o=["value","category","time","log"];n.exports=function(n,t,i,s){r.each(o,function(e){t.extend({type:n+"Axis."+e,mergeDefaultAndTheme:function(t,f){var o=this.layoutMode,s=o?u.getLayoutParams(t):{},h=f.getTheme();r.merge(t,h.get(e+"Axis"));r.merge(t,this.getDefaultOption());t.type=i(n,t);o&&u.mergeLayoutParam(t,s,o)},defaultOption:r.mergeAll([{},f[e+"Axis"],s],!0)})});e.registerSubTypeDefaulter(n+"Axis",r.curry(i,n))}},function(n,t,i){var r=i(3),f={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameTextStyle:{},nameGap:15,silent:!0,axisLine:{show:!0,onZero:!0,lineStyle:{color:"#333",width:1,type:"solid"}},axisTick:{show:!0,inside:!1,length:5,lineStyle:{color:"#333",width:1}},axisLabel:{show:!0,inside:!1,rotate:0,margin:8,textStyle:{color:"#333",fontSize:12}},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},o=r.merge({boundaryGap:!0,axisTick:{interval:"auto"},axisLabel:{interval:"auto"}},f),u=r.defaults({boundaryGap:[0,0],splitNumber:5},f),s=r.defaults({scale:!0,min:"dataMin",max:"dataMax"},u),e=r.defaults({},u);e.scale=!0;n.exports={categoryAxis:o,valueAxis:u,timeAxis:s,logAxis:e}},function(n,t,i){function f(n){return r.isObject(n)&&n.value!=null?n.value:n}function e(){return this.get("type")==="category"&&r.map(this.get("data"),f)}function o(){return u.getFormattedLabels(this.axis,this.get("axisLabel.formatter"))}var r=i(3),u=i(108);n.exports={getFormattedLabels:o,getCategories:e}},function(n,t,i){"use strict";i(120);i(125)},function(n,t,i){function l(n,t){function a(n){var t=l.getAxis(n);return t.toGlobalCoord(t.dataToCoord(0))}var l=n.coordinateSystem,e=t.axis,i={},s=e.position,h=e.onZero?"onZero":s,o=e.dim,u=l.getRect(),f=[u.x,u.x+u.width,u.y,u.y+u.height],r={x:{top:f[2],bottom:f[3]},y:{left:f[0],right:f[1]}},v,y,c;return r.x.onZero=Math.max(Math.min(a("y"),r.x.bottom),r.x.top),r.y.onZero=Math.max(Math.min(a("x"),r.y.right),r.y.left),i.position=[o==="y"?r.y[h]:f[0],o==="x"?r.x[h]:f[3]],v={x:0,y:1},i.rotation=Math.PI/2*v[o],y={top:-1,bottom:1,left:-1,right:1},i.labelDirection=i.tickDirection=i.nameDirection=y[s],e.onZero&&(i.labelOffset=r[o][s]-r[o].onZero),t.getModel("axisTick").get("inside")&&(i.tickDirection=-i.tickDirection),t.getModel("axisLabel").get("inside")&&(i.labelDirection=-i.labelDirection),c=t.getModel("axisLabel").get("rotate"),i.labelRotation=h==="top"?-c:c,i.labelInterval=e.getLabelInterval(),i.z2=1,i}var r=i(3),u=i(42),f=i(126),e=f.ifIgnoreOnTick,o=f.getInterval,h=["axisLine","axisLabel","axisTick","axisName"],c=["splitLine","splitArea"],s=i(1).extendComponentView({type:"axis",render:function(n,t){if(this.group.removeAll(),n.get("show")){var u=t.getComponent("grid",n.get("gridIndex")),e=l(u,n),i=new f(n,e);r.each(h,i.add,i);this.group.add(i.getGroup());r.each(c,function(t){n.get(t+".show")&&this["_"+t](n,u,e.labelInterval)},this)}},_splitLine:function(n,t,i){var y=n.axis,b=n.getModel("splitLine"),w=b.getModel("lineStyle"),g=w.get("width"),s=w.get("color"),nt=o(b,i),v,p,d,f;s=r.isArray(s)?s:[s];var h=t.coordinateSystem.getRect(),tt=y.isHorizontal(),a=[],it=0,k=y.getTicksCoords(),c=[],l=[];for(f=0;f<k.length;f++)e(y,f,nt)||(v=y.toGlobalCoord(k[f]),tt?(c[0]=v,c[1]=h.y,l[0]=v,l[1]=h.y+h.height):(c[0]=h.x,c[1]=v,l[0]=h.x+h.width,l[1]=v),p=it++%s.length,a[p]=a[p]||[],a[p].push(new u.Line(u.subPixelOptimizeLine({shape:{x1:c[0],y1:c[1],x2:l[0],y2:l[1]},style:{lineWidth:g},silent:!0}))));for(d=w.getLineStyle(),f=0;f<a.length;f++)this.group.add(u.mergePath(a[f],{style:r.defaults({stroke:s[f%s.length]},d),silent:!0}))},_splitArea:function(n,t,i){for(var h=n.axis,d=n.getModel("splitArea"),g=d.getModel("areaStyle"),s=g.get("color"),v=t.coordinateSystem.getRect(),y=h.getTicksCoords(),nt=h.toGlobalCoord(y[0]),tt=h.toGlobalCoord(y[0]),c=[],rt=0,ut=o(d,i),k,l,a,p,w,b,it,s=r.isArray(s)?s:[s],f=1;f<y.length;f++)e(h,f,ut)||(k=h.toGlobalCoord(y[f]),h.isHorizontal()?(l=nt,a=v.y,p=k-l,w=v.height):(l=v.x,a=tt,p=v.width,w=k-a),b=rt++%s.length,c[b]=c[b]||[],c[b].push(new u.Rect({shape:{x:l,y:a,width:p,height:w},silent:!0})),nt=l+p,tt=a+w);for(it=g.getAreaStyle(),f=0;f<c.length;f++)this.group.add(u.mergePath(c[f],{style:r.defaults({fill:s[f%s.length]},it),silent:!0}))}});s.extend({type:"xAxis"});s.extend({type:"yAxis"})},function(n,t,i){function a(n){var t={componentType:n.mainType};return t[n.mainType+"Index"]=n.componentIndex,t}function v(n,t,i){var r=l(t-n.rotation),f,o;return e(r)?(o=i>0?"top":"bottom",f="center"):e(r-u)?(o=i>0?"bottom":"top",f="center"):(o="middle",f=r>0&&r<u?i>0?"right":"left":i>0?"left":"right"),{rotation:r,textAlign:f,verticalAlign:o}}function w(n,t,i){var r=l(-n.rotation),f,o,h=i[0]>i[1],s=t==="start"&&!h||t!=="start"&&h;return e(r-u/2)?(o=s?"bottom":"top",f="center"):e(r-u*1.5)?(o=s?"top":"bottom",f="center"):(o="middle",f=r<u*1.5&&r>u/2?s?"left":"right":s?"right":"left"),{rotation:r,textAlign:f,verticalAlign:o}}var h=i(3),r=i(42),p=i(8),c=i(7),l=c.remRadian,e=c.isRadianAroundZero,u=Math.PI,f=function(n,t){this.opt=t;this.axisModel=n;h.defaults(t,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0});this.group=new r.Group({position:t.position.slice(),rotation:t.rotation})},o,s,y;f.prototype={constructor:f,hasBuilder:function(n){return!!o[n]},add:function(n){o[n].call(this)},getGroup:function(){return this.group}};o={axisLine:function(){var t=this.opt,i=this.axisModel,n;i.get("axisLine.show")&&(n=this.axisModel.axis.getExtent(),this.group.add(new r.Line({shape:{x1:n[0],y1:0,x2:n[1],y2:0},style:h.extend({lineCap:"round"},i.getModel("axisLine.lineStyle").getLineStyle()),strokeContainThreshold:t.strokeContainThreshold,silent:!!t.axisLineSilent,z2:1})))},axisTick:function(){var t=this.axisModel,n,u;if(t.get("axisTick.show")){var f=t.axis,i=t.getModel("axisTick"),e=this.opt,o=i.getModel("lineStyle"),l=i.get("length"),a=y(i,e.labelInterval),h=f.getTicksCoords(),c=[];for(n=0;n<h.length;n++)s(f,n,a)||(u=h[n],c.push(new r.Line(r.subPixelOptimizeLine({shape:{x1:u,y1:0,x2:u,y2:e.tickDirection*l},style:{lineWidth:o.get("width")},silent:!0}))));this.group.add(r.mergePath(c,{style:o.getLineStyle(),z2:2,silent:!0}))}},axisLabel:function(){function it(n,t){var i=n&&n.getBoundingRect().clone(),r=t&&t.getBoundingRect().clone();if(i&&r)return i.applyTransform(n.getLocalTransform()),r.applyTransform(t.getLocalTransform()),i.intersect(r)}var n=this.axisModel,t,e,d,rt,g,ut;if(n.get("axisLabel.show")){var f=this.opt,o=n.axis,y=n.getModel("axisLabel"),nt=y.getModel("textStyle"),ft=y.get("margin"),w=o.scale.getTicks(),et=n.getFormattedLabels(),h=f.labelRotation;h==null&&(h=y.get("rotate")||0);h=h*u/180;var b=v(f,h,f.labelDirection),l=n.get("data"),i=[],ot=n.get("silent");for(t=0;t<w.length;t++)if(!s(o,t,f.labelInterval)){e=nt;l&&l[t]&&l[t].textStyle&&(e=new p(l[t].textStyle,nt,n.ecModel));var k=e.getTextColor(),st=o.dataToCoord(w[t]),ht=[st,f.labelOffset+f.labelDirection*ft],tt=o.scale.getLabel(w[t]),c=new r.Text({style:{text:et[t],textAlign:e.get("align",!0)||b.textAlign,textVerticalAlign:e.get("baseline",!0)||b.verticalAlign,textFont:e.getFont(),fill:typeof k=="function"?k(tt):k},position:ht,rotation:b.rotation,silent:ot,z2:10});c.eventData=a(n);c.eventData.targetType="axisLabel";c.eventData.value=tt;i.push(c);this.group.add(c)}o.type!=="category"&&((n.getMin?n.getMin():n.get("min"))&&(d=i[0],rt=i[1],it(d,rt)&&(d.ignore=!0)),(n.getMax?n.getMax():n.get("max"))&&(g=i[i.length-1],ut=i[i.length-2],it(ut,g)&&(g.ignore=!0)))}},axisName:function(){var i=this.opt,n=this.axisModel,u=this.opt.axisName,e;if(u==null&&(u=n.get("name")),u){var f=n.get("nameLocation"),h=i.nameDirection,c=n.getModel("nameTextStyle"),s=n.get("nameGap")||0,t=this.axisModel.axis.getExtent(),l=t[0]>t[1]?-1:1,y=[f==="start"?t[0]-l*s:f==="end"?t[1]+l*s:(t[0]+t[1])/2,f==="middle"?i.labelOffset+h*s:0],o;o=f==="middle"?v(i,i.rotation,h):w(i,f,t);e=new r.Text({style:{text:u,textFont:c.getFont(),fill:c.getTextColor()||n.get("axisLine.lineStyle.color"),textAlign:o.textAlign,textVerticalAlign:o.verticalAlign},position:y,rotation:o.rotation,silent:n.get("silent"),z2:1});e.eventData=a(n);e.eventData.targetType="axisName";e.eventData.name=u;this.group.add(e)}}};s=f.ifIgnoreOnTick=function(n,t,i){var r,u=n.scale;return u.type==="ordinal"&&(typeof i=="function"?(r=u.getTicks()[t],!i(r,u.getLabel(r))):t%(i+1))};y=f.getInterval=function(n,t){var i=n.get("interval");return(i==null||i=="auto")&&(i=t),i};n.exports=f},function(n,t,i){var f=i(3),u,r;i(107);i(128);i(129);u=i(131);r=i(1);r.registerLayout(f.curry(u,"bar"));r.registerVisualCoding("chart",function(n){n.eachSeriesByType("bar",function(n){var t=n.getData();t.setVisual("legendSymbol","roundRect")})});i(106)},function(n,t,i){"use strict";var r=i(27),u=i(93);n.exports=r.extend({type:"series.bar",dependencies:["grid","polar"],getInitialData:function(n,t){return u(n.data,this,t)},getMarkerPosition:function(n){var t=this.coordinateSystem;if(t){var i=t.dataToPoint(n),r=this.getData(),u=r.getLayout("offset"),f=r.getLayout("size"),e=t.getBaseAxis().isHorizontal()?0:1;return i[e]+=u+f/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,xAxisIndex:0,yAxisIndex:0,barMinHeight:0,itemStyle:{normal:{barBorderColor:"#fff",barBorderWidth:0},emphasis:{barBorderColor:"#fff",barBorderWidth:0}}}})},function(n,t,i){"use strict";function f(n,t){var i=n.width>0?1:-1,r=n.height>0?1:-1;t=Math.min(t,Math.abs(n.width),Math.abs(n.height));n.x+=i*t/2;n.y+=r*t/2;n.width-=i*t;n.height-=r*t}var u=i(3),r=i(42);u.extend(i(8).prototype,i(130));n.exports=i(1).extendChartView({type:"bar",render:function(n,t,i){var r=n.get("coordinateSystem");return r==="cartesian2d"&&this._renderOnCartesian(n,t,i),this.group},_renderOnCartesian:function(n){function h(i,e){var c=t.getItemLayout(i),y=t.getItemModel(i).get(s)||0,h;if(f(c,y),h=new r.Rect({shape:u.extend({},c)}),a){var p=h.shape,l=o?"height":"width",v={};p[l]=0;v[l]=c[l];r[e?"updateProps":"initProps"](h,{shape:v},n)}return h}var i=this.group,t=n.getData(),e=this._data,c=n.coordinateSystem,l=c.getBaseAxis(),o=l.isHorizontal(),a=n.get("animation"),s=["itemStyle","normal","barBorderWidth"];t.diff(e).add(function(n){if(t.hasValue(n)){var r=h(n);t.setItemGraphicEl(n,r);i.add(r)}}).update(function(u,o){var c=e.getItemGraphicEl(o),l,a;if(!t.hasValue(u)){i.remove(c);return}c||(c=h(u,!0));l=t.getItemLayout(u);a=t.getItemModel(u).get(s)||0;f(l,a);r.updateProps(c,{shape:l},n);t.setItemGraphicEl(u,c);i.add(c)}).remove(function(t){var u=e.getItemGraphicEl(t);u&&(u.style.text="",r.updateProps(u,{shape:{width:0}},n,function(){i.remove(u)}))}).execute();this._updateStyle(n,t,o);this._data=t},_updateStyle:function(n,t,i){function f(n,t,i,u,f){r.setText(n,t,i);n.text=u;n.textPosition==="outside"&&(n.textPosition=f)}t.eachItemGraphicEl(function(e,o){var s=t.getItemModel(o),h=t.getItemVisual(o,"color"),b=t.getItemVisual(o,"opacity"),l=t.getItemLayout(o),a=s.getModel("itemStyle.normal"),c=s.getModel("itemStyle.emphasis").getBarItemStyle();e.setShape("r",a.get("barBorderRadius")||0);e.setStyle(u.defaults({fill:h,opacity:b},a.getBarItemStyle()));var v=i?l.height>0?"bottom":"top":l.width>0?"left":"right",y=s.getModel("label.normal"),p=s.getModel("label.emphasis"),w=e.style;y.get("show")?f(w,y,h,u.retrieve(n.getFormattedLabel(o,"normal"),n.getRawValue(o)),v):w.text="";p.get("show")?f(c,p,h,u.retrieve(n.getFormattedLabel(o,"emphasis"),n.getRawValue(o)),v):c.text="";r.setHoverStyle(e,c)})},remove:function(n){var t=this.group;n.get("animation")?this._data&&this._data.eachItemGraphicEl(function(i){i.style.text="";r.updateProps(i,{shape:{width:0}},n,function(){t.remove(i)})}):t.removeAll()}})},function(n,t,i){n.exports={getBarItemStyle:i(11)([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]])}},function(n,t,i){"use strict";function f(n){return n.get("stack")||"__ec_stack_"+n.seriesIndex}function o(n){var i={},t;return r.each(n,function(n){var l=n.coordinateSystem,o=l.getBaseAxis(),t=i[o.index]||{remainedWidth:o.getBandWidth(),autoWidthCount:0,categoryGap:"20%",gap:"30%",axis:o,stacks:{}},u=t.stacks,r;i[o.index]=t;r=f(n);u[r]||t.autoWidthCount++;u[r]=u[r]||{width:0,maxWidth:0};var e=n.get("barWidth"),s=n.get("barMaxWidth"),h=n.get("barGap"),c=n.get("barCategoryGap");e&&!u[r].width&&(e=Math.min(t.remainedWidth,e),u[r].width=e,t.remainedWidth-=e);s&&(u[r].maxWidth=s);h!=null&&(t.gap=h);c!=null&&(t.categoryGap=c)}),t={},r.each(i,function(n,i){var h,l,a;t[i]={};var c=n.stacks,y=n.axis,p=y.getBandWidth(),v=u(n.categoryGap,p),e=u(n.gap,1),s=n.remainedWidth,o=n.autoWidthCount,f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);r.each(c,function(n){var t=n.maxWidth;!n.width&&t&&t<f&&(t=Math.min(t,s),s-=t,n.width=t,o--)});f=(s-v)/(o+(o-1)*e);f=Math.max(f,0);h=0;r.each(c,function(n){n.width||(n.width=f);l=n;h+=n.width*(1+e)});l&&(h-=l.width*e);a=-h/2;r.each(c,function(n,r){t[i][r]=t[i][r]||{offset:a,width:n.width};a+=n.width*(1+e)})}),t}function s(n,t){var u=o(r.filter(t.getSeriesByType(n),function(n){return!t.isSeriesFiltered(n)&&n.coordinateSystem&&n.coordinateSystem.type==="cartesian2d"})),i={};t.eachSeriesByType(n,function(n){var e=n.getData(),s=n.coordinateSystem,h=s.getBaseAxis(),t=f(n),a=u[h.index][t],c=a.offset,l=a.width,r=s.getOtherAxis(h),o=n.get("barMinHeight")||0,v=h.onZero?r.toGlobalCoord(r.dataToCoord(0)):r.getGlobalExtent()[0],y=s.dataToPoints(e,!0);i[t]=i[t]||[];e.setLayout({offset:c,size:l});e.each(r.dim,function(n,u){if(!isNaN(n)){i[t][u]||(i[t][u]={p:v,n:v});var p=n>=0?"p":"n",h=y[u],a=i[t][u][p],w,b,f,s;r.isHorizontal()?(w=a,b=h[1]+c,f=h[0]-a,s=l,Math.abs(f)<o&&(f=(f<0?-1:1)*o),i[t][u][p]+=f):(w=h[0]+c,b=a,f=l,s=h[1]-a,Math.abs(s)<o&&(s=(s<=0?-1:1)*o),i[t][u][p]+=s);e.setItemLayout(u,{x:w,y:b,width:f,height:s})}},!0)},this)}var r=i(3),e=i(7),u=e.parsePercent;n.exports=s},function(n,t,i){var r=i(3),u=i(1);i(133);i(135);i(136)("pie",[{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}]);u.registerVisualCoding("chart",r.curry(i(137),"pie"));u.registerLayout(r.curry(i(138),"pie"));u.registerProcessor("filter",r.curry(i(140),"pie"))},function(n,t,i){"use strict";var u=i(94),f=i(3),e=i(5),o=i(96),s=i(134),r=i(1).extendSeriesModel({type:"series.pie",init:function(n){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this.updateSelectedMap();this._defaultLabelLine(n)},mergeOption:function(n){r.superCall(this,"mergeOption",n);this.updateSelectedMap()},getInitialData:function(n){var i=o(["value"],n.data),t=new u(i,this);return t.initData(n.data),t},getDataParams:function(n){var i=this._data,t=r.superCall(this,"getDataParams",n),u=i.getSum("value");return t.percent=u?+(i.get("value",n)/u*100).toFixed(2):0,t.$vars.push("percent"),t},_defaultLabelLine:function(n){e.defaultEmphasis(n.labelLine,["show"]);var t=n.labelLine.normal,i=n.labelLine.emphasis;t.show=t.show&&n.label.normal.show;i.show=i.show&&n.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,selectedOffset:10,avoidLabelOverlap:!0,label:{normal:{rotate:!1,show:!0,position:"outer"},emphasis:{}},labelLine:{normal:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}}},itemStyle:{normal:{borderColor:"rgba(0,0,0,0)",borderWidth:1},emphasis:{borderColor:"rgba(0,0,0,0)",borderWidth:1}},animationEasing:"cubicOut",data:[]}});f.mixin(r,s);n.exports=r},function(n,t,i){var r=i(3);n.exports={updateSelectedMap:function(){var n=this.option;this._dataOptMap=r.reduce(n.data,function(n,t){return n[t.name]=t,n},{})},select:function(n){var t=this._dataOptMap,i=t[n],u=this.get("selectedMode");u==="single"&&r.each(t,function(n){n.selected=!1});i&&(i.selected=!0)},unSelect:function(n){var t=this._dataOptMap[n];t&&(t.selected=!1)},toggleSelected:function(n){var t=this._dataOptMap[n];if(t!=null)return this[t.selected?"unSelect":"select"](n),t.selected},isSelected:function(n){var t=this._dataOptMap[n];return t&&t.selected}}},function(n,t,i){function c(n,t,i,r){var u=t.getData(),f=this.dataIndex,o=u.getName(f),s=t.get("selectedOffset");r.dispatchAction({type:"pieToggleSelect",from:n,name:o,seriesId:t.id});u.each(function(n){e(u.getItemGraphicEl(n),u.getItemLayout(n),t.isSelected(u.getName(n)),s,i)})}function e(n,t,i,r,u){var f=(t.startAngle+t.endAngle)/2,s=Math.cos(f),h=Math.sin(f),e=i?r:0,o=[s*e,h*e];u?n.animate().when(200,{position:o}).start("bounceOut"):n.attr("position",o)}function f(n,t){function f(){i.ignore=i.hoverIgnore;u.ignore=u.hoverIgnore}function e(){i.ignore=i.normalIgnore;u.ignore=u.normalIgnore}r.Group.call(this);var o=new r.Sector({z2:2}),i=new r.Polyline,u=new r.Text;this.add(o);this.add(i);this.add(u);this.updateData(n,t,!0);this.on("emphasis",f).on("normal",e).on("mouseover",f).on("mouseout",e)}function s(n,t,i,r,f){var e=r.getModel("textStyle"),o=f==="inside"||f==="inner";return{fill:e.getTextColor()||(o?"#fff":n.getItemVisual(t,"color")),textFont:e.getFont(),text:u.retrieve(n.hostModel.getFormattedLabel(t,i),n.getName(t))}}var r=i(42),u=i(3),o=f.prototype,h;o.updateData=function(n,t,i){function v(){f.stopAnimation(!0);f.animateTo({shape:{r:o.r+10}},300,"elasticOut")}function y(){f.stopAnimation(!0);f.animateTo({shape:{r:o.r}},300,"elasticOut")}var f=this.childAt(0),s=n.hostModel,h=n.getItemModel(t),o=n.getItemLayout(t),c=u.extend({},o),l,a;if(c.label=null,i?(f.setShape(c),f.shape.endAngle=o.startAngle,r.updateProps(f,{shape:{endAngle:o.endAngle}},s)):r.updateProps(f,{shape:c},s),l=h.getModel("itemStyle"),a=n.getItemVisual(t,"color"),f.setStyle(u.defaults({fill:a},l.getModel("normal").getItemStyle())),f.hoverStyle=l.getModel("emphasis").getItemStyle(),e(this,n.getItemLayout(t),h.get("selected"),s.get("selectedOffset"),s.get("animation")),f.off("mouseover").off("mouseout").off("emphasis").off("normal"),h.get("hoverAnimation"))f.on("mouseover",v).on("mouseout",y).on("emphasis",v).on("normal",y);this._updateLabel(n,t);r.setHoverStyle(this)};o._updateLabel=function(n,t){var u=this.childAt(1),f=this.childAt(2),a=n.hostModel,o=n.getItemModel(t),p=n.getItemLayout(t),i=p.label,w=n.getItemVisual(t,"color"),e;r.updateProps(u,{shape:{points:i.linePoints||[[i.x,i.y],[i.x,i.y],[i.x,i.y]]}},a);r.updateProps(f,{style:{x:i.x,y:i.y}},a);f.attr({style:{textVerticalAlign:i.verticalAlign,textAlign:i.textAlign,textFont:i.font},rotation:i.rotation,origin:[i.x,i.y],z2:10});var h=o.getModel("label.normal"),c=o.getModel("label.emphasis"),l=o.getModel("labelLine.normal"),v=o.getModel("labelLine.emphasis"),y=h.get("position")||c.get("position");f.setStyle(s(n,t,"normal",h,y));f.ignore=f.normalIgnore=!h.get("show");f.hoverIgnore=!c.get("show");u.ignore=u.normalIgnore=!l.get("show");u.hoverIgnore=!v.get("show");u.setStyle({stroke:w});u.setStyle(l.getModel("lineStyle").getLineStyle());f.hoverStyle=s(n,t,"emphasis",c,y);u.hoverStyle=v.getModel("lineStyle").getLineStyle();e=l.get("smooth");e&&e===!0&&(e=.4);u.setShape({smooth:e})};u.inherits(f,r.Group);h=i(41).extend({type:"pie",init:function(){var n=new r.Group;this._sectorGroup=n},render:function(n,t,i,r){if(!r||r.from!==this.uid){var e=n.getData(),s=this._data,o=this.group,l=t.get("animation"),a=!s,v=u.curry(c,this.uid,n,l,i),y=n.get("selectedMode");if(e.diff(s).add(function(n){var t=new f(e,n);a&&t.eachChild(function(n){n.stopAnimation(!0)});y&&t.on("click",v);e.setItemGraphicEl(n,t);o.add(t)}).update(function(n,t){var i=s.getItemGraphicEl(t);i.updateData(e,n);i.off("click");y&&i.on("click",v);o.add(i);e.setItemGraphicEl(n,i)}).remove(function(n){var t=s.getItemGraphicEl(n);o.remove(t)}).execute(),l&&a&&e.count()>0){var h=e.getItemLayout(0),p=Math.max(i.getWidth(),i.getHeight())/2,w=u.bind(o.removeClipPath,o);o.setClipPath(this._createClipPath(h.cx,h.cy,p,h.startAngle,h.clockwise,w,n))}this._data=e}},_createClipPath:function(n,t,i,u,f,e,o){var s=new r.Sector({shape:{cx:n,cy:t,r0:0,r:i,startAngle:u,endAngle:u,clockwise:f}});return r.initProps(s,{shape:{endAngle:u+(f?1:-1)*Math.PI*2}},o,e),s}});n.exports=h},function(n,t,i){var r=i(1),u=i(3);n.exports=function(n,t){u.each(t,function(t){t.update="updateView";r.registerAction(t,function(i,r){var u={};return r.eachComponent({mainType:"series",subType:n,query:i},function(n){n[t.method]&&n[t.method](i.name);var r=n.getData();r.each(function(t){var i=r.getName(t);u[i]=n.isSelected(i)||!1})}),{name:i.name,selected:u}})})}},function(n){n.exports=function(n,t){var i=t.get("color"),r=0;t.eachRawSeriesByType(n,function(n){var f=n.get("color",!0),e=n.getRawData(),u;t.isSeriesFiltered(n)||(u=n.getData(),u.each(function(n){var c=u.getItemModel(n),t=u.getRawIndex(n),s=u.getItemVisual(n,"color",!0),h,o;s?e.setItemVisual(t,"color",s):(h=f?f[t%f.length]:i[(t+r)%i.length],o=c.get("itemStyle.normal.color")||h,e.setItemVisual(t,"color",o),u.setItemVisual(n,"color",o))}));r+=e.count()})}},function(n,t,i){var f=i(7),r=f.parsePercent,s=i(139),e=i(3),u=Math.PI*2,o=Math.PI/180;n.exports=function(n,t,i){t.eachSeriesByType(n,function(n){var c=n.get("center"),l=n.get("radius"),g;e.isArray(l)||(l=[0,l]);e.isArray(c)||(c=[c,c]);var b=i.getWidth(),k=i.getHeight(),nt=Math.min(b,k),ot=r(c[0],b),st=r(c[1],k),tt=r(l[0],nt/2),d=r(l[1],nt/2),t=n.getData(),v=-n.get("startAngle")*o,a=n.get("minAngle")*o,it=t.getSum("value"),y=Math.PI/(it||t.count())*2,rt=n.get("clockwise"),ut=n.get("roseType"),ft=t.getDataExtent("value");ft[0]=0;var p=u,et=0,h=v,w=rt?1:-1;t.each("value",function(n,i){var r,e;r=ut!=="area"?it===0?y:n*y:u/(t.count()||1);r<a?(r=a,p-=a):et+=n;e=h+w*r;t.setItemLayout(i,{angle:r,startAngle:h,endAngle:e,clockwise:rt,cx:ot,cy:st,r0:tt,r:ut?f.linearMap(n,ft,[tt,d]):d});h=e},!0);p<u&&(p<=.001?(g=u/t.count(),t.each(function(n){var i=t.getItemLayout(n);i.startAngle=v+w*n*g;i.endAngle=v+w*(n+1)*g})):(y=p/et,h=v,t.each("value",function(n,i){var r=t.getItemLayout(i),u=r.angle===a?a:n*y;r.startAngle=h;r.endAngle=h+w*u;h+=u})));s(n,d,b,k)})}},function(n,t,i){"use strict";function r(n,t,i,r,u,f,e){function p(t,i,r){for(var u=t;u<i;u++)if(n[u].y+=r,u>t&&u+1<i&&n[u+1].y>n[u].y+n[u].height){c(u,r/2);return}c(i-1,r/2)}function c(t,i){for(var r=t;r>=0;r--)if(n[r].y-=i,r>0&&n[r].y>n[r-1].y+n[r-1].height)break}function a(n,t,i,r,u,f){for(var s=f>0?t?Number.MAX_VALUE:0:t?Number.MAX_VALUE:0,e=0,a=n.length;e<a;e++)if(n[e].position!=="center"){var h=Math.abs(n[e].y-r),c=n[e].len,l=n[e].len2,o=h<u+c?Math.sqrt((u+c+l)*(u+c+l)-h*h):Math.abs(n[e].x-i);t&&o>=s&&(o=s-10);!t&&o<=s&&(o=s+10);n[e].x=i+o*f;s=o}}var o;n.sort(function(n,t){return n.y-t.y});var s=0,l,h=n.length,v=[],y=[];for(o=0;o<h;o++)l=n[o].y-s,l<0&&p(o,h,-l,u),s=n[o].y+n[o].height;for(e-s<0&&c(h-1,s-e),o=0;o<h;o++)n[o].y>=i?y.push(n[o]):v.push(n[o]);a(v,!1,t,i,r,u);a(y,!0,t,i,r,u)}function f(n,t,i,u,f,e){for(var s,l,h=[],c=[],o=0;o<n.length;o++)n[o].x<t?h.push(n[o]):c.push(n[o]);for(r(c,t,i,u,1,f,e),r(h,t,i,u,-1,f,e),o=0;o<n.length;o++)s=n[o].linePoints,s&&(l=s[1][0]-s[2][0],s[2][0]=n[o].x<t?n[o].x+3:n[o].x-3,s[1][1]=s[2][1]=n[o].y,s[1][0]=s[2][0]+l)}var u=i(14);n.exports=function(n,t,i,r){var e=n.getData(),h=[],o,s,c=!1;e.each(function(i){var r=e.getItemLayout(i),g=e.getItemModel(i),nt=g.getModel("label.normal"),a=nt.get("position")||g.get("label.emphasis.position"),it=g.getModel("labelLine.normal"),tt=it.get("length"),rt=it.get("length2"),v=(r.startAngle+r.endAngle)/2,f=Math.cos(v),y=Math.sin(v),p,w,ut,b,l,k,d;if(o=r.cx,s=r.cy,l=a==="inside"||a==="inner",a==="center")p=r.cx,w=r.cy,b="center";else{if(k=(l?(r.r+r.r0)/2*f:r.r*f)+o,d=(l?(r.r+r.r0)/2*y:r.r*y)+s,p=k+f*3,w=d+y*3,!l){var ft=k+f*(tt+t-r.r),et=d+y*(tt+t-r.r),ot=ft+(f<0?-1:1)*rt,st=et;p=ot+(f<0?-5:5);w=st;ut=[[k,d],[ft,et],[ot,st]]}b=l?"center":f>0?"left":"right"}var ht=nt.getModel("textStyle").getFont(),ct=nt.get("rotate")?f<0?-v+Math.PI:-v:0,lt=n.getFormattedLabel(i,"normal")||e.getName(i),at=u.getBoundingRect(lt,ht,b,"top");c=!!ct;r.label={x:p,y:w,position:a,height:at.height,len:tt,len2:rt,linePoints:ut,textAlign:b,verticalAlign:"middle",font:ht,rotation:ct};l||h.push(r.label)});!c&&n.get("avoidLabelOverlap")&&f(h,o,s,t,i,r)}},function(n){n.exports=function(n,t){var i=t.findComponents({mainType:"legend"});i&&i.length&&t.eachSeriesByType(n,function(n){var t=n.getData();t.filterSelf(function(n){for(var u=t.getName(n),r=0;r<i.length;r++)if(!i[r].isSelected(u))return!1;return!0},this)},this)}},function(n,t,i){var r=i(3),u=i(1);i(142);i(143);u.registerVisualCoding("chart",r.curry(i(103),"scatter","circle",null));u.registerLayout(r.curry(i(104),"scatter"));i(106)},function(n,t,i){"use strict";var r=i(93),u=i(27);n.exports=u.extend({type:"series.scatter",dependencies:["grid","polar"],getInitialData:function(n,t){return r(n.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10,large:!1,largeThreshold:2e3,itemStyle:{normal:{opacity:.8}}}})},function(n,t,i){var r=i(98),u=i(144);i(1).extendChartView({type:"scatter",init:function(){this._normalSymbolDraw=new r;this._largeSymbolDraw=new u},render:function(n){var r=n.getData(),i=this._largeSymbolDraw,u=this._normalSymbolDraw,f=this.group,t=n.get("large")&&r.count()>n.get("largeThreshold")?i:u;this._symbolDraw=t;t.updateData(r);f.add(t.group);f.remove(t===i?u.group:i.group)},updateLayout:function(n){this._symbolDraw.updateLayout(n)},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t,!0)}})},function(n,t,i){function f(){this.group=new u.Group;this._symbolEl=new s({silent:!0})}var u=i(42),e=i(100),o=i(3),s=u.extendShape({shape:{points:null,sizes:null},symbolProxy:null,buildPath:function(n,t){for(var u,i,e=t.points,s=t.sizes,o=this.symbolProxy,r=o.shape,f=0;f<e.length;f++)u=e[f],i=s[f],i[0]<4?n.rect(u[0]-i[0]/2,u[1]-i[1]/2,i[0],i[1]):(r.x=u[0]-i[0]/2,r.y=u[1]-i[1]/2,r.width=i[0],r.height=i[1],o.buildPath(n,r))}}),r=f.prototype;r.updateData=function(n){var t,r,i;this.group.removeAll();t=this._symbolEl;r=n.hostModel;t.setShape({points:n.mapArray(n.getItemLayout),sizes:n.mapArray(function(t){var i=n.getItemVisual(t,"symbolSize");return o.isArray(i)||(i=[i,i]),i})});t.symbolProxy=e.createSymbol(n.getVisual("symbol"),0,0,0,0);t.setColor=t.symbolProxy.setColor;t.setStyle(r.getModel("itemStyle.normal").getItemStyle(["color"]));i=n.getVisual("color");i&&t.setColor(i);this.group.add(this._symbolEl)};r.updateLayout=function(n){var t=n.getData();this._symbolEl.setShape({points:t.mapArray(t.getItemLayout)})};r.remove=function(){this.group.removeAll()};n.exports=f},function(n,t,i){var u=i(3),r=i(1);i(146);i(151);i(152);r.registerVisualCoding("chart",u.curry(i(137),"radar"));r.registerVisualCoding("chart",u.curry(i(103),"radar","circle",null));r.registerLayout(i(153));r.registerProcessor("filter",u.curry(i(140),"radar"));r.registerPreprocessor(i(154))},function(n,t,i){i(147);i(149);i(150)},function(n,t,i){function r(n,t,i){this._model=n;this.dimensions=[];this._indicatorAxes=u.map(n.getIndicatorModels(),function(n,t){var r="indicator_"+t,i=new o(r,new s);return i.name=n.get("name"),i.model=n,n.axis=i,this.dimensions.push(r),i},this);this.resize(n,i);this.cx;this.cy;this.r;this.startAngle}var u=i(3),o=i(148),s=i(111),f=i(7),e=i(108);r.prototype.getIndicatorAxes=function(){return this._indicatorAxes};r.prototype.dataToPoint=function(n,t){var i=this._indicatorAxes[t];return this.coordToPoint(i.dataToCoord(n),t)};r.prototype.coordToPoint=function(n,t){var r=this._indicatorAxes[t],i=r.angle,u=this.cx+n*Math.cos(i),f=this.cy-n*Math.sin(i);return[u,f]};r.prototype.pointToData=function(n){var i=n[0]-this.cx,r=n[1]-this.cy,u=Math.sqrt(i*i+r*r),t,e,o;i/=u;r/=u;var c=Math.atan2(-r,i),s=Infinity,f,h=-1;for(t=0;t<this._indicatorAxes.length;t++)e=this._indicatorAxes[t],o=Math.abs(c-e.angle),o<s&&(f=e,h=t,s=o);return[h,+(f&&f.coodToData(u))]};r.prototype.resize=function(n,t){var i=n.get("center"),r=t.getWidth(),e=t.getHeight(),o=Math.min(r,e)/2;this.cx=f.parsePercent(i[0],r);this.cy=f.parsePercent(i[1],e);this.startAngle=n.get("startAngle")*Math.PI/180;this.r=f.parsePercent(n.get("radius"),o);u.each(this._indicatorAxes,function(n,t){n.setExtent(0,this.r);var i=this.startAngle+t*Math.PI*2/this._indicatorAxes.length;i=Math.atan2(Math.sin(i),Math.cos(i));n.angle=i},this)};r.prototype.update=function(n){function r(n){var i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),t=n/i;return t===2?t=5:t*=2,t*i}var i=this._indicatorAxes,o=this._model,t;u.each(i,function(n){n.scale.setExtent(Infinity,-Infinity)});n.eachSeriesByType("radar",function(t){if(t.get("coordinateSystem")==="radar"&&n.getComponent("radar",t.get("radarIndex"))===o){var r=t.getData();u.each(i,function(n){n.scale.unionExtent(r.getDataExtent(n.dim))})}},this);t=o.get("splitNumber");u.each(i,function(n){var o=e.getScaleExtent(n,n.model),c,l,p,a,v;e.niceScaleExtent(n,n.model);var y=n.model,u=n.scale,s=y.get("min"),h=y.get("max"),i=u.getInterval();if(s!=null&&h!=null)u.setInterval((h-s)/t);else if(s!=null){do c=s+i*t,u.setExtent(+s,c),u.setInterval(i),i=r(i);while(c<o[1]&&isFinite(c)&&isFinite(o[1]))}else if(h!=null){do l=h-i*t,u.setExtent(l,+h),u.setInterval(i),i=r(i);while(l>o[0]&&isFinite(l)&&isFinite(o[0]))}else p=u.getTicks().length-1,p>t&&(i=r(i)),a=Math.round((o[0]+o[1])/2/i)*i,v=Math.round(t/2),u.setExtent(f.round(a-v*i),f.round(a+(t-v)*i)),u.setInterval(i)})};r.dimensions=[];r.create=function(n,t){var i=[];return n.eachComponent("radar",function(u){var f=new r(u,n,t);i.push(f);u.coordinateSystem=f}),n.eachSeriesByType("radar",function(n){n.get("coordinateSystem")==="radar"&&(n.coordinateSystem=i[n.get("radarIndex")||0])}),i};i(25).register("radar",r);n.exports=r},function(n,t,i){function u(n,t,i){r.call(this,n,t,i);this.type="value";this.angle=0;this.name="";this.model}var f=i(3),r=i(117);f.inherits(u,r);n.exports=u},function(n,t,i){function f(n,t){return r.defaults({show:t},n)}var e=i(122),u=e.valueAxis,o=i(8),r=i(3),s=i(123),h=i(1).extendComponentModel({type:"radar",optionUpdated:function(){var t=this.get("boundaryGap"),i=this.get("splitNumber"),u=this.get("scale"),f=this.get("axisLine"),e=this.get("axisTick"),h=this.get("axisLabel"),c=this.get("name.textStyle"),l=this.get("name.show"),n=this.get("name.formatter"),a=this.get("nameGap"),v=r.map(this.get("indicator")||[],function(v){return v.max!=null&&v.max>0?v.min=0:v.min!=null&&v.min<0&&(v.max=0),v=r.merge(r.clone(v),{boundaryGap:t,splitNumber:i,scale:u,axisLine:f,axisTick:e,axisLabel:h,name:v.text,nameLocation:"end",nameGap:a,nameTextStyle:c},!1),l||(v.name=""),typeof n=="string"?v.name=n.replace("{value}",v.name):typeof n=="function"&&(v.name=n(v.name,v)),r.extend(new o(v,null,this.ecModel),s)},this);this.getIndicatorModels=function(){return v}},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"75%",startAngle:90,name:{show:!0},boundaryGap:[0,0],splitNumber:5,nameGap:15,scale:!1,shape:"polygon",axisLine:r.merge({lineStyle:{color:"#bbb"}},u.axisLine),axisLabel:f(u.axisLabel,!1),axisTick:f(u.axisTick,!1),splitLine:f(u.splitLine,!0),splitArea:f(u.splitArea,!0),indicator:[]}});n.exports=h},function(n,t,i){var f=i(126),r=i(3),u=i(42),e=["axisLine","axisLabel","axisTick","axisName"];n.exports=i(1).extendComponentView({type:"radar",render:function(n){var t=this.group;t.removeAll();this._buildAxes(n);this._buildSplitLineAndArea(n)},_buildAxes:function(n){var t=n.coordinateSystem,i=t.getIndicatorAxes(),u=r.map(i,function(n){return new f(n.model,{position:[t.cx,t.cy],rotation:n.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})});r.each(u,function(n){r.each(e,n.add,n);this.group.add(n.getGroup())},this)},_buildSplitLineAndArea:function(n){function v(n,t,i){var r=i%t.length;return n[r]=n[r]||[],r}var l=n.coordinateSystem,et=n.get("splitNumber"),a=l.getIndicatorAxes(),s,h,rt,y,t,o,p,e,ut,ft;if(a.length){var ot=n.get("shape"),w=n.getModel("splitLine"),b=n.getModel("splitArea"),k=w.getModel("lineStyle"),d=b.getModel("areaStyle"),g=w.get("show"),nt=b.get("show"),i=k.get("color"),f=d.get("color");if(i=r.isArray(i)?i:[i],f=r.isArray(f)?f:[f],s=[],h=[],ot==="circle"){var c=a[0].getTicksCoords(),tt=l.cx,it=l.cy;for(t=0;t<c.length;t++)g&&(e=v(s,i,t),s[e].push(new u.Circle({shape:{cx:tt,cy:it,r:c[t]}}))),nt&&t<c.length-1&&(e=v(h,f,t),h[e].push(new u.Ring({shape:{cx:tt,cy:it,r0:c[t],r:c[t+1]}})))}else for(rt=r.map(a,function(n,t){var i=n.getTicksCoords();return r.map(i,function(n){return l.coordToPoint(n,t)})}),y=[],t=0;t<=et;t++){for(o=[],p=0;p<a.length;p++)o.push(rt[p][t]);o.push(o[0].slice());g&&(e=v(s,i,t),s[e].push(new u.Polyline({shape:{points:o}})));nt&&y&&(e=v(h,f,t-1),h[e].push(new u.Polygon({shape:{points:o.concat(y)}})));y=o.slice().reverse()}ut=k.getLineStyle();ft=d.getAreaStyle();r.each(h,function(n,t){this.group.add(u.mergePath(n,{style:r.defaults({stroke:"none",fill:f[t%f.length]},ft),silent:!0}))},this);r.each(s,function(n,t){this.group.add(u.mergePath(n,{style:r.defaults({fill:"none",stroke:i[t%i.length]},ut),silent:!0}))},this)}}})},function(n,t,i){"use strict";var u=i(27),f=i(94),e=i(96),o=i(3),s=i(6),r=u.extend({type:"series.radar",dependencies:["radar"],init:function(){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed}},getInitialData:function(n){var t=n.data||[],r=e([],t,[],"indicator_"),i=new f(r,this);return i.initData(t),i},formatTooltip:function(n){var t=this.getRawValue(n),i=this.coordinateSystem,r=i.getIndicatorAxes();return this._data.getName(n)+"<br />"+o.map(r,function(n,i){return n.name+" : "+t[i]}).join("<br />")},getFormattedLabel:function(n,t,i,r){t=t||"normal";var f=this.getData(),e=f.getItemModel(n),u=this.getDataParams(n);return(i==null&&(i=e.get(["label",t,"formatter"])),u.value=u.value[r||0],typeof i=="function")?(u.status=t,i(u)):typeof i=="string"?s.formatTpl(i,u):void 0},defaultOption:{zlevel:0,z:2,coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{normal:{width:2,type:"solid"}},label:{normal:{position:"top"}},symbol:"emptyCircle",symbolSize:4}});n.exports=r},function(n,t,i){function e(n){return u.isArray(n)||(n=[+n,+n]),n}var r=i(42),u=i(3),f=i(100);n.exports=i(1).extendChartView({type:"radar",render:function(n){function l(n,t){var r=n.getItemVisual(t,"symbol")||"circle",u=n.getItemVisual(t,"color"),i;if(r!=="none")return i=f.createSymbol(r,-.5,-.5,1,1,u),i.attr({style:{strokeNoScale:!0},z2:100,scale:e(n.getItemVisual(t,"symbolSize"))}),i}function h(t,i,u,f,e,o){var s,h;for(u.removeAll(),s=0;s<i.length-1;s++)h=l(f,e),h&&(h.__dimIdx=s,t[s]?(h.attr("position",t[s]),r[o?"initProps":"updateProps"](h,{position:i[s]},n)):h.attr("position",i[s]),u.add(h))}function c(n){return u.map(n,function(){return[o.cx,o.cy]})}var o=n.coordinateSystem,s=this.group,t=n.getData(),i=this._data;t.diff(i).add(function(i){var u=t.getItemLayout(i),f,s;if(u){var o=new r.Polygon,e=new r.Polyline,l={shape:{points:u}};o.shape.points=c(u);e.shape.points=c(u);r.initProps(o,l,n);r.initProps(e,l,n);f=new r.Group;s=new r.Group;f.add(e);f.add(o);f.add(s);h(e.shape.points,u,s,t,i,!0);t.setItemGraphicEl(i,f)}}).update(function(u,f){var e=i.getItemGraphicEl(f),s=e.childAt(0),c=e.childAt(1),l=e.childAt(2),o={shape:{points:t.getItemLayout(u)}};o.shape.points&&(h(s.shape.points,o.shape.points,l,t,u,!1),r.updateProps(s,o,n),r.updateProps(c,o,n),t.setItemGraphicEl(u,e))}).remove(function(n){s.remove(i.getItemGraphicEl(n))}).execute();t.eachItemGraphicEl(function(i,f){function b(){o.attr("ignore",v)}function k(){o.attr("ignore",a)}var e=t.getItemModel(f),y=i.childAt(0),o=i.childAt(1),d=i.childAt(2),h=t.getItemVisual(f,"color");s.add(i);y.setStyle(u.extend(e.getModel("lineStyle.normal").getLineStyle(),{stroke:h}));y.hoverStyle=e.getModel("lineStyle.emphasis").getLineStyle();var c=e.getModel("areaStyle.normal"),l=e.getModel("areaStyle.emphasis"),a=c.isEmpty()&&c.parentModel.isEmpty(),v=l.isEmpty()&&l.parentModel.isEmpty();v=v&&a;o.ignore=a;o.setStyle(u.defaults(c.getAreaStyle(),{fill:h,opacity:.7}));o.hoverStyle=l.getAreaStyle();var g=e.getModel("itemStyle.normal").getItemStyle(["color"]),nt=e.getModel("itemStyle.emphasis").getItemStyle(),p=e.getModel("label.normal"),w=e.getModel("label.emphasis");d.eachChild(function(i){i.setStyle(g);i.hoverStyle=u.clone(nt);var e=t.get(t.dimensions[i.__dimIdx],f);r.setText(i.style,p,h);i.setStyle({text:p.get("show")?u.retrieve(n.getFormattedLabel(f,"normal",null,i.__dimIdx),e):""});r.setText(i.hoverStyle,w,h);i.hoverStyle.text=w.get("show")?u.retrieve(n.getFormattedLabel(f,"emphasis",null,i.__dimIdx),e):""});i.off("mouseover").off("mouseout").off("normal").off("emphasis");i.on("emphasis",b).on("mouseover",b).on("normal",k).on("mouseout",k);r.setHoverStyle(i)});this._data=t},remove:function(){this.group.removeAll();this._data=null}})},function(n){n.exports=function(n){n.eachSeriesByType("radar",function(n){function e(n,r){t[r]=t[r]||[];t[r][i]=u.dataToPoint(n,i)}var r=n.getData(),t=[],u=n.coordinateSystem,i,f;if(u){for(i=0;i<u.getIndicatorAxes().length;i++)f=r.dimensions[i],r.each(f,e);r.each(function(n){t[n][0]&&t[n].push(t[n][0].slice());r.setItemLayout(n,t[n])})}})}},function(n,t,i){var r=i(3);n.exports=function(n){var t=n.polar,i;t&&(r.isArray(t)||(t=[t]),i=[],r.each(t,function(t){t.indicator?(t.type&&!t.shape&&(t.shape=t.type),n.radar=n.radar||[],r.isArray(n.radar)||(n.radar=[n.radar]),n.radar.push(t)):i.push(t)}),n.polar=i);r.each(n.series,function(n){n.type==="radar"&&n.polarIndex&&(n.radarIndex=n.polarIndex)})}},function(n,t,i){var r=i(1);i(156);i(157);i(161);i(163);r.registerLayout(i(173));r.registerVisualCoding("chart",i(174));r.registerProcessor("statistic",i(175));r.registerPreprocessor(i(176));i(136)("map",[{type:"mapToggleSelect",event:"mapselectchanged",method:"toggleSelected"},{type:"mapSelect",event:"mapselected",method:"select"},{type:"mapUnSelect",event:"mapunselected",method:"unSelect"}])},function(n,t,i){function v(n,t){for(var f,r={},u=t.features,i=0;i<n.length;i++)r[n[i].name]=n[i];for(i=0;i<u.length;i++)f=u[i].properties.name,!r[f];return n}var e=i(94),o=i(1),s=i(27),u=i(3),h=i(96),f=i(6),c=f.encodeHTML,l=f.addCommas,a=i(134),r=s.extend({type:"series.map",needsDrawMap:!1,seriesGroup:[],init:function(n){n=this._fillOption(n);this.option=n;r.superApply(this,"init",arguments);this.updateSelectedMap()},getInitialData:function(n){var i=h(["value"],n.data||[]),t=new e(i,this);return t.initData(n.data),t},mergeOption:function(n){n=this._fillOption(n);r.superCall(this,"mergeOption",n);this.updateSelectedMap()},_fillOption:function(n){n=u.extend({},n);var t=o.getMap(n.map),i=t&&t.geoJson;return i&&n.data&&(n.data=v(n.data,i)),n},setRoamZoom:function(n){var t=this.option.roamDetail;t&&(t.zoom=n)},setRoamPan:function(n,t){var i=this.option.roamDetail;i&&(i.x=n,i.y=t)},getRawValue:function(n){return this._data.get("value",n)},formatTooltip:function(n){for(var u=this._data,f=l(this.getRawValue(n)),e=u.getName(n),i=this.seriesGroup,r=[],t=0;t<i.length;t++)isNaN(i[t].getRawValue(n))||r.push(c(i[t].name));return r.join(", ")+"<br />"+e+" : "+f},defaultOption:{zlevel:0,z:2,coordinateSystem:"geo",map:"china",left:"center",top:"center",showLegendSymbol:!0,dataRangeHoverLink:!0,roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!1,textStyle:{color:"#000"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{areaColor:"rgba(255,215, 0, 0.8)"}}}});u.mixin(r,a);n.exports=r},function(n,t,i){var r=i(42),u=i(158);i(1).extendChartView({type:"map",render:function(n,t,i,r){var e,f;r&&r.type==="mapToggleSelect"&&r.from===this.uid||(e=this.group,e.removeAll(),r&&r.type==="geoRoam"&&r.component==="series"&&r.name===n.name?(f=this._mapDraw,f&&e.add(f.group)):n.needsDrawMap?(f=this._mapDraw||new u(i,!0),e.add(f.group),f.draw(n,t,i,this),this._mapDraw=f):(this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null),n.get("showLegendSymbol")&&t.getComponent("legend")&&this._renderSymbols(n,t,i))},remove:function(){this._mapDraw&&this._mapDraw.remove();this._mapDraw=null;this.group.removeAll()},_renderSymbols:function(n){var t=n.getData(),i=this.group;t.each("value",function(n,u){var f,s,o;if(!isNaN(n)&&(f=t.getItemLayout(u),f&&f.point)){var h=f.point,c=f.offset,e=new r.Circle({style:{fill:t.getVisual("color")},shape:{cx:h[0]+c*9,cy:h[1],r:3},silent:!0,z2:10});if(!c){var l=t.getName(u),a=t.getItemModel(u),v=a.getModel("label.normal"),y=a.getModel("label.emphasis"),p=v.getModel("textStyle"),w=y.getModel("textStyle"),b=t.getItemGraphicEl(u);e.setStyle({textPosition:"bottom"});s=function(){e.setStyle({text:y.get("show")?l:"",textFill:w.getTextColor(),textFont:w.getFont()})};o=function(){e.setStyle({text:v.get("show")?l:"",textFill:p.getTextColor(),textFont:p.getFont()})};b.on("mouseover",s).on("mouseout",o).on("emphasis",s).on("normal",o);o()}i.add(e)}})}})},function(n,t,i){function u(n){var t=n.getItemStyle(),i=n.get("areaColor");return i&&(t.fill=i),t}function h(n,t,i,r,u){i.off("click");n.get("selectedMode")&&i.on("click",function(i){var f=i.target.dataIndex,e;f!=null&&(e=t.getName(f),r.dispatchAction({type:"mapToggleSelect",seriesIndex:n.seriesIndex,name:e,from:u.uid}),o(n,t,r))})}function o(n,t){t.eachItemGraphicEl(function(i,r){var u=t.getName(r);i.trigger(n.isSelected(u)?"emphasis":"normal")})}function f(n,t){var i=new r.Group;this._controller=new s(n.getZr(),t?i:null,null);this.group=i;this._updateGroup=t}var s=i(159),r=i(42),e=i(3);f.prototype={constructor:f,draw:function(n,t,i,f){var s=n.getData&&n.getData(),b=n.coordinateSystem,l=this.group,c;l.removeAll();c=b.scale;l.position=b.position.slice();l.scale=c.slice();var a,v,y,k,p,w,d=["itemStyle","normal"],g=["itemStyle","emphasis"],nt=["label","normal"],tt=["label","emphasis"];s||(a=n.getModel(d),v=n.getModel(g),y=u(a,c),k=u(v,c),p=n.getModel(nt),w=n.getModel(tt));e.each(b.regions,function(t){var f=new r.Group,i,o,h,b,it;s&&(i=s.indexOfName(t.name),o=s.getItemModel(i),h=s.getItemVisual(i,"color",!0),a=o.getModel(d),v=o.getModel(g),y=u(a,c),k=u(v,c),p=o.getModel(nt),w=o.getModel(tt),h&&(y.fill=h));b=p.getModel("textStyle");it=w.getModel("textStyle");e.each(t.contours,function(n){var t=new r.Polygon({shape:{points:n},style:{strokeNoScale:!0},culling:!0});t.setStyle(y);f.add(t)});var rt=p.get("show"),ut=w.get("show"),ot=s&&isNaN(s.get("value",i)),ft=s&&s.getItemLayout(i);if(!s||ot&&(rt||ut)||ft&&ft.showLabel){var et=s?i:t.name,st=n.getFormattedLabel(et,"normal"),ht=n.getFormattedLabel(et,"emphasis"),ct=new r.Text({style:{text:rt?st||t.name:"",fill:b.getTextColor(),textFont:b.getFont(),textAlign:"center",textVerticalAlign:"middle"},hoverStyle:{text:ut?ht||t.name:"",fill:it.getTextColor(),textFont:it.getFont()},position:t.center.slice(),scale:[1/c[0],1/c[1]],z2:10,silent:!0});f.add(ct)}s&&s.setItemGraphicEl(i,f);r.setHoverStyle(f,k);l.add(f)});this._updateController(n,t,i);s&&h(n,s,l,i,f);s&&o(n,s)},remove:function(){this.group.removeAll();this._controller.dispose()},_updateController:function(n,t,i){var f=n.coordinateSystem,r=this._controller,u;r.zoomLimit=n.get("scaleLimit");r.zoom=n.get("roamDetail.zoom");r.enable(n.get("roam")||!1);u=n.type.split(".")[0];r.off("pan").on("pan",function(t,r){i.dispatchAction({type:"geoRoam",component:u,name:n.name,dx:t,dy:r})});r.off("zoom").on("zoom",function(t,r,f){if(i.dispatchAction({type:"geoRoam",component:u,name:n.name,zoom:t,originX:r,originY:f}),this._updateGroup){var e=this.group,o=e.scale;e.traverse(function(n){n.type==="text"&&n.attr("scale",[1/o[0],1/o[1]])})}},this);r.rect=f.getViewRect()}};n.exports=f},function(n,t,i){function h(n){if(!n.target||!n.target.draggable){var t=n.offsetX,i=n.offsetY,r=this.rect;r&&r.contain(t,i)&&(this._x=t,this._y=i,this._dragging=!0)}}function c(n){var t,i;if(this._dragging&&(r.stop(n.event),n.gestureEvent!=="pinch")){if(e.isTaken("globalPan",this._zr))return;var u=n.offsetX,f=n.offsetY,o=u-this._x,s=f-this._y;this._x=u;this._y=f;t=this.target;t&&(i=t.position,i[0]+=o,i[1]+=s,t.dirty());r.stop(n.event);this.trigger("pan",o,s)}}function l(){this._dragging=!1}function a(n){r.stop(n.event);var t=n.wheelDelta>0?1.1:1/1.1;o.call(this,n,t,n.offsetX,n.offsetY)}function v(n){if(!e.isTaken("globalPan",this._zr)){r.stop(n.event);var t=n.pinchScale>1?1.1:1/1.1;o.call(this,n,t,n.pinchX,n.pinchY)}}function o(n,t,i,r){var h=this.rect,u,o,e;if(h&&h.contain(i,r)){if(u=this.target,o=this.zoomLimit,u){var s=u.position,c=u.scale,f=this.zoom=this.zoom||1;f*=t;o&&(f=Math.max(Math.min(o.max,f),o.min));e=f/this.zoom;this.zoom=f;s[0]-=(i-s[0])*(e-1);s[1]-=(r-s[1])*(e-1);c[0]*=e;c[1]*=e;u.dirty()}this.trigger("zoom",t,i,r)}}function s(n,t,i){this.target=t;this.rect=i;this.zoomLimit;this.zoom;this._zr=n;var r=f.bind,e=r(h,this),o=r(c,this),s=r(l,this),y=r(a,this),p=r(v,this);u.call(this);this.enable=function(t){if(this.disable(),t==null&&(t=!0),t===!0||t==="move"||t==="pan"){n.on("mousedown",e);n.on("mousemove",o);n.on("mouseup",s)}if(t===!0||t==="scale"||t==="zoom"){n.on("mousewheel",y);n.on("pinch",p)}};this.disable=function(){n.off("mousedown",e);n.off("mousemove",o);n.off("mouseup",s);n.off("mousewheel",y);n.off("pinch",p)};this.dispose=this.disable;this.isDragging=function(){return this._dragging};this.isPinching=function(){return this._pinching}}var u=i(32),f=i(3),r=i(80),e=i(160);f.mixin(s,u);n.exports=s},function(n){function t(n){return n[i]||(n[i]={})}var i='\0_ec_interaction_mutex',r={take:function(n,i){t(i)[n]=!0},release:function(n,i){t(i)[n]=!1},isTaken:function(n,i){return!!t(i)[n]}};n.exports=r},function(n,t,i){var r=i(3),u=i(162),f=i(1);f.registerAction({type:"geoRoam",event:"geoRoam",update:"updateLayout"},function(n,t){var i=n.component||"series";t.eachComponent(i,function(t){var e,o,f;if(t.name===n.name){if(e=t.coordinateSystem,e.type!=="geo")return;o=t.getModel("roamDetail");f=u.calcPanAndZoom(o,n,t.get("scaleLimit"));t.setRoamPan&&t.setRoamPan(f.x,f.y);t.setRoamZoom&&t.setRoamZoom(f.zoom);e&&e.setPan(f.x,f.y);e&&e.setZoom(f.zoom);i==="series"&&r.each(t.seriesGroup,function(n){n.setRoamPan(f.x,f.y);n.setRoamZoom(f.zoom)})}})})},function(n){var t={};t.calcPanAndZoom=function(n,t,i){var o=t.dx,s=t.dy,r=t.zoom,u=n.get("x")||0,f=n.get("y")||0,e=n.get("zoom")||1,h,c;return o!=null&&s!=null&&(u+=o,f+=s),r!=null&&(i&&(r=Math.max(Math.min(e*r,i.max),i.min)/e),h=(t.originX-u)*(r-1),c=(t.originY-f)*(r-1),u-=h,f-=c),{x:u,y:f,zoom:(r||1)*e}};n.exports=t},function(n,t,i){function s(n,t){var u=this.getBoundingRect(),f=n.getBoxLayoutParams(),i;f.aspect=u.width/u.height*.75;i=l.getLayoutRect(f,{width:t.getWidth(),height:t.getHeight()});this.setViewRect(i.x,i.y,i.width,i.height);var r=n.getModel("roamDetail"),e=r.get("x")||0,o=r.get("y")||0,s=r.get("zoom")||1;this.setPan(e,o);this.setZoom(s)}function h(n,t){r.each(t.get("geoCoord"),function(t,i){n.addGeoCoord(i,t)})}function c(n){console.error("Map "+n+" not exists")}var e,u;i(164);var o=i(165),l=i(21),r=i(3),f={};e={dimensions:o.prototype.dimensions,create:function(n,t){var u=[],i;return n.eachComponent("geo",function(n,i){var l=n.get("map"),e=f[l],r;e||c(l);r=new o(l+i,l,e&&e.geoJson,e&&e.specialAreas,n.get("nameMap"));r.zoomLimit=n.get("scaleLimit");u.push(r);h(r,n);n.coordinateSystem=r;r.model=n;r.resize=s;r.resize(n,t)}),n.eachSeries(function(n){var i=n.get("coordinateSystem"),t;i==="geo"&&(t=n.get("geoIndex")||0,n.coordinateSystem=u[t])}),i={},n.eachSeriesByType("map",function(n){var t=n.get("map");i[t]=i[t]||[];i[t].push(n)}),r.each(i,function(n,i){var l=f[i],a,e;l||c(name);a=r.map(n,function(n){return n.get("nameMap")});e=new o(i,i,l&&l.geoJson,l&&l.specialAreas,r.mergeAll(a));e.zoomLimit=r.retrieve.apply(null,r.map(n,function(n){return n.get("scaleLimit")}));u.push(e);e.resize=s;e.resize(n[0],t);r.each(n,function(n){n.coordinateSystem=e;h(e,n)})}),u},registerMap:function(n,t,i){t.geoJson&&!t.features&&(i=t.specialAreas,t=t.geoJson);typeof t=="string"&&(t=typeof JSON!="undefined"&&JSON.parse?JSON.parse(t):new Function("return ("+t+");")());f[n]={geoJson:t,specialAreas:i}},getMap:function(n){return f[n]}};u=i(1);u.registerMap=e.registerMap;u.getMap=e.getMap;u.loadMap=function(){};u.registerCoordinateSystem("geo",e)},function(n,t,i){"use strict";var u=i(5),r=i(19);r.extend({type:"geo",coordinateSystem:null,init:function(n){r.prototype.init.apply(this,arguments);u.defaultEmphasis(n.label,["position","show","textStyle","distance","formatter"])},defaultOption:{zlevel:0,z:0,show:!0,left:"center",top:"center",map:"",roamDetail:{x:0,y:0,zoom:1},scaleLimit:null,label:{normal:{show:!1,textStyle:{color:"#000"}},emphasis:{show:!0,textStyle:{color:"rgb(100,0,0)"}}},itemStyle:{normal:{borderWidth:.5,borderColor:"#444",color:"#eee"},emphasis:{color:"rgba(255,215,0,0.8)"}}},getFormattedLabel:function(n,t){var i=this.get("label."+t+".formatter"),r={name:n};return typeof i=="function"?(r.status=t,i(r)):typeof i=="string"?i.replace("{a}",r.seriesName):void 0},setRoamZoom:function(n){var t=this.option.roamDetail;t&&(t.zoom=n)},setRoamPan:function(n,t){var i=this.option.roamDetail;i&&(i.x=n,i.y=t)}})},function(n,t,i){function r(n,t,i,r,f){u.call(this,n);this.map=t;this._nameCoordMap={};this.loadGeoJson(i,r,f)}var o=i(166),f=i(3),e=i(15),u=i(169),s=[i(170),i(171),i(172)];r.prototype={constructor:r,type:"geo",dimensions:["lng","lat"],loadGeoJson:function(n,t,i){var e,c,r,u,h;try{this.regions=n?o(n):[]}catch(l){throw"Invalid geoJson format\n"+l;}for(t=t||{},i=i||{},e=this.regions,c={},r=0;r<e.length;r++)u=e[r].name,u=i[u]||u,e[r].name=u,c[u]=e[r],this.addGeoCoord(u,e[r].center),h=t[u],h&&e[r].transformTo(h.left,h.top,h.width,h.height);this._regionsMap=c;this._rect=null;f.each(s,function(n){n(this)},this)},transformTo:function(n,t,i,r){var u=this.getBoundingRect(),f,o;u=u.clone();u.y=-u.y-u.height;f=this._viewTransform;f.transform=u.calculateTransform(new e(n,t,i,r));f.decomposeTransform();o=f.scale;o[1]=-o[1];f.updateTransform();this._updateTransform()},getRegion:function(n){return this._regionsMap[n]},addGeoCoord:function(n,t){this._nameCoordMap[n]=t},getGeoCoord:function(n){return this._nameCoordMap[n]},getBoundingRect:function(){var n,i,t,r;if(this._rect)return this._rect;for(i=this.regions,t=0;t<i.length;t++)r=i[t].getBoundingRect(),n=n||r.clone(),n.union(r);return this._rect=n||new e(0,0,0,0)},dataToPoints:function(n){var t=[];return n.mapArray(["lng","lat"],function(n,i){return t[0]=n,t[1]=i,this.dataToPoint(t)},this)},dataToPoint:function(n){return typeof n=="string"&&(n=this.getGeoCoord(n)),n?u.prototype.dataToPoint.call(this,n):void 0}};f.mixin(r,u);n.exports=r},function(n,t,i){function e(n){var o,f,t,r,i,c;if(!n.UTF8Encoding)return n;for(o=n.features,f=0;f<o.length;f++){var l=o[f],e=l.geometry,s=e.coordinates,h=e.encodeOffsets;for(t=0;t<s.length;t++)if(r=s[t],e.type==="Polygon")s[t]=u(r,h[t]);else if(e.type==="MultiPolygon")for(i=0;i<r.length;i++)c=r[i],r[i]=u(c,h[t][i])}return n.UTF8Encoding=!1,n}function u(n,t){for(var i,r,f=[],e=t[0],o=t[1],u=0;u<n.length;u+=2)i=n.charCodeAt(u)-64,r=n.charCodeAt(u+1)-64,i=i>>1^-(i&1),r=r>>1^-(r&1),i+=e,r+=o,e=i,o=r,f.push([i/1024,r/1024]);return f}function o(n){for(var i,r=[],t=0;t<n.length;t++)for(i=0;i<n[t].length;i++)r.push(n[t][i]);return r}var r=i(3),f=i(167);n.exports=function(n){return e(n),r.map(r.filter(n.features,function(n){return n.geometry&&n.properties}),function(n){var i=n.properties,r=n.geometry,t=r.coordinates;return r.type==="MultiPolygon"&&(t=o(t)),new f(i.name,t,i.cp)})}},function(n,t,i){function u(n,t,i){if(this.name=n,this.contours=t,i)i=[i[0],i[1]];else{var r=this.getBoundingRect();i=[r.x+r.width/2,r.y+r.height/2]}this.center=i}var e=i(168),f=i(15),o=i(50),r=i(16);u.prototype={constructor:u,getBoundingRect:function(){var e=this._rect,i;if(e)return e;var u=Number.MAX_VALUE,n=[u,u],t=[-u,-u],s=[],h=[],c=this.contours;for(i=0;i<c.length;i++)o.fromPoints(c[i],s,h),r.min(n,n,s),r.max(t,t,h);return i===0&&(n[0]=n[1]=t[0]=t[1]=0),this._rect=new f(n[0],n[1],t[0]-n[0],t[1]-n[1])},contain:function(n){var u=this.getBoundingRect(),i=this.contours,t,r;if(u.contain(n[0],n[1]))for(t=0,r=i.length;t<r;t++)if(e.contain(i[t],n[0],n[1]))return!0;return!1},transformTo:function(n,t,i,u){var e=this.getBoundingRect(),c=e.width/e.height,o,s;i?u||(u=i/c):i=c*u;var l=new f(n,t,i,u),a=e.calculateTransform(l),h=this.contours;for(o=0;o<h.length;o++)for(s=0;s<h[o].length;s++)r.applyTransform(h[o][s],h[o][s],a);e=this._rect;e.copy(l);this.center=[e.x+e.width/2,e.y+e.height/2]}};n.exports=u},function(n,t,i){function u(n,t){return Math.abs(n-t)<f}function e(n,t,i){var h=0,f=n[0],o,s,e;if(!f)return!1;for(o=1;o<n.length;o++)s=n[o],h+=r(f[0],f[1],s[0],s[1],t,i),f=s;return e=n[0],u(f[0],e[0])&&u(f[1],e[1])||(h+=r(f[0],f[1],e[0],e[1],t,i)),h!==0}var r=i(57),f=1e-8;n.exports={contain:e}},function(n,t,i){function e(){r.call(this)}function u(n){this.name=n;this.zoomLimit;r.call(this);this._roamTransform=new e;this._viewTransform=new e}var h=i(16),c=i(17),r=i(33),o=i(3),f=i(15),s=h.applyTransform;o.mixin(e,r);u.prototype={constructor:u,type:"view",dimensions:["x","y"],setBoundingRect:function(n,t,i,r){return this._rect=new f(n,t,i,r),this._rect},getBoundingRect:function(){return this._rect},setViewRect:function(n,t,i,r){this.transformTo(n,t,i,r);this._viewRect=new f(n,t,i,r)},transformTo:function(n,t,i,r){var e=this.getBoundingRect(),u=this._viewTransform;u.transform=e.calculateTransform(new f(n,t,i,r));u.decomposeTransform();this._updateTransform()},setPan:function(n,t){this._roamTransform.position=[n,t];this._updateTransform()},setZoom:function(n){var t=this.zoomLimit;t&&(n=Math.max(Math.min(n,t.max),t.min));this._roamTransform.scale=[n,n];this._updateTransform()},getRoamTransform:function(){return this._roamTransform.transform},_updateTransform:function(){var t=this._roamTransform,n=this._viewTransform;n.parent=t;t.updateTransform();n.updateTransform();n.transform&&c.copy(this.transform||(this.transform=[]),n.transform);this.decomposeTransform()},getViewRect:function(){return this._viewRect},dataToPoint:function(n){var t=this.transform;return t?s([],n,t):[n[0],n[1]]},pointToData:function(n){var t=this.invTransform;return t?s([],n,t):[n[0],n[1]]}};o.mixin(u,r);n.exports=u},function(n,t,i){for(var f,o=i(167),e=[126,25],r=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],u=0;u<r.length;u++)for(f=0;f<r[u].length;f++)r[u][f][0]/=10.5,r[u][f][1]/=-10.5/.75,r[u][f][0]+=e[0],r[u][f][1]+=e[1];n.exports=function(n){n.map==="china"&&n.regions.push(new o("南海诸岛",r,e))}},function(n,t,i){var r=i(3),u={"南海诸岛":[32,80],"广东":[0,-10],"香港":[10,5],"澳门":[-10,10],"天津":[5,5]};n.exports=function(n){r.each(n.regions,function(n){var t=u[n.name],i;t&&(i=n.center,i[0]+=t[0]/10.5,i[1]+=-t[1]/(10.5/.75))})}},function(n,t,i){var r=i(3),u={Russia:[100,60],"United States of America":[-99,38]};n.exports=function(n){r.each(n.regions,function(n){var t=u[n.name],i;t&&(i=n.center,i[0]=t[0],i[1]=t[1])})}},function(n,t,i){var r=i(3);n.exports=function(n){var t={};n.eachSeriesByType("map",function(i){var e=i.get("map"),f,u;t[e]||(f={},r.each(i.seriesGroup,function(t){var r=t.coordinateSystem,i=t.getData();t.get("showLegendSymbol")&&n.getComponent("legend")&&i.each("value",function(n,t){var u=i.getName(t),o=r.getRegion(u),e,s;o&&!isNaN(n)&&(e=f[u]||0,s=r.dataToPoint(o.center),f[u]=e+1,i.setItemLayout(t,{point:s,offset:e}))})}),u=i.getData(),u.each(function(n){var i=u.getName(n),t=u.getItemLayout(n)||{};t.showLabel=!f[i];u.setItemLayout(n,t)}),t[e]=!0)})}},function(n){n.exports=function(n){n.eachSeriesByType("map",function(n){var t=n.get("color"),i=n.getModel("itemStyle.normal"),r=i.get("areaColor"),u=i.get("color")||t[n.seriesIndex%t.length];n.getData().setVisual({areaColor:r,color:u})})}},function(n,t,i){function u(n,t){for(var i={},u=["value"],r=0;r<n.length;r++)n[r].each(u,function(t,u){var f=n[r].getName(u);i[f]=i[f]||[];isNaN(t)||i[f].push(t)});return n[0].map(u,function(r,u){for(var l,e=n[0].getName(u),o=0,s=Infinity,h=-Infinity,c=i[e].length,f=0;f<c;f++)s=Math.min(s,i[e][f]),h=Math.max(h,i[e][f]),o+=i[e][f];return l=t==="min"?s:t==="max"?h:t==="average"?o/c:o,c===0?NaN:l})}var r=i(3);n.exports=function(n){var t={};n.eachSeriesByType("map",function(n){var i=n.get("map");t[i]=t[i]||[];t[i].push(n)});r.each(t,function(n){var i=u(r.map(n,function(n){return n.getData()}),n[0].get("mapValueCalculation")),t;for(n[0].seriesGroup=[],n[0].setData(i),t=0;t<n.length;t++)n[t].seriesGroup=n,n[t].needsDrawMap=t===0})}},function(n,t,i){function e(n){var t={};return r.each(f,function(i){n[i]!=null&&(t[i]=n[i])}),t}var r=i(3),f=["x","y","x2","y2","width","height","map","roam","roamDetail","label","itemStyle"],u={};n.exports=function(n){var i=[],t;r.each(n.series,function(n){n.type==="map"&&i.push(n);r.extend(u,n.geoCoord)});t={};r.each(i,function(i){var s,o,f;i.map=i.map||i.mapType;r.defaults(i,i.mapLocation);i.markPoint&&(s=i.markPoint,s.data=r.map(s.data,function(n){var t,i;return r.isArray(n.value)||(n.geoCoord?t=n.geoCoord:n.name&&(t=u[n.name]),i=t?[t[0],t[1]]:[NaN,NaN],n.value!=null&&i.push(n.value),n.value=i),n}),i.data&&i.data.length||(n.geo||(n.geo=[]),o=t[i.map],o||(o=t[i.map]=e(i),n.geo.push(o)),f=i.markPoint,f.type=n.effect&&n.effect.show?"effectScatter":"scatter",f.coordinateSystem="geo",f.geoIndex=r.indexOf(n.geo,o),f.name=i.name,n.series.splice(r.indexOf(n.series,i),1,f)))})}},function(n,t,i){var r=i(1);i(178);i(182);i(185);r.registerVisualCoding("chart",i(186));r.registerLayout(i(188))},function(n,t,i){function o(n,t){var u=0,i;r.each(n.children,function(n){o(n,t);var i=n.value;r.isArray(i)&&(i=i[0]);u+=i});i=n.value;t>=0&&(r.isArray(i)?i=i[0]:n.value=new Array(t));(i==null||isNaN(i))&&(i=u);i<0&&(i=0);t>=0?n.value[0]=i:n.value=i}function l(n,t){var i=t.get("color"),u,f;if(i)return n=n||[],r.each(n,function(n){var t=new h(n),i=t.get("color");(t.get("itemStyle.normal.color")||i&&i!=="none")&&(u=!0)}),u||(f=n[0]||(n[0]={}),f.color=i.slice()),n}var u=i(27),s=i(179),r=i(3),h=i(8),f=i(6),a=i(181),c=f.encodeHTML,e=f.addCommas;n.exports=u.extend({type:"series.treemap",dependencies:["grid","polar"],_viewRoot:null,defaultOption:{left:"center",top:"middle",right:null,bottom:null,width:"80%",height:"80%",sort:!0,clipWindow:"origin",squareRatio:.5*(1+Math.sqrt(5)),leafDepth:null,visualDimension:0,zoomToNodeRatio:.32*.32,roam:!0,nodeClick:"zoomToNode",animation:!0,animationDurationUpdate:900,animationEasing:"quinticInOut",breadcrumb:{show:!0,height:22,left:"center",top:"bottom",emptyItemWidth:25,itemStyle:{normal:{color:"rgba(0,0,0,0.7)",borderColor:"rgba(255,255,255,0.7)",borderWidth:1,shadowColor:"rgba(150,150,150,1)",shadowBlur:3,shadowOffsetX:0,shadowOffsetY:0,textStyle:{color:"#fff"}},emphasis:{textStyle:{}}}},label:{normal:{show:!0,position:["50%","50%"],textStyle:{align:"center",baseline:"middle",color:"#fff",ellipsis:!0}}},itemStyle:{normal:{color:null,colorAlpha:null,colorSaturation:null,borderWidth:0,gapWidth:0,borderColor:"#fff",borderColorSaturation:null},emphasis:{}},color:"none",colorAlpha:null,colorSaturation:null,colorMappingBy:"index",visibleMin:10,childrenVisibleMin:null,levels:[]},getInitialData:function(n,t){var h=n.data||[],u=n.name,f,e,i;return u==null&&(u=n.name),f={name:u,children:n.data},e=(h[0]||{}).value,o(f,r.isArray(e)?e.length:-1),i=n.levels||[],i=n.levels=l(i,t),s.createTree(f,this,i).data},optionUpdated:function(){this.resetViewRoot()},formatTooltip:function(n){var i=this.getData(),t=this.getRawValue(n),u=r.isArray(t)?e(t[0]):e(t),f=i.getName(n);return c(f)+": "+u},getDataParams:function(n){for(var r=u.prototype.getDataParams.apply(this,arguments),e=this.getData(),t=e.tree.getNodeByDataIndex(n),f=r.treePathInfo=[],i;t;)i=t.dataIndex,f.push({name:t.name,dataIndex:i,value:this.getRawValue(i)}),t=t.parentNode;return f.reverse(),r},setLayoutInfo:function(n){this.layoutInfo=this.layoutInfo||{};r.extend(this.layoutInfo,n)},mapIdToIndex:function(n){var t=this._idIndexMap,i;return t||(t=this._idIndexMap={},this._idIndexMapCount=0),i=t[n],i==null&&(t[n]=i=this._idIndexMapCount++),i},getViewRoot:function(){return this._viewRoot},resetViewRoot:function(n){n?this._viewRoot=n:n=this._viewRoot;var t=this.getData().tree.root;n&&(n===t||t.contains(n))||(this._viewRoot=t)}})},function(n,t,i){function r(n,t){this.root;this.data;this._nodes=[];this.hostModel=n;this.levelModels=f.map(t||[],function(t){return new e(t,n,n.ecModel)})}function c(n,t){var i=t.children;n.parentNode!==t&&(i.push(n),n.parentNode=t,t.hostTree._nodes.push(n))}var f=i(3),e=i(8),o=i(94),s=i(180),h=i(96),u=function(n,t,i){this.name=n||"";this.depth=0;this.height=0;this.parentNode=null;this.dataIndex=t==null?-1:t;this.children=[];this.viewChildren=[];this.hostTree=i};u.prototype={constructor:u,isRemoved:function(){return this.dataIndex<0},eachNode:function(n,t,i){var u,e,o,r;for(typeof n=="function"&&(i=t,t=n,n=null),n=n||{},f.isString(n)&&(n={order:n}),u=n.order||"preorder",e=this[n.attr||"children"],u==="preorder"&&(o=t.call(i,this)),r=0;!o&&r<e.length;r++)e[r].eachNode(n,t,i);u==="postorder"&&t.call(i,this)},updateDepthAndHeight:function(n){var r=0,t,i;for(this.depth=n,t=0;t<this.children.length;t++)i=this.children[t],i.updateDepthAndHeight(n+1),i.height>r&&(r=i.height);this.height=r+1},getNodeById:function(n){var i;if(this.getId()===n)return this;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].getNodeById(n),i)return i},contains:function(n){var i;if(n===this)return!0;for(var t=0,r=this.children,u=r.length;t<u;t++)if(i=r[t].contains(n),i)return i},getAncestors:function(n){for(var i=[],t=n?this:this.parentNode;t;)i.push(t),t=t.parentNode;return i.reverse(),i},getValue:function(n){var t=this.hostTree.data;return t.get(t.getDimension(n||"value"),this.dataIndex)},setLayout:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemLayout(this.dataIndex,n,t)},getLayout:function(){return this.hostTree.data.getItemLayout(this.dataIndex)},getModel:function(n){if(!(this.dataIndex<0)){var t=this.hostTree,i=t.data.getItemModel(this.dataIndex),r=this.getLevelModel();return i.getModel(n,(r||t.hostModel).getModel(n))}},getLevelModel:function(){return(this.hostTree.levelModels||[])[this.depth]},setVisual:function(n,t){this.dataIndex>=0&&this.hostTree.data.setItemVisual(this.dataIndex,n,t)},getVisual:function(n,t){return this.hostTree.data.getItemVisual(this.dataIndex,n,t)},getRawIndex:function(){return this.hostTree.data.getRawIndex(this.dataIndex)},getId:function(){return this.hostTree.data.getId(this.dataIndex)}};r.prototype={constructor:r,type:"tree",eachNode:function(n,t,i){this.root.eachNode(n,t,i)},getNodeByDataIndex:function(n){var t=this.data.getRawIndex(n);return this._nodes[t]},getNodeByName:function(n){return this.root.getNodeByName(n)},update:function(){for(var r=this.data,t=this._nodes,n=0,i=t.length;n<i;n++)t[n].dataIndex=-1;for(n=0,i=r.count();n<i;n++)t[r.getRawIndex(n)].dataIndex=n}};r.createTree=function(n,t,i){function a(n,t){var i,r,o;if(e.push(n),i=new u(n.name,e.length-1,f),t?c(i,t):f.root=i,r=n.children,r)for(o=0;o<r.length;o++)a(r[o],i)}var f=new r(t,i),e=[],v,l;return a(n),f.root.updateDepthAndHeight(0),v=h([{name:"value"}],e),l=new o(v,t),l.initData(e),s.linkToTree(l,f),f};n.exports=r},function(n,t,i){function r(n,t,i){return f.each(e,function(r,u){var e=n[u];n[u]=f.curry(r,e,t,i)}),n[i]=t,t.data=n,n}var f=i(3),u=Array.prototype.slice,e={cloneShallow:function(n,t,i){var f=n.apply(this,u.call(arguments,3));return r(f,t,i)},map:function(n,t,i){var f=n.apply(this,u.call(arguments,3));return r(f,t,i)},filterSelf:function(n,t){var i=n.apply(this,u.call(arguments,3));return t.update(),i}};n.exports={linkToGraph:function(n,t){r(n,t,"graph")},linkToTree:function(n,t){r(n,t,"tree")}}},function(n,t,i){var u=i(3),r={retrieveTargetInfo:function(n,t){var r,i,u;if(n&&(n.type==="treemapZoomToNode"||n.type==="treemapRootToNode")){if(r=t.getData().tree.root,i=n.targetNode,i&&r.contains(i))return{node:i};if(u=n.targetNodeId,u!=null&&(i=r.getNodeById(u)))return{node:i}}},getPathToRoot:function(n){for(var t=[];n;)t.push(n),n=n.parentNode;return t.reverse()},aboveViewRoot:function(n,t){var i=r.getPathToRoot(n);return r.aboveViewRootByViewPath(i,t)},aboveViewRootByViewPath:function(n,t){var i=u.indexOf(n,t);return i>=0&&i!==n.length-1}};n.exports=r},function(n,t,i){function e(){return{nodeGroup:[],background:[],content:[]}}var u=i(3),s=i(42),y=i(95),h=i(181),p=i(183),w=i(159),c=i(15),o=i(17),b=i(184),f=u.bind,l=s.Group,a=s.Rect,r=u.each,v=3;n.exports=i(1).extendChartView({type:"treemap",init:function(){this._containerGroup;this._storage=e();this._oldTree;this._breadcrumb;this._controller;this._state="ready";this._mayClick},render:function(n,t,i,r){var a=t.findComponents({mainType:"series",subType:"treemap",query:r});if(!(u.indexOf(a,n)<0)){this.seriesModel=n;this.api=i;this.ecModel=t;var e=h.retrieveTargetInfo(r,n),f=r&&r.type,v=n.layoutInfo,y=!this._oldTree,o=this._storage,s=f==="treemapRootToNode"&&e&&o?{rootNodeGroup:o.nodeGroup[e.node.getRawIndex()],direction:r.direction}:null,c=this._giveContainerGroup(v),l=this._doRender(c,n,s);!y&&(!f||f==="treemapZoomToNode"||f==="treemapRootToNode")?this._doAnimation(c,l,n,s):l.renderFinally();this._resetController(i);this._renderBreadcrumb(n,i,e)}},_giveContainerGroup:function(n){var t=this._containerGroup;return t||(t=this._containerGroup=new l,this._initEvents(t),this.group.add(t)),t.position=[n.x,n.y],t},_doRender:function(n,t,i){function k(n,t,i,f,e){function s(n){return n.getId()}function o(r,u){var o=r!=null?n[r]:null,s=u!=null?t[u]:null,h;!o||isNaN(e)||e<b.length&&b[e]!==o||(h=d(o,s,i),h&&k(o&&o.viewChildren||[],s&&s.viewChildren||[],h,f,e+1))}f?(t=n,r(n,function(n,t){n.isRemoved()||o(t,t)})):new y(t,n,s,s).add(o).update(o).remove(u.curry(o,null)).execute()}function nt(n){var t=e();return n&&r(n,function(n,i){var u=t[i];r(n,function(n){n&&(u.push(n),n.__tmWillDelete=i)})}),t}function tt(){r(c,function(n){r(n,function(n){n.parent&&n.parent.remove(n)})});r(p,function(n){n.invisible=!0;n.dirty()});r(w,function(n){n.invisible=!1;n.__tmWillVisible=!1;n.dirty()})}var s=t.getData().tree,o=this._oldTree,l=e(),a=e(),v=this._storage,p=[],w=[],c=[],d=f(this._renderNode,this,a,v,i,l,p,w),g=t.getViewRoot(),b=h.getPathToRoot(g);return k(s.root?[s.root]:[],o&&o.root?[o.root]:[],n,s===o||!o,0),c=nt(v),this._oldTree=s,this._storage=a,{lastsForAnimation:l,willDeleteEls:c,renderFinally:tt}},_renderNode:function(n,t,i,r,f,e,o,h,c){function ft(i,u,f){var e=nt!=null&&t[i][nt],o=r[i];return e?(t[i][nt]=null,vt(o,e,i)):et||(e=new u({z:f}),yt(o,e,i)),n[i][g]=e}function vt(n,t,i){var r=n[g]={};r.old=i==="nodeGroup"?t.position.slice():u.extend({},t.shape)}function yt(n,t,u){var s,h;if(u==="background")t.invisible=!0,t.__tmWillVisible=!0,e.push(t);else{if(s=n[g]={},h=o.parentNode,h&&(!i||i.direction==="drilldown")){var c=0,l=0,f=r.background[h.getRawIndex()];f&&f.old&&(c=f.old.width/2,l=f.old.height/2);s.old=u==="nodeGroup"?[c,l]:{x:c,y:l,width:0,height:0}}s.fadein=u!=="nodeGroup"}}function ct(n,t){et?n.invisible||f.push(n):(n.setStyle(t),n.__tmWillVisible||(n.invisible=!1))}var g=o&&o.getRawIndex(),nt=h&&h.getRawIndex(),w=o.getLayout(),tt=w.width,it=w.height,et=w.invisible,y=ft("nodeGroup",l),b,rt,k,v;if(y){if(c.add(y),y.position=[w.x,w.y],y.__tmNodeWidth=tt,y.__tmNodeHeight=it,b=ft("background",a,0),b&&(b.setShape({x:0,y:0,width:tt,height:it}),ct(b,{fill:o.getVisual("borderColor",!0)}),y.add(b)),rt=o.viewChildren,(!rt||!rt.length)&&(k=w.borderWidth,v=ft("content",a,3),v)){var ut=Math.max(tt-2*k,0),ot=Math.max(it-2*k,0),st=o.getModel("label.normal"),p=o.getModel("label.normal.textStyle"),lt=o.getModel("itemStyle.emphasis").getItemStyle(),d=o.getModel().get("name"),ht=p.getTextRect(d),at=st.get("show");!at||ht.height>ot?d="":ht.width>ut&&(d=p.get("ellipsis")?p.ellipsis(d,ut):"");s.setHoverStyle(v,lt);v.dataIndex=o.dataIndex;v.seriesIndex=this.seriesModel.seriesIndex;v.culling=!0;v.setShape({x:k,y:k,width:ut,height:ot});ct(v,{fill:o.getVisual("color",!0),text:d,textPosition:st.get("position"),textFill:p.getTextColor(),textAlign:p.get("align"),textVerticalAlign:p.get("baseline"),textFont:p.getFont()});y.add(v)}return y}},_doAnimation:function(n,t,i,e){if(i.get("animation")){var s=i.get("animationDurationUpdate"),h=i.get("animationEasing"),o=b.createWrap();r(t.willDeleteEls,function(n){r(n,function(n){var f,t,i,r,u;!n.invisible&&(f=n.__tmWillDelete)&&(t=n.parent,e&&e.direction==="drilldown"?t===e.rootNodeGroup?(i={shape:{x:0,y:0,width:t.__tmNodeWidth,height:t.__tmNodeHeight}},n.z=2):(i={style:{opacity:0}},n.z=1):(r=0,u=0,t.__tmWillDelete||(r=t.__tmNodeWidth/2,u=t.__tmNodeHeight/2),i=f==="nodeGroup"?{position:[r,u],style:{opacity:0}}:{shape:{x:r,y:u,width:0,height:0},style:{opacity:0}}),i&&o.add(n,i,s,h))})});r(this._storage,function(n,i){r(n,function(n,r){var f=t.lastsForAnimation[i][r],e={};f&&(i==="nodeGroup"?f.old&&(e.position=n.position.slice(),n.position=f.old):(f.old&&(e.shape=u.extend({},n.shape),n.setShape(f.old)),f.fadein?(n.setStyle("opacity",0),e.style={opacity:1}):n.style.opacity!==1&&(e.style={opacity:1})),o.add(n,e,s,h))})},this);this._state="animating";o.done(f(function(){this._state="ready";t.renderFinally()},this)).start()}},_resetController:function(n){var t=this._controller;if(!t){t=this._controller=new w(n.getZr());t.enable(this.seriesModel.get("roam"));t.on("pan",f(this._onPan,this));t.on("zoom",f(this._onZoom,this))}t.rect=new c(0,0,n.getWidth(),n.getHeight())},_clearController:function(){var n=this._controller;n&&(n.off("pan").off("zoom"),n=null)},_onPan:function(n,t){var r,i;if(this._mayClick=!1,this._state!=="animating"&&(Math.abs(n)>v||Math.abs(t)>v)){if(r=this.seriesModel.getViewRoot(),!r)return;if(i=r.getLayout(),!i)return;this.api.dispatchAction({type:"treemapMove",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:i.x+n,y:i.y+t,width:i.width,height:i.height}})}},_onZoom:function(n,t,i){var e,u,f,s,r;if(this._mayClick=!1,this._state!=="animating"){if(e=this.seriesModel.getViewRoot(),!e)return;if(u=e.getLayout(),!u)return;f=new c(u.x,u.y,u.width,u.height);s=this.seriesModel.layoutInfo;t-=s.x;i-=s.y;r=o.create();o.translate(r,r,[-t,-i]);o.scale(r,r,[n,n]);o.translate(r,r,[t,i]);f.applyTransform(r);this.api.dispatchAction({type:"treemapRender",from:this.uid,seriesId:this.seriesModel.id,rootRect:{x:f.x,y:f.y,width:f.width,height:f.height}})}},_initEvents:function(n){function t(n){var r=this.seriesModel.get("nodeClick",!0),t,i;if(r&&(t=this.findTarget(n.offsetX,n.offsetY),t))if(i=t.node,i.getLayout().isLeafRoot)this._rootToNode(t);else if(r==="zoomToNode")this._zoomToNode(t);else if(r==="link"){var u=i.hostTree.data.getItemModel(i.dataIndex),f=u.get("link",!0),e=u.get("target",!0)||"blank";f&&window.open(f,e)}}n.on("mousedown",function(){this._state==="ready"&&(this._mayClick=!0)},this);n.on("mouseup",function(n){this._mayClick&&(this._mayClick=!1,this._state==="ready"&&t.call(this,n))},this)},_renderBreadcrumb:function(n,t,i){function r(t){this._state!=="animating"&&(h.aboveViewRoot(n.getViewRoot(),t)?this._rootToNode({node:t}):this._zoomToNode({node:t}))}i||(i=this.findTarget(t.getWidth()/2,t.getHeight()/2),i||(i={node:n.getData().tree.root}));(this._breadcrumb||(this._breadcrumb=new p(this.group,f(r,this)))).render(n,t,i.node)},remove:function(){this._clearController();this._containerGroup&&this._containerGroup.removeAll();this._storage=e();this._state="ready";this._breadcrumb&&this._breadcrumb.remove()},dispose:function(){this._clearController()},_zoomToNode:function(n){this.api.dispatchAction({type:"treemapZoomToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},_rootToNode:function(n){this.api.dispatchAction({type:"treemapRootToNode",from:this.uid,seriesId:this.seriesModel.id,targetNode:n.node})},findTarget:function(n,t){var i,r=this.seriesModel.getViewRoot();return r.eachNode({attr:"viewChildren",order:"preorder"},function(r){var e=this._storage.background[r.getRawIndex()],u,f;if(e)if(u=e.transformCoordToLocal(n,t),f=e.shape,f.x<=u[0]&&u[0]<=f.x+f.width&&f.y<=u[1]&&u[1]<=f.y+f.height)i={node:r,offsetX:u[0],offsetY:u[1]};else return!1},this),i}})},function(n,t,i){function f(n,t){this.group=new e.Group;n.add(this.group);this._onSelect=t||r.noop}function c(n,t,i,r,f,e){var o=[[f?n:n-u,t],[n+i,t],[n+i,t+r],[f?n:n-u,t+r]];return e||o.splice(2,0,[n+i+u,t+r/2]),f||o.push([n,t+r/2]),o}var e=i(42),o=i(21),r=i(3),h=8,s=8,u=5;f.prototype={constructor:f,render:function(n,t,i){var r=n.getModel("breadcrumb"),f=this.group;if(f.removeAll(),r.get("show")&&i){var e=r.getModel("itemStyle.normal"),s=e.getModel("textStyle"),u={pos:{left:r.get("left"),right:r.get("right"),top:r.get("top"),bottom:r.get("bottom")},box:{width:t.getWidth(),height:t.getHeight()},emptyItemWidth:r.get("emptyItemWidth"),totalWidth:0,renderList:[]};this._prepare(r,i,u,s);this._renderContent(r,i,u,e,s);o.positionGroup(f,u.pos,u.box)}},_prepare:function(n,t,i,r){for(var u=t;u;u=u.parentNode){var f=u.getModel().get("name"),o=r.getTextRect(f),e=Math.max(o.width+h*2,i.emptyItemWidth);i.totalWidth+=e+s;i.renderList.push({node:u,text:f,width:e})}},_renderContent:function(n,t,i,u,f){for(var y=0,p=i.emptyItemWidth,k=n.get("height"),d=o.getAvailableSize(i.pos,i.box),w=i.totalWidth,a=i.renderList,h=a.length-1;h>=0;h--){var v=a[h],l=v.width,b=v.text;w>d.width&&(w-=l-p,l=p,b="");this.group.add(new e.Polygon({shape:{points:c(y,0,l,k,h===a.length-1,h===0)},style:r.defaults(u.getItemStyle(),{lineJoin:"bevel",text:b,textFill:f.getTextColor(),textFont:f.getFont()}),z:10,onclick:r.bind(this._onSelect,this,v.node)}));y+=l+s}},remove:function(){this.group.removeAll()}};n.exports=f},function(n,t,i){function u(){var n=[],t={},i;return{add:function(i,u,f,e,o){return(r.isString(e)&&(o=e,e=0),t[i.id])?!1:(t[i.id]=1,n.push({el:i,target:u,time:f,delay:e,easing:o}),!0)},done:function(n){return i=n,this},start:function(){function o(){f--;f||(n.length=0,t={},i&&i())}for(var r,f=n.length,u=0,e=n.length;u<e;u++)r=n[u],r.el.animateTo(r.target,r.time,r.delay,r.easing,o);return this}}}var r=i(3);n.exports={createWrap:u}},function(n,t,i){for(var u=i(1),f=i(181),o=function(){},e=["treemapZoomToNode","treemapRender","treemapMove"],r=0;r<e.length;r++)u.registerAction({type:e[r],update:"updateView"},o);u.registerAction({type:"treemapRootToNode",update:"updateView"},function(n,t){t.eachComponent({mainType:"series",subType:"treemap",query:n},function(t){var i=f.retrieveTargetInfo(n,t),r;i&&(r=t.getViewRoot(),r&&(n.direction=f.aboveViewRoot(r,i.node)?"rollup":"drilldown"),t.resetViewRoot(i.node))})})},function(n,t,i){function s(n,t,i,u,e,o){var k=n.getModel(),d=n.getLayout(),c,tt;if(!d.invisible){var l=n.getModel(f),it=i[n.depth],w=a(l,t,it,u),g=l.get("borderColor"),nt=l.get("borderColorSaturation"),b;nt!=null&&(b=h(w,n),g=v(nt,b));n.setVisual("borderColor",g);c=n.viewChildren;c&&c.length?(tt=y(n,k,d,l,w,c),r.each(c,function(n,t){if(n.depth>=e.length||n===e[n.depth]){var r=p(k,w,n,t,tt,o);s(n,r,i,u,e,o)}})):(b=h(w,n),n.setVisual("color",b))}}function a(n,t,i,u){var f=r.extend({},t);return r.each(["color","colorAlpha","colorSaturation"],function(r){var e=n.get(r,!0);e==null&&i&&(e=i[r]);e==null&&(e=t[r]);e==null&&(e=u.get(r));e!=null&&(f[r]=e)}),f}function h(n){var t=e(n,"color"),i,r;if(t)return i=e(n,"colorAlpha"),r=e(n,"colorSaturation"),r&&(t=u.modifyHSL(t,null,null,r)),i&&(t=u.modifyAlpha(t,i)),t}function v(n,t){return t!=null?u.modifyHSL(t,null,null,n):null}function e(n,t){var i=n[t];if(i!=null&&i!=="none")return i}function y(n,t,i,r,u,f){var s,h,e,l;if(f&&f.length)return(s=o(t,"color")||u.color!=null&&u.color!=="none"&&(o(t,"colorAlpha")||o(t,"colorSaturation")),!s)?void 0:(h=t.get("colorMappingBy"),e={type:s.name,dataExtent:i.dataExtent,visual:s.range},e.type==="color"&&(h==="index"||h==="id")?(e.mappingMethod="category",e.loop=!0):e.mappingMethod="linear",l=new c(e),l.__drColorMappingBy=h,l)}function o(n,t){var i=n.get(t);return l(i)&&i.length?{name:t,range:i}:null}function p(n,t,i,u,f,e){var o=r.extend({},t);if(f){var s=f.type,h=s==="color"&&f.__drColorMappingBy,c=h==="index"?u:h==="id"?e.mapIdToIndex(i.getId()):i.getValue(n.get("visualDimension"));o[s]=f.mapValueToVisual(c)}return o}var c=i(187),u=i(38),r=i(3),l=r.isArray,f="itemStyle.normal";n.exports=function(n,t){var i={mainType:"series",subType:"treemap",query:t};n.eachComponent(i,function(n){var t=n.getData().tree,i=t.root,e=n.getModel(f),u;i.isRemoved()||(u=r.map(t.levelModels,function(n){return n?n.get(f):null}),s(i,{},u,e,n.getViewRoot().getAncestors(),n))})}},function(n,t,i){function o(n,t,i,u){return r.isArray(n)?r.map(n,function(n){return v(n,t,i,u)}):v(n,t,i,u)}function b(n){var t=n.pieceList;n.hasSpecialVisual=!1;r.each(t,function(t,i){t.originIndex=i;t.visual&&(n.hasSpecialVisual=!0)})}function k(n){var i=n.categories,t=n.visual,o=r.isArray(t),f,e,u;if(!i){if(o)return;throw new Error;}for(f=n.categoryMap={},c(i,function(n,t){f[n]=t}),o||(e=[],r.isObject(t)?c(t,function(n,t){var i=f[t];e[i!=null?i:l]=n}):e[l]=t,t=n.visual=e),u=i.length-1;u>=0;u--)t[u]==null&&(delete f[i[u]],i.pop())}function a(n){return{applyVisual:function(t,i,u){var e=i("color"),o=r.isArray(t),f,s;if(t=o?[this.mapValueToVisual(t[0]),this.mapValueToVisual(t[1])]:this.mapValueToVisual(t),r.isArray(e))for(f=0,s=e.length;f<s;f++)e[f].color=n(e[f].color,o?t[f]:t);else u("color",n(e,t))},mapValueToVisual:function(n){var i=this._normalizeData(n),t=this._getSpecifiedVisual(n),r=this.option.visual;return t==null&&(t=e(this)?s(this,r,i):o(i,[0,1],r,!0)),t}}}function d(n,t){return n[Math.round(o(t,[0,1],[0,n.length-1],!0))]}function g(n,t,i){i("color",this.mapValueToVisual(n))}function s(n,t,i){return t[n.option.loop&&i!==l?i%t.length:i]}function e(n){return n.option.mappingMethod==="category"}var r=i(3),f=i(38),v=i(7).linearMap,c=r.each,y=r.isObject,l=-1,u=function(n){var t=n.mappingMethod,i=n.type,u;this.type=i;this.mappingMethod=t;u=this.option=r.clone(n);this._normalizeData=p[t];this._getSpecifiedVisual=r.bind(w[t],this,i);r.extend(this,h[i]);t==="piecewise"&&b(u);t==="category"&&k(u)},h,p,w;u.prototype={constructor:u,applyVisual:null,isValueActive:null,mapValueToVisual:null,getNormalizer:function(){return r.bind(this._normalizeData,this)}};h=u.visualHandlers={color:{applyVisual:g,getColorMapper:function(){var n=e(this)?this.option.visual:r.map(this.option.visual,f.parse);return r.bind(e(this)?function(t,i){return i||(t=this._normalizeData(t)),s(this,n,t)}:function(t,i,u){var e=!!u;return i||(t=this._normalizeData(t)),u=f.fastMapToColor(t,n,u),e?u:r.stringify(u,"rgba")},this)},mapValueToVisual:function(n){var i=this.option.visual,u,t;return r.isArray(n)?(n=[this._normalizeData(n[0]),this._normalizeData(n[1])],f.mapIntervalToColor(n,i)):(u=this._normalizeData(n),t=this._getSpecifiedVisual(n),t==null&&(t=e(this)?s(this,i,u):f.mapToColor(u,i)),t)}},colorHue:a(function(n,t){return f.modifyHSL(n,t)}),colorSaturation:a(function(n,t){return f.modifyHSL(n,null,t)}),colorLightness:a(function(n,t){return f.modifyHSL(n,null,null,t)}),colorAlpha:a(function(n,t){return f.modifyAlpha(n,t)}),opacity:{applyVisual:function(n,t,i){i("opacity",this.mapValueToVisual(n))},mapValueToVisual:function(n){var i=this._normalizeData(n),t=this._getSpecifiedVisual(n),r=this.option.visual;return t==null&&(t=e(this)?s(this,r,i):o(i,[0,1],r,!0)),t}},symbol:{applyVisual:function(n,t,i){var u=this.mapValueToVisual(n),f;if(r.isString(u))i("symbol",u);else if(y(u))for(f in u)u.hasOwnProperty(f)&&i(f,u[f])},mapValueToVisual:function(n){var i=this._normalizeData(n),t=this._getSpecifiedVisual(n),r=this.option.visual;return t==null&&(t=e(this)?s(this,r,i):d(r,i)||{}),t}},symbolSize:{applyVisual:function(n,t,i){i("symbolSize",this.mapValueToVisual(n))},mapValueToVisual:function(n){var i=this._normalizeData(n),t=this._getSpecifiedVisual(n),r=this.option.visual;return t==null&&(t=e(this)?s(this,r,i):o(i,[0,1],r,!0)),t}}};p={linear:function(n){return o(n,this.option.dataExtent,[0,1],!0)},piecewise:function(n){var t=this.option.pieceList,i=u.findPieceIndex(n,t);if(i!=null)return o(i,[0,t.length-1],[0,1],!0)},category:function(n){var t=this.option.categories?this.option.categoryMap[n]:n;return t==null?l:t}};w={linear:r.noop,piecewise:function(n,t){var r=this.option,f=r.pieceList,e,i;if(r.hasSpecialVisual&&(e=u.findPieceIndex(t,f),i=f[e],i&&i.visual))return i.visual[n]},category:r.noop};u.addVisualHandler=function(n,t){h[n]=t};u.isValidType=function(n){return h.hasOwnProperty(n)};u.eachVisual=function(n,t,i){r.isObject(n)?r.each(n,t,i):t.call(i,n)};u.mapVisual=function(n,t,i){var e,f=r.isArray(n)?[]:r.isObject(n)?{}:(e=!0,null);return u.eachVisual(n,function(n,r){var u=t.call(i,n,r);e?f=u:f[r]=u}),f};u.retrieveVisuals=function(n){var t={},i;return n&&c(h,function(r,u){n.hasOwnProperty(u)&&(t[u]=n[u],i=!0)}),i?t:null};u.prepareVisualTypes=function(n){if(y(n)){var t=[];c(n,function(n,i){t.push(i)});n=t}else if(r.isArray(n))n=n.slice();else return[];return n.sort(function(n,t){return t==="color"&&n!=="color"&&n.indexOf("color")===0?1:-1}),n};u.dependsOn=function(n,t){return t==="color"?!!(n&&n.indexOf(t)===0):n===t};u.cloneOpacityToAlpha=function(){var n=new u({})};u.findPieceIndex=function(n,t){for(var r,u,i=0,f=t.length;i<f;i++)if(r=t[i],r.value!=null&&r.value===n)return i;for(i=0,f=t.length;i<f;i++)if(r=t[i],u=r.interval,u)if(u[0]===-Infinity){if(n<u[1])return i}else if(u[1]===Infinity){if(u[0]<n)return i}else if(r.interval[0]<=n&&n<=r.interval[1])return i};n.exports=u},function(n,t,i){function p(n,t,i){var r={mainType:"series",subType:"treemap",query:i};n.eachComponent(r,function(n){var b=t.getWidth(),k=t.getHeight(),r=n.option,d=r.size||[],g=s(h(r.width,d[0]),b),it=s(h(r.height,d[1]),k),a=y.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()}),p=i&&i.type,rt=o.retrieveTargetInfo(i,n),w=p==="treemapRender"||p==="treemapMove"?i.rootRect:null,f=n.getViewRoot(),e,u,ut;p!=="treemapMove"&&(e=p==="treemapZoomToNode"?nt(n,rt,f,g,it):w?[w.width,w.height]:[g,it],u=r.sort,u&&u!=="asc"&&u!=="desc"&&(u="desc"),ut={squareRatio:r.squareRatio,sort:u,leafDepth:r.leafDepth},f.setLayout({x:0,y:0,width:e[0],height:e[1],area:e[0]*e[1]}),l(f,ut,!1,0));f.setLayout(tt(a,w,rt),!0);n.setLayoutInfo(a);v(n.getData().tree.root,new c(-a.x,-a.y,b,k),o.getPathToRoot(f))})}function l(n,t,i,f){var s,h,k,nt,c,it,rt,ut,o,b;if(!n.isRemoved()){k=n.getLayout();s=k.width;h=k.height;var ft=n.getModel("itemStyle.normal"),et=ft.get("borderWidth"),d=ft.get("gapWidth")/2,v=et-d,ot=n.getModel();if(n.setLayout({borderWidth:et},!0),s=r(s-2*v,0),h=r(h-2*v,0),nt=s*h,c=w(n,ot,nt,t,i,f),c.length){var y={x:v,y:v,width:s,height:h},p=u(s,h),tt=Infinity,e=[];for(e.area=0,o=0,b=c.length;o<b;)it=c[o],e.push(it),e.area+=it.getLayout().area,rt=g(e,p,t.squareRatio),rt<=tt?(o++,tt=rt):(e.area-=e.pop().getLayout().area,a(e,p,y,d,!1),p=u(y.width,y.height),e.length=e.area=0,tt=Infinity);for(e.length&&a(e,p,y,d,!0),i||(ut=ot.get("childrenVisibleMin"),ut!=null&&nt<ut&&(i=!0)),o=0,b=c.length;o<b;o++)l(c[o],t,i,f+1)}}}function w(n,t,i,r,u,e){var o=n.children||[],h=r.sort,l,s,c,a,v;if(h!=="asc"&&h!=="desc"&&(h=null),l=r.leafDepth!=null&&r.leafDepth<=e,u&&!l)return n.viewChildren=[];if(o=f.filter(o,function(n){return!n.isRemoved()}),k(o,h),s=d(t,o,h),s.sum===0)return n.viewChildren=[];if(s.sum=b(t,i,s.sum,h,o),s.sum===0)return n.viewChildren=[];for(c=0,a=o.length;c<a;c++)v=o[c].getValue()/s.sum*i,o[c].setLayout({area:v});return l&&(o.length&&n.setLayout({isLeafRoot:!0},!0),o.length=0),n.viewChildren=o,n.setLayout({dataExtent:s.dataExtent},!0),o}function b(n,t,i,r,u){var f,s;if(!r)return i;var h=n.get("visibleMin"),e=u.length,o=e;for(f=e-1;f>=0;f--)s=u[r==="asc"?e-f-1:f].getValue(),s/i*t<h&&(o=f,i-=s);return r==="asc"?u.splice(0,e-o):u.splice(o,e-o),i}function k(n,t){return t&&n.sort(function(n,i){return t==="asc"?n.getValue()-i.getValue():i.getValue()-n.getValue()}),n}function d(n,t,i){for(var e,r,o=0,u=0,s=t.length;u<s;u++)o+=t[u].getValue();return e=n.get("visualDimension"),t&&t.length?e==="value"&&i?(r=[t[t.length-1].getValue(),t[0].getValue()],i==="asc"&&r.reverse()):(r=[Infinity,-Infinity],f.each(t,function(n){var t=n.getValue(e);t<r[0]&&(r[0]=t);t>r[1]&&(r[1]=t)})):r=[NaN,NaN],{sum:o,dataExtent:r}}function g(n,t,i){for(var f,h,e=0,o=Infinity,s=0,u,c=n.length;s<c;s++)u=n[s].getLayout().area,u&&(u<o&&(o=u),u>e&&(e=u));return f=n.area*n.area,h=t*t*i,f?r(h*e/f,f/(h*o)):Infinity}function a(n,t,i,f,e){var h=t===i.width?0:1,o=1-h,c=["x","y"],l=["width","height"],y=i[c[h]],s=t?n.area/t:0,a,p;for((e||s>i[l[o]])&&(s=i[l[o]]),a=0,p=n.length;a<p;a++){var w=n[a],v={},b=s?w.getLayout().area/s:0,g=v[l[o]]=r(s-2*f,0),k=i[c[h]]+i[l[h]]-y,d=a===p-1||k<b?k:b,nt=v[l[h]]=r(d-2*f,0);v[c[o]]=i[c[o]]+u(f,g/2);v[c[h]]=y+u(f,nt/2);y+=d;w.setLayout(v,!0)}i[c[o]]+=s;i[l[o]]-=s}function nt(n,t,i,r,u){var o=(t||{}).node,w=[r,u],c,s,f,a,v,l,b,y,h,p;if(!o||o===i)return w;for(s=r*u,f=s*n.option.zoomToNodeRatio;c=o.parentNode;){for(a=0,v=c.children,l=0,b=v.length;l<b;l++)a+=v[l].getValue();if(y=o.getValue(),y===0)return w;f*=a/y;h=c.getModel("itemStyle.normal").get("borderWidth");isFinite(h)&&(f+=4*h*h+4*h*Math.pow(f,.5));f>e.MAX_SAFE_INTEGER&&(f=e.MAX_SAFE_INTEGER);o=c}return f<s&&(f=s),p=Math.pow(f/s,.5),[r*p,u*p]}function tt(n,t,i){var s,e,f,r,u,o;if(t)return{x:t.x,y:t.y};if((s={x:0,y:0},!i)||(e=i.node,f=e.getLayout(),!f))return s;for(r=[f.width/2,f.height/2],u=e;u;)o=u.getLayout(),r[0]+=o.x,r[1]+=o.y,u=u.parentNode;return{x:n.width/2-r[0],y:n.height/2-r[1]}}function v(n,t,i){var r=n.getLayout(),f,u,e,s;for(n.setLayout({invisible:r?!t.intersect(r):!o.aboveViewRootByViewPath(i,n)},!0),f=n.viewChildren||[],u=0,e=f.length;u<e;u++)s=new c(t.x-r.x,t.y-r.y,t.width,t.height),v(f[u],s,i)}var r=Math.max,u=Math.min,f=i(3),e=i(7),y=i(21),o=i(181),s=e.parsePercent,h=f.retrieve,c=i(15),o=i(181);n.exports=p},function(n,t,i){var r=i(1),u=i(3);i(190);i(193);i(197);r.registerProcessor("filter",i(198));r.registerVisualCoding("chart",u.curry(i(103),"graph","circle",null));r.registerVisualCoding("chart",i(199));r.registerLayout(i(200));r.registerLayout(i(202));r.registerLayout(i(204));r.registerCoordinateSystem("graphView",{create:i(206)})},function(n,t,i){"use strict";var f=i(94),u=i(3),e=i(191),r=i(1).extendSeriesModel({type:"series.graph",init:function(){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._categoriesData};this._updateCategoriesData()},mergeOption:function(){r.superApply(this,"mergeOption",arguments);this._updateCategoriesData()},getInitialData:function(n){var t=n.edges||n.links,i=n.data||n.nodes;if(i&&t){var u=e(i,t,this,!0),r=u.data,f=this;return r.wrapMethod("getItemModel",function(n){var i=f._categoriesModels,r=n.getShallow("category"),t=i[r];return t&&(t.parentModel=n.parentModel,n.parentModel=t),n}),r}},restoreData:function(){r.superApply(this,"restoreData",arguments);this.getGraph().restoreData()},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},getCategoriesData:function(){return this._categoriesData},_updateCategoriesData:function(){var t=u.map(this.option.categories||[],function(n){return n.value!=null?n:u.extend({value:0},n)}),n=new f(["value"],this);n.initData(t);this._categoriesData=n;this._categoriesModels=n.mapArray(function(t){return n.getItemModel(t,!0)})},setRoamZoom:function(n){var t=this.option.roamDetail;t&&(t.zoom=n)},setRoamPan:function(n,t){var i=this.option.roamDetail;i&&(i.x=n,i.y=t)},defaultOption:{zlevel:0,z:2,color:["#61a0a8","#d14a61","#fd9c35","#675bba","#fec42c","#dd4444","#fd9c35","#cd4870"],coordinateSystem:"view",legendHoverLink:!0,hoverAnimation:!0,layout:null,force:{initLayout:null,repulsion:50,gravity:.1,edgeLength:30,layoutAnimation:!0},left:"center",top:"center",symbol:"circle",symbolSize:10,draggable:!1,roam:!1,roamDetail:{x:0,y:0,zoom:1},nodeScaleRatio:.6,label:{normal:{show:!1},emphasis:{show:!0}},itemStyle:{normal:{},emphasis:{}},lineStyle:{normal:{color:"#aaa",width:1,curveness:0,opacity:.5},emphasis:{}}}});n.exports=r},function(n,t,i){var r=i(94),f=i(192),e=i(180),o=i(96),u=i(3);n.exports=function(n,t,i,s){for(var a,v,c,l=new f(s),h=0;h<n.length;h++)l.addNode(u.retrieve(n[h].id,n[h].name,h),h);for(a=[],v=[],h=0;h<t.length;h++)c=t[h],l.addEdge(c.source,c.target,h)&&(v.push(c),a.push(u.retrieve(c.id,c.source+" - "+c.target)));var w=o(["value"],n),y=new r(w,i),p=new r(["value"],i);return y.initData(n),p.initData(v,a),l.setEdgeData(p),e.linkToGraph(y,l),l.update(),l}},function(n,t,i){"use strict";function u(n,t){this.id=n==null?"":n;this.inEdges=[];this.outEdges=[];this.edges=[];this.hostGraph;this.dataIndex=t==null?-1:t}function e(n,t,i){this.node1=n;this.node2=t;this.dataIndex=i==null?-1:i}var s=i(3),f=function(n){this._directed=n||!1;this.nodes=[];this.edges=[];this._nodesMap={};this._edgesMap={};this.data;this.edgeData},r=f.prototype,o;r.type="graph";r.isDirected=function(){return this._directed};r.addNode=function(n,t){var r=this._nodesMap,i;if(!r[n])return i=new u(n,t),i.hostGraph=this,this.nodes.push(i),r[n]=i,i};r.getNodeByIndex=function(n){var t=this.data.getRawIndex(n);return this.nodes[t]};r.getNodeById=function(n){return this._nodesMap[n]};r.addEdge=function(n,t,i){var o=this._nodesMap,s=this._edgesMap,f,r;if(n instanceof u||(n=o[n]),t instanceof u||(t=o[t]),n&&t)return(f=n.id+"-"+t.id,s[f])?void 0:(r=new e(n,t,i),r.hostGraph=this,this._directed&&(n.outEdges.push(r),t.inEdges.push(r)),n.edges.push(r),n!==t&&t.edges.push(r),this.edges.push(r),s[f]=r,r)};r.getEdgeByIndex=function(n){var t=this.edgeData.getRawIndex(n);return this.edges[t]};r.getEdge=function(n,t){n instanceof u&&(n=n.id);t instanceof u&&(t=t.id);var i=this._edgesMap;return this._directed?i[n+"-"+t]:i[n+"-"+t]||i[t+"-"+n]};r.eachNode=function(n,t){for(var r=this.nodes,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&n.call(t,r[i],i)};r.eachEdge=function(n,t){for(var r=this.edges,u=r.length,i=0;i<u;i++)r[i].dataIndex>=0&&r[i].node1.dataIndex>=0&&r[i].node2.dataIndex>=0&&n.call(t,r[i],i)};r.breadthFirstTraverse=function(n,t,i,r){var l,o,s,c,f,h,e;if(t instanceof u||(t=this._nodesMap[t]),t){for(l=i==="out"?"outEdges":i==="in"?"inEdges":"edges",f=0;f<this.nodes.length;f++)this.nodes[f].__visited=!1;if(!n.call(r,t,null))for(o=[t];o.length;)for(s=o.shift(),c=s[l],f=0;f<c.length;f++)if(h=c[f],e=h.node1===s?h.node2:h.node1,!e.__visited){if(n.call(e,e,s))return;o.push(e);e.__visited=!0}}};r.update=function(){for(var f=this.data,i=this.edgeData,u=this.nodes,r=this.edges,n=0,t=u.length;n<t;n++)u[n].dataIndex=-1;for(n=0,t=f.count();n<t;n++)u[f.getRawIndex(n)].dataIndex=n;for(i.filterSelf(function(n){var t=r[i.getRawIndex(n)];return t.node1.dataIndex>=0&&t.node2.dataIndex>=0}),n=0,t=r.length;n<t;n++)r[n].dataIndex=-1;for(n=0,t=i.count();n<t;n++)r[i.getRawIndex(n)].dataIndex=n};r.setEdgeData=function(n){this.edgeData=n;this._edgeDataSaved=n.cloneShallow()};r.restoreData=function(){this.edgeData=this._edgeDataSaved.cloneShallow()};r.clone=function(){for(var t,i=new f(this._directed),r=this.nodes,u=this.edges,n=0;n<r.length;n++)i.addNode(r[n].id,r[n].dataIndex);for(n=0;n<u.length;n++)t=u[n],i.addEdge(t.node1.id,t.node2.id,t.dataIndex);return i};u.prototype={constructor:u,degree:function(){return this.edges.length},inDegree:function(){return this.inEdges.length},outDegree:function(){return this.outEdges.length},getModel:function(n){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.data.getItemModel(this.dataIndex);return i.getModel(n)}}};e.prototype.getModel=function(n){if(!(this.dataIndex<0)){var t=this.hostGraph,i=t.edgeData.getItemModel(this.dataIndex);return i.getModel(n)}};o=function(n,t){return{getValue:function(i){var r=this[n][t];return r.get(r.getDimension(i||"value"),this.dataIndex)},setVisual:function(i,r){this.dataIndex>=0&&this[n][t].setItemVisual(this.dataIndex,i,r)},getVisual:function(i,r){return this[n][t].getItemVisual(this.dataIndex,i,r)},setLayout:function(i,r){this.dataIndex>=0&&this[n][t].setItemLayout(this.dataIndex,i,r)},getLayout:function(){return this[n][t].getItemLayout(this.dataIndex)},getGraphicEl:function(){return this[n][t].getItemGraphicEl(this.dataIndex)},getRawIndex:function(){return this[n][t].getRawIndex(this.dataIndex)}}};s.mixin(u,o("hostGraph","data"));s.mixin(e,o("hostGraph","edgeData"));f.Node=u;f.Edge=e;n.exports=f},function(n,t,i){var r=i(98),u=i(194),f=i(159),e=i(5),o=i(42);i(1).extendChartView({type:"graph",init:function(n,t){var e=new r,o=new u,i=this.group,s=new f(t.getZr(),i);i.add(e.group);i.add(o.group);this._symbolDraw=e;this._lineDraw=o;this._controller=s;this._firstRender=!0},render:function(n,t,i){var f=n.coordinateSystem,r,a,v,h,c,u,l;if(f.type==="geo"||f.type==="view"){r=n.getData();this._model=n;a=this._symbolDraw;v=this._lineDraw;a.updateData(r);var s=r.graph.edgeData,y=n.option,p=e.createDataFormatModel(n,s,y.edges||y.links);p.formatTooltip=function(n){var t=this.getDataParams(n),i=r.graph.getEdgeByIndex(n),f=r.getName(i.node1.dataIndex),e=r.getName(i.node2.dataIndex),u=f+" > "+e;return t.value&&(u+=" : "+t.value),u};v.updateData(s,null,null);s.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=p})});h=this.group;c={position:f.position,scale:f.scale};this._firstRender?h.attr(c):o.updateProps(h,c,n);this._nodeScaleRatio=n.get("nodeScaleRatio");this._updateNodeAndLinkScale();this._updateController(n,f,i);clearTimeout(this._layoutTimeout);u=n.forceLayout;l=n.get("force.layoutAnimation");u&&this._startForceLayoutIteration(u,l);r.eachItemGraphicEl(function(n,t){var i=r.getItemModel(t).get("draggable");if(i&&u)n.on("drag",function(){u.warmUp();this._layouting||this._startForceLayoutIteration(u,l);u.setFixed(t);r.setItemLayout(t,n.position)},this).on("dragend",function(){u.setUnfixed(t)},this);else n.off("drag");n.setDraggable(i)},this);this._firstRender=!1}},_startForceLayoutIteration:function(n,t){var i=this;(function r(){n.step(function(n){i.updateLayout();(i._layouting=!n)&&(t?i._layoutTimeout=setTimeout(r,16):r())})})()},_updateController:function(n,t,i){var r=this._controller;r.rect=t.getViewRect();r.enable(n.get("roam"));r.off("pan").off("zoom").on("pan",function(t,r){i.dispatchAction({seriesId:n.id,type:"graphRoam",dx:t,dy:r})}).on("zoom",function(t,r,u){i.dispatchAction({seriesId:n.id,type:"graphRoam",zoom:t,originX:r,originY:u})}).on("zoom",this._updateNodeAndLinkScale,this)},_updateNodeAndLinkScale:function(){var i=this._model,r=i.getData(),u=this.group,f=this._nodeScaleRatio,n=u.scale[0],t=(n-1)*f+1,e=[t/n,t/n];r.eachItemGraphicEl(function(n){n.attr("scale",e)})},updateLayout:function(){this._symbolDraw.updateLayout();this._lineDraw.updateLayout()},remove:function(){this._symbolDraw&&this._symbolDraw.remove();this._lineDraw&&this._lineDraw.remove()}})},function(n,t,i){function u(n){this._ctor=n||e;this.group=new f.Group}var f=i(42),e=i(195),r=u.prototype;r.updateData=function(n,t,i){var r=this._lineData,u=this.group,f=this._ctor;n.diff(r).add(function(r){var e=new f(n,t,i,r);n.setItemGraphicEl(r,e);u.add(e)}).update(function(f,e){var o=r.getItemGraphicEl(e);o.updateData(n,t,i,f);n.setItemGraphicEl(f,o);u.add(o)}).remove(function(n){u.remove(r.getItemGraphicEl(n))}).execute();this._lineData=n;this._fromData=t;this._toData=i};r.updateLayout=function(){var n=this._lineData;n.eachItemGraphicEl(function(t,i){t.updateLayout(n,this._fromData,this._toData,i)},this)};r.remove=function(){this.group.removeAll()};n.exports=u},function(n,t,i){function e(n,t,i){var o=t.getItemVisual(i,"color"),e=t.getItemVisual(i,"symbol"),r=t.getItemVisual(i,"symbolSize"),f;if(e!=="none")return u.isArray(r)||(r=[r,r]),f=a.createSymbol(e,-r[0]/2,-r[1]/2,r[0],r[1],o),f.name=n,f}function p(n){var t=new v({name:"line",style:{strokeNoScale:!0}});return o(t.shape,n),t}function o(n,t){var r=t[0],u=t[1],i=t[2];n.x1=r[0];n.y1=r[1];n.x2=u[0];n.y2=u[1];n.percent=1;i&&(n.cpx1=i[0],n.cpy1=i[1])}function c(n){return n.type==="symbol"&&n.shape.symbolType==="arrow"}function w(){var u=this,f=u.childOfName("line"),s,a,v;if(this.__dirty||f.__dirty){var e=u.childOfName("fromSymbol"),o=u.childOfName("toSymbol"),r=u.childOfName("label"),i=f.pointAt(0),t=f.pointAt(f.shape.percent),n=h.sub([],t,i);h.normalize(n,n);e&&(e.attr("position",i),c(e)&&e.attr("rotation",l(t,i)));o&&(o.attr("position",t),c(o)&&o.attr("rotation",l(i,t)));r.attr("position",t);r.__position==="end"?(s=[n[0]*5+t[0],n[1]*5+t[1]],a=n[0]>.8?"left":n[0]<-.8?"right":"center",v=n[1]>.8?"top":n[1]<-.8?"bottom":"middle"):(s=[-n[0]*5+i[0],-n[1]*5+i[1]],a=n[0]>.8?"right":n[0]<-.8?"left":"center",v=n[1]>.8?"bottom":n[1]<-.8?"top":"middle");r.attr({style:{textVerticalAlign:r.__verticalAlign||v,textAlign:r.__textAlign||a},position:s})}}function l(n,t){return-Math.PI/2-Math.atan2(t[1]-n[1],t[0]-n[0])}function s(n,t,i,u){r.Group.call(this);this._createLine(n,t,i,u)}var a=i(100),h=i(16),v=i(196),r=i(42),u=i(3),y=i(7),f=s.prototype;f.beforeUpdate=w;f._createLine=function(n,t,i,u){var c=n.hostModel,l=n.getItemLayout(u),f=p(l),o,s,h;f.shape.percent=0;r.initProps(f,{shape:{percent:1}},c);this.add(f);o=new r.Text({name:"label"});this.add(o);t&&(s=e("fromSymbol",t,u),this.add(s),this._fromSymbolType=t.getItemVisual(u,"symbol"));i&&(h=e("toSymbol",i,u),this.add(h),this._toSymbolType=i.getItemVisual(u,"symbol"));this._updateCommonStl(n,t,i,u)};f.updateData=function(n,t,i,u){var a=n.hostModel,v=this.childOfName("line"),y=n.getItemLayout(u),h={shape:{}},f,c,s,l;o(h.shape,y);r.updateProps(v,h,a);t&&(f=t.getItemVisual(u,"symbol"),this._fromSymbolType!==f&&(c=e("fromSymbol",t,u),this.remove(this.childOfName("fromSymbol")),this.add(c)),this._fromSymbolType=f);i&&(s=i.getItemVisual(u,"symbol"),s!==this._toSymbolType&&(l=e("toSymbol",i,u),this.remove(this.childOfName("toSymbol")),this.add(l)),this._toSymbolType=s);this._updateCommonStl(n,t,i,u)};f._updateCommonStl=function(n,t,i,f){var c=n.hostModel,p=this.childOfName("line"),o=n.getItemModel(f),l=o.getModel("label.normal"),s=l.getModel("textStyle"),a=o.getModel("label.emphasis"),v=a.getModel("textStyle"),h=y.round(c.getRawValue(f)),e;isNaN(h)&&(h=n.getName(f));p.setStyle(u.extend({stroke:n.getItemVisual(f,"color")},o.getModel("lineStyle.normal").getLineStyle()));e=this.childOfName("label");e.setStyle({text:l.get("show")?u.retrieve(c.getFormattedLabel(f,"normal"),h):"",textFont:s.getFont(),fill:s.getTextColor()||n.getItemVisual(f,"color")});e.hoverStyle={text:a.get("show")?u.retrieve(c.getFormattedLabel(f,"emphasis"),h):"",textFont:v.getFont(),fill:v.getTextColor()};e.__textAlign=s.get("align");e.__verticalAlign=s.get("baseline");e.__position=l.get("position");r.setHoverStyle(this,o.getModel("lineStyle.emphasis").getLineStyle())};f.updateLayout=function(n,t,i,r){var f=n.getItemLayout(r),u=this.childOfName("line");o(u.shape,f);u.dirty(!0)};u.inherits(s,r.Group);n.exports=s},function(n,t,i){var r=i(42),u=r.Line.prototype,f=r.BezierCurve.prototype;n.exports=r.extendShape({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(n,t){(t.cpx1==null||t.cpy1==null?u:f).buildPath(n,t)},pointAt:function(n){var t=this.shape;return t.cpx1==null||t.cpy1==null?u.pointAt.call(this,n):f.pointAt.call(this,n)}})},function(n,t,i){var r=i(1),u=i(162);r.registerAction({type:"graphRoam",event:"graphRoam",update:"none"},function(n,t){t.eachComponent({mainType:"series",query:n},function(t){var r=t.coordinateSystem,f=t.getModel("roamDetail"),i=u.calcPanAndZoom(f,n);t.setRoamPan&&t.setRoamPan(i.x,i.y);t.setRoamZoom&&t.setRoamZoom(i.zoom);r&&r.setPan(i.x,i.y);r&&r.setZoom(i.zoom)})})},function(n){n.exports=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.eachSeriesByType("graph",function(n){var i=n.getCategoriesData(),u=n.getGraph(),r=u.data,f=i.mapArray(i.getName);r.filterSelf(function(n){var e=r.getItemModel(n),i=e.getShallow("category"),u;if(i!=null)for(typeof i=="number"&&(i=f[i]),u=0;u<t.length;u++)if(!t[u].isSelected(i))return!1;return!0})},this)}},function(n){n.exports=function(n){n.eachSeriesByType("graph",function(n){var r=n.get("color"),t=n.getCategoriesData(),i=n.getData(),u={};t.each(function(n){u[t.getName(n)]=n;var i=t.getItemModel(n),f=t.getRawIndex(n),e=i.get("itemStyle.normal.color")||r[f%r.length];t.setItemVisual(n,"color",e)});t.count()&&i.each(function(n){var f=i.getItemModel(n),r=f.getShallow("category");r!=null&&(typeof r=="string"&&(r=u[r]),i.setItemVisual(n,"color",t.getItemVisual(r,"color")))})})}},function(n,t,i){var r=i(201);n.exports=function(n){n.eachSeriesByType("graph",function(n){var t=n.get("layout");t&&t!=="none"||r(n)})}},function(n){n.exports=function(n){var i=n.coordinateSystem,t;i&&i.type!=="view"||(t=n.getGraph(),t.eachNode(function(n){var t=n.getModel();n.setLayout([+t.get("x"),+t.get("y")])}),t.eachEdge(function(n){var r=n.getModel().get("lineStyle.normal.curveness")||0,t=n.node1.getLayout(),i=n.node2.getLayout(),u;r>0&&(u=[(t[0]+i[0])/2-(t[1]-i[1])*r,(t[1]+i[1])/2-(i[0]-t[0])*r]);n.setLayout([t,i,u])}))}},function(n,t,i){var r=i(203);n.exports=function(n){n.eachSeriesByType("graph",function(n){n.get("layout")==="circular"&&r(n)})}},function(n){n.exports=function(n){var r=n.coordinateSystem;if(!r||r.type==="view"){var t=r.getBoundingRect(),u=n.getData(),e=u.graph,i=0,f=u.getSum("value"),o=Math.PI*2/(f||u.count()),s=t.width/2+t.x,h=t.height/2+t.y,c=Math.min(t.width,t.height)/2;e.eachNode(function(n){var t=n.getValue("value");i+=o*(f?t:2)/2;n.setLayout([c*Math.cos(i)+s,c*Math.sin(i)+h]);i+=o*(f?t:2)/2});e.eachEdge(function(n){var i=n.getModel().get("lineStyle.normal.curveness")||0,r=n.node1.getLayout(),u=n.node2.getLayout(),t;i>0&&(t=[s,h]);n.setLayout([r,u,t])})}}},function(n,t,i){var r=i(205),u=i(7),f=i(201),e=i(203),o=i(16);n.exports=function(n){n.eachSeriesByType("graph",function(n){if(n.get("layout")==="force"){var l=n.preservedPoints||{},i=n.getGraph(),t=i.data,y=i.edgeData,h=n.getModel("force"),a=h.get("initLayout");n.preservedPoints?t.each(function(n){var i=t.getId(n);t.setItemLayout(n,l[i]||[NaN,NaN])}):a&&a!=="none"?a==="circular"&&e(n):f(n);var p=t.getDataExtent("value"),v=h.get("repulsion"),w=h.get("edgeLength"),s=t.mapArray("value",function(n,i){var r=t.getItemLayout(i),f=u.linearMap(n,p,[0,v])||v/2;return{w:f,rep:f,p:!r||isNaN(r[0])||isNaN(r[1])?null:r}}),b=y.mapArray("value",function(n,t){var r=i.getEdgeByIndex(t);return{n1:s[r.node1.dataIndex],n2:s[r.node2.dataIndex],d:w,curveness:r.getModel().get("lineStyle.normal.curveness")||0}}),k=n.coordinateSystem,d=k.getBoundingRect(),c=r(s,b,{rect:d,gravity:h.get("gravity")}),g=c.step;c.step=function(n){for(var r=0,u=s.length;r<u;r++)s[r].fixed&&o.copy(s[r].p,i.getNodeByIndex(r).getLayout());g(function(r,u,f){for(var e=0,c=r.length;e<c;e++)r[e].fixed||i.getNodeByIndex(e).setLayout(r[e].p),l[t.getId(e)]=r[e].p;for(e=0,c=u.length;e<c;e++){var o=u[e],s=o.n1.p,h=o.n2.p,a=[s,h];o.curveness>0&&a.push([(s[0]+h[0])/2-(s[1]-h[1])*o.curveness,(s[1]+h[1])/2-(h[0]-s[0])*o.curveness]);i.getEdgeByIndex(e).setLayout(a)}n&&n(f)})};n.forceLayout=c;n.preservedPoints=l;c.step()}else n.forceLayout=null})}},function(n,t,i){var r=i(16),u=r.scaleAndAdd;n.exports=function(n,t,i){for(var e,f,o=i.rect,c=o.width,l=o.height,s=[o.x+c/2,o.y+l/2],a=i.gravity==null?.1:i.gravity,h=0;h<n.length;h++)e=n[h],e.p||(e.p=r.create(c*(Math.random()-.5)+s[0],l*(Math.random()-.5)+s[1])),e.pp=r.clone(e.p),e.edges=null;return f=.6,{warmUp:function(){f=.5},setFixed:function(t){n[t].fixed=!0},setUnfixed:function(t){n[t].fixed=!1},step:function(i){for(var b,l,p,c,v,k,d,h,o=[],y=n.length,e=0;e<t.length;e++){var w=t[e],l=w.n1,c=w.n2;r.sub(o,c.p,l.p);v=r.len(o)-w.d;b=c.w/(l.w+c.w);r.normalize(o,o);l.fixed||u(l.p,l.p,o,b*v*f);c.fixed||u(c.p,c.p,o,-(1-b)*v*f)}for(e=0;e<y;e++)h=n[e],h.fixed||(r.sub(o,s,h.p),r.scaleAndAdd(h.p,h.p,o,a*f));for(e=0;e<y;e++)for(l=n[e],p=e+1;p<y;p++)c=n[p],r.sub(o,c.p,l.p),v=r.len(o),v===0&&(r.set(o,Math.random()-.5,Math.random()-.5),v=1),k=(l.rep+c.rep)/v/v,l.fixed||u(l.pp,l.pp,o,k),c.fixed||u(c.pp,c.pp,o,-k);for(d=[],e=0;e<y;e++)h=n[e],h.fixed||(r.sub(d,h.p,h.pp),r.scaleAndAdd(h.p,h.p,d,f),r.copy(h.pp,h.p));f=f*.992;i&&i(n,t,f<.01)}}}},function(n,t,i){function e(n,t,i){var r=n.getBoxLayoutParams();return r.aspect=i,u.getLayoutRect(r,{width:t.getWidth(),height:t.getHeight()})}var r=i(169),u=i(21),f=i(50);n.exports=function(n,t){var i=[];return n.eachSeriesByType("graph",function(n){var l=n.get("coordinateSystem"),s,u,c;if(!l||l==="view"){s=new r;i.push(s);var a=n.getData(),v=a.mapArray(function(n){var t=a.getItemModel(n);return[+t.get("x"),+t.get("y")]}),o=[],h=[];f.fromPoints(v,o,h);u=e(n,t,(h[0]-o[0])/(h[1]-o[1])||1);(isNaN(o[0])||isNaN(o[1]))&&(o=[u.x,u.y],h=[u.x+u.width,u.y+u.height]);var y=h[0]-o[0],p=h[1]-o[1],w=u.width,b=u.height;s=n.coordinateSystem=new r;s.setBoundingRect(o[0],o[1],y,p);s.setViewRect(u.x,u.y,w,b);c=n.getModel("roamDetail");s.setPan(c.get("x")||0,c.get("y")||0);s.setZoom(c.get("zoom")||1)}}),i}},function(n,t,i){i(208);i(209)},function(n,t,i){var r=i(94),u=i(27),f=i(3),e=u.extend({type:"series.gauge",getInitialData:function(n){var i=new r(["value"],this),t=n.data||[];return f.isArray(t)||(t=[t]),i.initData(t),i},defaultOption:{zlevel:0,z:2,center:["50%","50%"],legendHoverLink:!0,radius:"75%",startAngle:225,endAngle:-45,clockwise:!0,min:0,max:100,splitNumber:10,axisLine:{show:!0,lineStyle:{color:[[.2,"#91c7ae"],[.8,"#63869e"],[1,"#c23531"]],width:30}},splitLine:{show:!0,length:30,lineStyle:{color:"#eee",width:2,type:"solid"}},axisTick:{show:!0,splitNumber:5,length:8,lineStyle:{color:"#eee",width:1,type:"solid"}},axisLabel:{show:!0,textStyle:{color:"auto"}},pointer:{show:!0,length:"80%",width:8},itemStyle:{normal:{color:"auto"}},title:{show:!0,offsetCenter:[0,"-40%"],textStyle:{color:"#333",fontSize:15}},detail:{show:!0,backgroundColor:"rgba(0,0,0,0)",borderWidth:0,borderColor:"#ccc",width:100,height:40,offsetCenter:[0,"40%"],textStyle:{color:"auto",fontSize:30}}}});n.exports=e},function(n,t,i){function s(n,t){var i=n.get("center"),u=t.getWidth(),f=t.getHeight(),e=Math.min(u,f),o=r(i[0],t.getWidth()),s=r(i[1],t.getHeight()),h=r(n.get("radius"),e/2);return{cx:o,cy:s,r:h}}function e(n,t){return t&&(typeof t=="string"?n=t.replace("{value}",n):typeof t=="function"&&(n=t(n))),n}var o=i(210),u=i(42),f=i(7),r=f.parsePercent,h=Math.PI*2,c=i(41).extend({type:"gauge",render:function(n,t,i){this.group.removeAll();var r=n.get("axisLine.lineStyle.color"),u=s(n,i);this._renderMain(n,t,i,r,u)},_renderMain:function(n,t,i,r,f){for(var a,s,p,w=this.group,b=n.getModel("axisLine"),v=b.getModel("lineStyle"),c=n.get("clockwise"),o=-n.get("startAngle")/180*Math.PI,e=-n.get("endAngle")/180*Math.PI,k=(e-o)%h,y=o,d=v.get("width"),l=0;l<r.length;l++)e=o+k*r[l][0],a=new u.Sector({shape:{startAngle:y,endAngle:e,cx:f.cx,cy:f.cy,clockwise:c,r0:f.r-d,r:f.r},silent:!0}),a.setStyle({fill:r[l][1]}),a.setStyle(v.getLineStyle(["color","borderWidth","borderColor"])),w.add(a),y=e;s=function(n){if(n<=0)return r[0][1];for(var t=0;t<r.length;t++)if(r[t][0]>=n&&(t===0?0:r[t-1][0])<n)return r[t][1];return r[t-1][1]};c||(p=o,o=e,e=p);this._renderTicks(n,t,i,s,f,o,e,c);this._renderPointer(n,t,i,s,f,o,e,c);this._renderTitle(n,t,i,s,f);this._renderDetail(n,t,i,s,f)},_renderTicks:function(n,t,i,o,s,h,c){for(var a,v,et,yt,nt,tt,it=this.group,b=s.cx,k=s.cy,l=s.r,ot=n.get("min"),wt=n.get("max"),rt=n.getModel("splitLine"),d=n.getModel("axisTick"),ut=n.getModel("axisLabel"),y=n.get("splitNumber"),ft=d.get("splitNumber"),g=r(rt.get("length"),l),st=r(d.get("length"),l),p=h,ht=(c-h)/y,ct=ht/ft,lt=rt.getModel("lineStyle").getLineStyle(),at=d.getModel("lineStyle").getLineStyle(),vt=ut.getModel("textStyle"),w=0;w<=y;w++)if(a=Math.cos(p),v=Math.sin(p),rt.get("show")&&(et=new u.Line({shape:{x1:a*l+b,y1:v*l+k,x2:a*(l-g)+b,y2:v*(l-g)+k},style:lt,silent:!0}),lt.stroke==="auto"&&et.setStyle({stroke:o(w/y)}),it.add(et)),ut.get("show")&&(yt=e(f.round(w/y*(wt-ot)+ot),ut.get("formatter")),nt=new u.Text({style:{text:yt,x:a*(l-g-5)+b,y:v*(l-g-5)+k,fill:vt.getTextColor(),textFont:vt.getFont(),textVerticalAlign:v<-.4?"top":v>.4?"bottom":"middle",textAlign:a<-.4?"left":a>.4?"right":"center"},silent:!0}),nt.style.fill==="auto"&&nt.setStyle({fill:o(w/y)}),it.add(nt)),d.get("show")&&w!==y){for(tt=0;tt<=ft;tt++){var a=Math.cos(p),v=Math.sin(p),pt=new u.Line({shape:{x1:a*l+b,y1:v*l+k,x2:a*(l-st)+b,y2:v*(l-st)+k},silent:!0,style:at});at.stroke==="auto"&&pt.setStyle({stroke:o((w+tt/ft)/y)});it.add(pt);p+=ct}p-=ct}else p+=ht},_renderPointer:function(n,t,i,e,s,h,c,l){var b=f.linearMap,v=[+n.get("min"),+n.get("max")],y=[h,c];l||(y=y.reverse());var a=n.getData(),p=this._data,w=this.group;a.diff(p).add(function(t){var i=new o({shape:{angle:h}});u.updateProps(i,{shape:{angle:b(a.get("value",t),v,y)}},n);w.add(i);a.setItemGraphicEl(t,i)}).update(function(t,i){var r=p.getItemGraphicEl(i);u.updateProps(r,{shape:{angle:b(a.get("value",t),v,y)}},n);w.add(r);a.setItemGraphicEl(t,r)}).remove(function(n){var t=p.getItemGraphicEl(n);w.remove(t)}).execute();a.eachItemGraphicEl(function(n,t){var i=a.getItemModel(t),f=i.getModel("pointer");n.attr({shape:{x:s.cx,y:s.cy,width:r(f.get("width"),s.r),r:r(f.get("length"),s.r)},style:i.getModel("itemStyle.normal").getItemStyle()});n.style.fill==="auto"&&n.setStyle("fill",e((a.get("value",t)-v[0])/(v[1]-v[0])));u.setHoverStyle(n,i.getModel("itemStyle.emphasis").getItemStyle())});this._data=a},_renderTitle:function(n,t,i,f,e){var o=n.getModel("title");if(o.get("show")){var s=o.getModel("textStyle"),h=o.get("offsetCenter"),c=e.cx+r(h[0],e.r),l=e.cy+r(h[1],e.r),a=new u.Text({style:{x:c,y:l,text:n.getData().getName(0),fill:s.getTextColor(),textFont:s.getFont(),textAlign:"center",textVerticalAlign:"middle"}});this.group.add(a)}},_renderDetail:function(n,t,i,f,o){var s=n.getModel("detail"),c=n.get("min"),w=n.get("max");if(s.get("show")){var l=s.getModel("textStyle"),a=s.get("offsetCenter"),b=o.cx+r(a[0],o.r),k=o.cy+r(a[1],o.r),v=r(s.get("width"),o.r),y=r(s.get("height"),o.r),p=n.getData().get("value",0),h=new u.Rect({shape:{x:b-v/2,y:k-y/2,width:v,height:y},style:{text:e(p,s.get("formatter")),fill:s.get("backgroundColor"),textFill:l.getTextColor(),textFont:l.getFont()}});h.style.textFill==="auto"&&h.setStyle("textFill",f((p-c)/(w-c)));h.setStyle(s.getItemStyle(["color"]));this.group.add(h)}}});n.exports=c},function(n,t,i){n.exports=i(44).extend({type:"echartsGaugePointer",shape:{angle:0,width:10,r:10,x:0,y:0},buildPath:function(n,t){var u=Math.cos,f=Math.sin,e=t.r,i=t.width,r=t.angle,o=t.x-u(r)*i*(i>=e/3?1:2),s=t.y-f(r)*i*(i>=e/3?1:2);r=t.angle-Math.PI/2;n.moveTo(o,s);n.lineTo(t.x+u(r)*i,t.y+f(r)*i);n.lineTo(t.x+u(t.angle)*e,t.y+f(t.angle)*e);n.lineTo(t.x-u(r)*i,t.y-f(r)*i);n.lineTo(o,s);return}})},function(n,t,i){var u=i(3),r=i(1);i(212);i(213);r.registerVisualCoding("chart",u.curry(i(137),"funnel"));r.registerLayout(i(214));r.registerProcessor("filter",u.curry(i(140),"funnel"))},function(n,t,i){"use strict";var u=i(94),f=i(5),e=i(96),r=i(1).extendSeriesModel({type:"series.funnel",init:function(n){r.superApply(this,"init",arguments);this.legendDataProvider=function(){return this._dataBeforeProcessed};this._defaultLabelLine(n)},getInitialData:function(n){var i=e(["value"],n.data),t=new u(i,this);return t.initData(n.data),t},_defaultLabelLine:function(n){f.defaultEmphasis(n.labelLine,["show"]);var t=n.labelLine.normal,i=n.labelLine.emphasis;t.show=t.show&&n.label.normal.show;i.show=i.show&&n.label.emphasis.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,left:80,top:60,right:80,bottom:60,minSize:"0%",maxSize:"100%",sort:"descending",gap:0,funnelAlign:"center",label:{normal:{show:!0,position:"outer"},emphasis:{show:!0}},labelLine:{normal:{show:!0,length:20,lineStyle:{width:1,type:"solid"}},emphasis:{}},itemStyle:{normal:{borderColor:"#fff",borderWidth:1},emphasis:{}}}});n.exports=r},function(n,t,i){function f(n,t){function f(){i.ignore=i.hoverIgnore;u.ignore=u.hoverIgnore}function e(){i.ignore=i.normalIgnore;u.ignore=u.normalIgnore}r.Group.call(this);var o=new r.Polygon,i=new r.Polyline,u=new r.Text;this.add(o);this.add(i);this.add(u);this.updateData(n,t,!0);this.on("emphasis",f).on("normal",e).on("mouseover",f).on("mouseout",e)}function o(n,t,i,r){var e=r.getModel("textStyle"),f=r.get("position"),o=f==="inside"||f==="inner"||f==="center";return{fill:e.getTextColor()||(o?"#fff":n.getItemVisual(t,"color")),textFont:e.getFont(),text:u.retrieve(n.hostModel.getFormattedLabel(t,i),n.getName(t))}}var r=i(42),u=i(3),e=f.prototype,h=["itemStyle","normal","opacity"],s;e.updateData=function(n,t,i){var f=this.childAt(0),s=n.hostModel,a=n.getItemModel(t),c=n.getItemLayout(t),e=n.getItemModel(t).get(h),o,l;e=e==null?1:e;i?(f.setShape({points:c.points}),f.setStyle({opacity:0}),r.initProps(f,{style:{opacity:e}},s)):r.updateProps(f,{style:{opacity:e},shape:{points:c.points}},s);o=a.getModel("itemStyle");l=n.getItemVisual(t,"color");f.setStyle(u.defaults({fill:l},o.getModel("normal").getItemStyle(["opacity"])));f.hoverStyle=o.getModel("emphasis").getItemStyle();this._updateLabel(n,t);r.setHoverStyle(this)};e._updateLabel=function(n,t){var u=this.childAt(1),f=this.childAt(2),s=n.hostModel,e=n.getItemModel(t),v=n.getItemLayout(t),i=v.label,y=n.getItemVisual(t,"color");r.updateProps(u,{shape:{points:i.linePoints||i.linePoints}},s);r.updateProps(f,{style:{x:i.x,y:i.y}},s);f.attr({style:{textAlign:i.textAlign,textVerticalAlign:i.verticalAlign,textFont:i.font},rotation:i.rotation,origin:[i.x,i.y],z2:10});var h=e.getModel("label.normal"),c=e.getModel("label.emphasis"),l=e.getModel("labelLine.normal"),a=e.getModel("labelLine.emphasis");f.setStyle(o(n,t,"normal",h));f.ignore=f.normalIgnore=!h.get("show");f.hoverIgnore=!c.get("show");u.ignore=u.normalIgnore=!l.get("show");u.hoverIgnore=!a.get("show");u.setStyle({stroke:y});u.setStyle(l.getModel("lineStyle").getLineStyle());f.hoverStyle=o(n,t,"emphasis",c);u.hoverStyle=a.getModel("lineStyle").getLineStyle()};u.inherits(f,r.Group);s=i(41).extend({type:"funnel",render:function(n){var t=n.getData(),i=this._data,r=this.group;t.diff(i).add(function(n){var i=new f(t,n);t.setItemGraphicEl(n,i);r.add(i)}).update(function(n,u){var f=i.getItemGraphicEl(u);f.updateData(t,n);r.add(f);t.setItemGraphicEl(n,f)}).remove(function(n){var t=i.getItemGraphicEl(n);r.remove(t)}).execute();this._data=t},remove:function(){this.group.removeAll();this._data=null}});n.exports=s},function(n,t,i){function e(n,t){return f.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function o(n,t){for(var i=n.mapArray("value",function(n){return n}),u=[],f=t==="ascending",r=0,e=n.count();r<e;r++)u[r]=r;return u.sort(function(n,t){return f?i[n]-i[t]:i[t]-i[n]}),u}function s(n){n.each(function(t){var v=n.getItemModel(t),w=v.getModel("label.normal"),o=w.get("position"),b=v.getModel("labelLine.normal"),y=n.getItemLayout(t),i=y.points,p=o==="inner"||o==="inside"||o==="center",s,r,u,c,f,h,e,l,a;p?(r=(i[0][0]+i[1][0]+i[2][0]+i[3][0])/4,u=(i[0][1]+i[1][1]+i[2][1]+i[3][1])/4,s="center",c=[[r,u],[r,u]]):(l=b.get("length"),o==="left"?(f=(i[3][0]+i[0][0])/2,h=(i[3][1]+i[0][1])/2,e=f-l,r=e-5,s="right"):(f=(i[1][0]+i[2][0])/2,h=(i[1][1]+i[2][1])/2,e=f+l,r=e+5,s="left"),a=h,c=[[f,h],[e,a]],u=a);y.label={linePoints:c,x:r,y:u,verticalAlign:"middle",textAlign:s,inside:p}})}var f=i(21),r=i(7),u=r.parsePercent;n.exports=function(n,t){n.eachSeriesByType("funnel",function(n){var f=n.getData(),w=n.get("sort"),i=e(n,t),h=o(f,w),g=[u(n.get("minSize"),i.width),u(n.get("maxSize"),i.width)],b=f.getDataExtent("value"),y=n.get("min"),p=n.get("max"),c;y==null&&(y=Math.min(b[0],0));p==null&&(p=b[1]);var nt=n.get("funnelAlign"),l=n.get("gap"),a=(i.height-l*(f.count()-1))/f.count(),v=i.y,k=function(n,t){var o=f.get("value",n)||0,e=r.linearMap(o,[y,p],g,!0),u;switch(nt){case"left":u=i.x;break;case"center":u=i.x+(i.width-e)/2;break;case"right":u=i.x+i.width-e}return[[u,t],[u+e,t]]};for(w==="ascending"&&(a=-a,l=-l,v+=i.height,h=h.reverse()),c=0;c<h.length;c++){var d=h[c],tt=h[c+1],it=k(d,v),rt=k(tt,v+a);v+=a+l;f.setItemLayout(d,{points:it.concat(rt.slice().reverse())})}s(f)})}},function(n,t,i){var r=i(1);i(216);i(227);i(228);r.registerVisualCoding("chart",i(229))},function(n,t,i){i(217);i(220);i(222);var r=i(1);r.extendComponentView({type:"parallel"});r.registerPreprocessor(i(226))},function(n,t,i){function u(n,t){var i=[];return n.eachComponent("parallel",function(u,f){var e=new r(u,n,t);e.name="parallel_"+f;e.resize(u,t);u.coordinateSystem=e;e.model=u;i.push(e)}),n.eachSeries(function(n){if(n.get("coordinateSystem")==="parallel"){var t=n.get("parallelIndex");n.coordinateSystem=i[t]}}),i}var r=i(218);i(25).register("parallel",{create:u})},function(n,t,i){function f(n,t,i){this._axesMap={};this._axesLayout={};this.dimensions=n.dimensions;this._rect;this._model=n;this._init(n,t,i)}var s=i(21),e=i(108),o=i(3),h=i(219),u=i(17),c=i(16),r=o.each,l=Math.PI;f.prototype={type:"parallel",constructor:f,_init:function(n,t){var i=n.dimensions,u=n.parallelAxisIndex;r(i,function(n,i){var o=u[i],r=t.getComponent("parallelAxis",o),f=this._axesMap[n]=new h(n,e.createScaleByModel(r),[0,0],r.get("type"),o),s=f.type==="category";f.onBand=s&&r.get("boundaryGap");f.inverse=r.get("inverse");r.axis=f;f.model=r},this)},update:function(n){this._updateAxesFromSeries(this._model,n)},_updateAxesFromSeries:function(n,t){t.eachSeries(function(i){if(n.contains(i,t)){var u=i.getData();r(this.dimensions,function(n){var t=this._axesMap[n];t.scale.unionExtent(u.getDataExtent(n));e.niceScaleExtent(t,t.model)},this)}},this)},resize:function(n,t){this._rect=s.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()});this._layoutAxes(n)},getRect:function(){return this._rect},_layoutAxes:function(n){var t=this._rect,i=n.get("layout"),c=this._axesMap,f=this.dimensions,e=[t.width,t.height],o=i==="horizontal"?0:1,a=e[o],s=e[1-o],h=[0,s];r(c,function(n){var t=n.inverse?1:0;n.setExtent(h[t],h[1-t])});r(f,function(n,r){var o=a*r/(f.length-1),h={horizontal:{x:o,y:s},vertical:{x:0,y:o}},y={horizontal:l/2,vertical:0},c=[h[i].x+t.x,h[i].y+t.y],v=y[i],e=u.create();u.rotate(e,e,v);u.translate(e,e,c);this._axesLayout[n]={position:c,rotation:v,transform:e,tickDirection:1,labelDirection:1}},this)},getAxis:function(n){return this._axesMap[n]},dataToPoint:function(n,t){return this.axisCoordToPoint(this._axesMap[t].dataToCoord(n),t)},eachActiveState:function(n,t,i){for(var f,c,l,e,a,v,u=this.dimensions,s=this._axesMap,h=!1,r=0,o=u.length;r<o;r++)s[u[r]].model.getActiveState()!=="normal"&&(h=!0);for(f=0,c=n.count();f<c;f++){if(l=n.getValues(u,f),h){for(e="active",r=0,o=u.length;r<o;r++)if(a=u[r],v=s[a].model.getActiveState(l[r],r),v==="inactive"){e="inactive";break}}else e="normal";t.call(i,e,f)}},axisCoordToPoint:function(n,t){var r=this._axesLayout[t],i=[n,0];return c.applyTransform(i,i,r.transform),i},getAxisLayout:function(n){return o.clone(this._axesLayout[n])}};n.exports=f},function(n,t,i){var f=i(3),u=i(117),r=function(n,t,i,r,f){u.call(this,n,t,i);this.type=r||"value";this.axisIndex=f};r.prototype={constructor:r,model:null};f.inherits(r,u);n.exports=r},function(n,t,i){var r=i(3),u=i(19);i(221);u.extend({type:"parallel",dependencies:["parallelAxis"],coordinateSystem:null,dimensions:null,parallelAxisIndex:null,defaultOption:{zlevel:0,z:0,left:80,top:60,right:80,bottom:60,layout:"horizontal",parallelAxisDefault:null},init:function(){u.prototype.init.apply(this,arguments);this.mergeOption({})},mergeOption:function(n){var t=this.option;n&&r.merge(t,n,!0);this._initDimensions()},contains:function(n,t){var i=n.get("parallelIndex");return i!=null&&t.getComponent("parallel",i)===this},_initDimensions:function(){var n=this.dimensions=[],t=this.parallelAxisIndex=[],i=r.filter(this.dependentModels.parallelAxis,function(n){return n.get("parallelIndex")===this.componentIndex});r.each(i,function(i){n.push("dim"+i.get("dim"));t.push(i.componentIndex)})}})},function(n,t,i){function h(n,t){return t.type||(t.data?"category":"value")}var f=i(19),u=i(3),e=i(11),o=i(121),s=i(7),r=f.extend({type:"baseParallelAxis",axis:null,activeIntervals:[],getAreaSelectStyle:function(){return e([["fill","color"],["lineWidth","borderWidth"],["stroke","borderColor"],["width","width"],["opacity","opacity"]]).call(this.getModel("areaSelectStyle"))},setActiveIntervals:function(n){var i=this.activeIntervals=u.clone(n),t;if(i)for(t=i.length-1;t>=0;t--)s.asc(i[t])},getActiveState:function(n){var i=this.activeIntervals,t,r;if(!i.length)return"normal";if(n==null)return"inactive";for(t=0,r=i.length;t<r;t++)if(i[t][0]<=n&&n<=i[t][1])return"active";return"inactive"}});u.merge(r.prototype,i(123));o("parallel",r,h,{type:"value",dim:null,parallelIndex:null,areaSelectStyle:{width:20,borderWidth:1,borderColor:"rgba(160,197,232)",color:"rgba(160,197,232)",opacity:.3},z:10});n.exports=r},function(n,t,i){i(217);i(223);i(224)},function(n,t,i){var r=i(1);r.registerAction({type:"axisAreaSelect",event:"axisAreaSelected",update:"updateVisual"},function(n,t){t.eachComponent({mainType:"parallelAxis",query:n},function(t){t.axis.model.setActiveIntervals(n.intervals)})})},function(n,t,i){function s(n,t,i){return i&&i.type==="axisAreaSelect"&&t.findComponents({mainType:"parallelAxis",query:i})[0]===n}var r=i(3),u=i(126),f=i(225),e=["axisLine","axisLabel","axisTick","axisName"],o=i(1).extendComponentView({type:"parallelAxis",_selectController:null,render:function(n,t,i,f){var h;if(!s(n,t,f)&&(this.axisModel=n,this.api=i,this.group.removeAll(),n.get("show"))){var a=t.getComponent("parallel",n.get("parallelIndex")).coordinateSystem,c=n.getAreaSelectStyle(),l=c.width,v=a.getAxisLayout(n.axis.dim),y=r.extend({strokeContainThreshold:l,axisLineSilent:!(l>0)},v),o=new u(n,y);r.each(e,o.add,o);h=o.getGroup();this.group.add(h);this._buildSelectController(h,c,n,i)}},_buildSelectController:function(n,t,i,u){var o=i.axis,e=this._selectController,s;if(!e){e=this._selectController=new f("line",u.getZr(),t);e.on("selected",r.bind(this._onSelected,this))}e.enable(n);s=r.map(i.activeIntervals,function(n){return[o.dataToCoord(n[0],!0),o.dataToCoord(n[1],!0)]});e.update(s)},_onSelected:function(n){var t=this.axisModel,i=t.axis,u=r.map(n,function(n){return[i.coordToData(n[0],!0),i.coordToData(n[1],!0)]});this.api.dispatchAction({type:"axisAreaSelect",parallelAxisId:t.id,intervals:u})},remove:function(){this._selectController&&this._selectController.disable()},dispose:function(){this._selectController&&(this._selectController.dispose(),this._selectController=null)}});n.exports=o},function(n,t,i){function u(n,t,i){c.call(this);this.type=n;this.zr=t;this.opt=r.clone(i);this.group=new l.Group;this._containerRect=null;this._track=[];this._dragging;this._cover;this._disabled=!0;this._handlers={mousedown:f(rt,this),mousemove:f(ut,this),mouseup:f(ft,this)};a(v,function(n){this.zr.on(n,this._handlers[n])},this)}function it(n){n.traverse(function(n){n.z=nt})}function y(n,t){var i=this.group.transformCoordToLocal(n,t);return!this._containerRect||this._containerRect.contain(i[0],i[1])}function s(n){var t=n.event;t.preventDefault&&t.preventDefault()}function rt(n){if(!this._disabled&&(!n.target||!n.target.draggable)){s(n);var t=n.offsetX,i=n.offsetY;y.call(this,t,i)&&(this._dragging=!0,this._track=[[t,i]])}}function ut(n){this._dragging&&!this._disabled&&(s(n),p.call(this,n))}function ft(n){this._dragging&&!this._disabled&&(s(n),p.call(this,n,!0),this._dragging=!1,this._track=[])}function p(n,t){var u=n.offsetX,f=n.offsetY,i;y.call(this,u,f)&&(this._track.push([u,f]),i=et.call(this)?h[this.type].getRanges.call(this):[],w.call(this,i),this.trigger("selected",r.clone(i)),t&&this.trigger("selectEnd",r.clone(i)))}function et(){var n=this._track;if(!n.length)return!1;var t=n[n.length-1],i=n[0],r=t[0]-i[0],u=t[1]-i[1],f=g(r*r+u*u,.5);return f>tt}function w(n){var t=h[this.type];n&&n.length?(this._cover||(this._cover=t.create.call(this),this.group.add(this._cover)),t.update.call(this,n)):(this.group.remove(this._cover),this._cover=null);it(this.group)}function b(){var n=this.group,t=n.parent;t&&t.remove(n)}function k(){var n=this.opt;return new l.Rect({style:{stroke:n.stroke,fill:n.fill,lineWidth:n.lineWidth,opacity:n.opacity}})}function ot(){return r.map(this._track,function(n){return this.group.transformCoordToLocal(n[0],n[1])},this)}function d(){var n=ot.call(this),t=n.length-1;return t<0&&(t=0),[n[0],n[t]]}var c=i(32),r=i(3),l=i(42),f=r.bind,a=r.each,e=Math.min,o=Math.max,g=Math.pow,nt=1e4,tt=2,v=["mousedown","mousemove","mouseup"],h;u.prototype={constructor:u,enable:function(n,t){this._disabled=!1;b.call(this);this._containerRect=t!==!1?t||n.getBoundingRect():null;n.add(this.group)},update:function(n){w.call(this,n&&r.clone(n))},disable:function(){this._disabled=!0;b.call(this)},dispose:function(){this.disable();a(v,function(n){this.zr.off(n,this._handlers[n])},this)}};r.mixin(u,c);h={line:{create:k,getRanges:function(){var n=d.call(this),t=e(n[0][0],n[1][0]),i=o(n[0][0],n[1][0]);return[[t,i]]},update:function(n){var t=n[0],i=this.opt.width;this._cover.setShape({x:t[0],y:-i/2,width:t[1]-t[0],height:i})}},rect:{create:k,getRanges:function(){var n=d.call(this),t=[e(n[1][0],n[0][0]),e(n[1][1],n[0][1])],i=[o(n[1][0],n[0][0]),o(n[1][1],n[0][1])];return[[[t[0],i[0]],[t[1],i[1]]]]},update:function(n){var t=n[0];this._cover.setShape({x:t[0][0],y:t[1][0],width:t[0][1]-t[0][0],height:t[1][1]-t[1][0]})}}};n.exports=u},function(n,t,i){function f(n){if(!n.parallel){var t=!1;r.each(n.series,function(n){n&&n.type==="parallel"&&(t=!0)});t&&(n.parallel=[{}])}}function e(n){var t=u.normalizeToArray(n.parallelAxis);r.each(t,function(t){if(r.isObject(t)){var f=t.parallelIndex||0,i=u.normalizeToArray(n.parallel)[f];i&&i.parallelAxisDefault&&r.merge(t,i.parallelAxisDefault,!1)}})}var r=i(3),u=i(5);n.exports=function(n){f(n);e(n)}},function(n,t,i){function e(n,t,i){var u=n.get("data"),f=+t.replace("dim","");u&&u.length&&r.each(i,function(n){if(n){var t=r.indexOf(u,n[f]);n[f]=t>=0?t:NaN}})}var u=i(94),r=i(3),f=i(27);n.exports=f.extend({type:"series.parallel",dependencies:["parallel"],getInitialData:function(n,t){var i=t.getComponent("parallel",this.get("parallelIndex")),s=i.dimensions,h=i.parallelAxisIndex,f=n.data,c=r.map(s,function(n,i){var r=t.getComponent("parallelAxis",h[i]);return r.get("type")==="category"?(e(r,n,f),{name:n,type:"ordinal"}):n}),o=new u(c,this);return o.initData(f),o},getRawIndicesByActiveState:function(n){var r=this.coordinateSystem,t=this.getData(),i=[];return r.eachActiveState(t,function(r,u){n===r&&i.push(t.getRawIndex(u))}),i},defaultOption:{zlevel:0,z:2,coordinateSystem:"parallel",parallelIndex:0,label:{normal:{show:!1},emphasis:{show:!1}},inactiveOpacity:.05,activeOpacity:1,lineStyle:{normal:{width:2,opacity:.45,type:"solid"}},animationEasing:"linear"}})},function(n,t,i){function h(n,t,i){var e=n.model,u=n.getRect(),f=new r.Rect({shape:{x:u.x,y:u.y,width:u.width,height:u.height}}),o=e.get("layout")==="horizontal"?"width":"height";return f.setShape(o,0),r.initProps(f,{shape:{width:u.width,height:u.height}},t,i),f}function u(n,t,i,r){for(var u=0,f=t.length-1;u<f;u++){var o=t[u],s=t[u+1],h=n[u],c=n[u+1];r(e(h,i.getAxis(o).type)||e(c,i.getAxis(s).type)?null:[i.dataToPoint(h,o),i.dataToPoint(c,s)],u)}}function f(n){return new r.Polyline({shape:{points:n},silent:!0})}function e(n,t){return t==="category"?n==null:n==null||isNaN(n)}var r=i(42),o=i(3),s=i(41).extend({type:"parallel",init:function(){this._dataGroup=new r.Group;this.group.add(this._dataGroup);this._data},render:function(n){function l(n){var h=t.getValues(s,n),o=new r.Group;i.add(o);u(h,s,e,function(n){n&&o.add(f(n))});t.setItemGraphicEl(n,o)}function a(i,o){var p=t.getValues(s,i),l=c.getItemGraphicEl(o),a=[],v=0,h,y;for(u(p,s,e,function(t){var i=l.childAt(v++);t&&!i?a.push(f(t)):t&&r.updateProps(i,{shape:{points:t}},n)}),h=l.childCount()-1;h>=v;h--)l.remove(l.childAt(h));for(h=0,y=a.length;h<y;h++)l.add(a[h]);t.setItemGraphicEl(i,l)}function v(n){var t=c.getItemGraphicEl(n);i.remove(t)}var i=this._dataGroup,t=n.getData(),c=this._data,e=n.coordinateSystem,s=e.dimensions;t.diff(c).add(l).update(a).remove(v).execute();t.eachItemGraphicEl(function(n,i){var r=t.getItemModel(i),u=r.getModel("lineStyle.normal");n.eachChild(function(n){n.setStyle(o.extend(u.getLineStyle(),{stroke:t.getItemVisual(i,"color"),opacity:t.getItemVisual(i,"opacity")}))})});this._data||i.setClipPath(h(e,n,function(){i.removeClipPath()}));this._data=t},remove:function(){this._dataGroup&&this._dataGroup.removeAll();this._data=null}});n.exports=s},function(n){n.exports=function(n){n.eachSeriesByType("parallel",function(t){var u=t.getModel("itemStyle.normal"),r=n.get("color"),f=u.get("color")||r[t.seriesIndex%r.length],e=t.get("inactiveOpacity"),o=t.get("activeOpacity"),s=t.getModel("lineStyle.normal").getLineStyle(),h=t.coordinateSystem,i=t.getData(),c={normal:s.opacity,active:o,inactive:e};h.eachActiveState(i,function(n,t){i.setItemVisual(t,"opacity",c[n])});i.setVisual("color",f)})}},function(n,t,i){var r=i(1);i(231);i(232);r.registerLayout(i(233));r.registerVisualCoding("chart",i(235))},function(n,t,i){"use strict";var r=i(27),u=i(191);n.exports=r.extend({type:"series.sankey",layoutInfo:null,getInitialData:function(n){var t=n.edges||n.links,i=n.data||n.nodes,r;if(i&&t)return r=u(i,t,this,!0),r.data},getGraph:function(){return this.getData().graph},getEdgeData:function(){return this.getGraph().edgeData},defaultOption:{zlevel:0,z:2,coordinateSystem:"view",layout:null,left:"5%",top:"5%",right:"20%",bottom:"5%",nodeWidth:20,nodeGap:8,layoutIterations:32,label:{normal:{show:!0,position:"right",textStyle:{color:"#000",fontSize:12}},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:1,borderColor:"#aaa"}},lineStyle:{normal:{color:"#314656",opacity:.2,curveness:.5},emphasis:{opacity:.6}},color:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],animationEasing:"linear",animationDuration:1e3}})},function(n,t,i){function o(n,t,i){var u=new r.Rect({shape:{x:n.x-10,y:n.y-10,width:0,height:n.height+20}});return r.initProps(u,{shape:{width:n.width+20,height:n.height+20}},t,i),u}var r=i(42),f=i(5),u=i(3),e=r.extendShape({shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,cpx2:0,cpy2:0,extent:0},buildPath:function(n,t){var i=t.extent/2;n.moveTo(t.x1,t.y1-i);n.bezierCurveTo(t.cpx1,t.cpy1-i,t.cpx2,t.cpy2-i,t.x2,t.y2-i);n.lineTo(t.x2,t.y2+i);n.bezierCurveTo(t.cpx2,t.cpy2+i,t.cpx1,t.cpy1+i,t.x1,t.y1+i);n.closePath()}});n.exports=i(1).extendChartView({type:"sankey",_model:null,render:function(n){var i=n.getGraph(),t=this.group,s=n.layoutInfo;this._model=n;t.removeAll();t.position=[s.x,s.y];var l=i.edgeData,h=n.option,c=f.createDataFormatModel(n,l,h.edges||h.links);c.formatTooltip=function(n){var t=this.getDataParams(n),i=t.data,r=i.source+" -- "+i.target;return t.value&&(r+=":"+t.value),r};i.eachNode(function(i){var h=i.getLayout(),f=i.getModel(),e=f.getModel("label.normal"),c=e.getModel("textStyle"),o=f.getModel("label.emphasis"),l=o.getModel("textStyle"),s=new r.Rect({shape:{x:h.x,y:h.y,width:i.getLayout().dx,height:i.getLayout().dy},style:{text:e.get("show")?n.getFormattedLabel(i.dataIndex,"normal")||i.id:"",textFont:c.getFont(),textFill:c.getTextColor(),textPosition:e.get("position")}});s.setStyle(u.defaults({fill:i.getVisual("color")},f.getModel("itemStyle.normal").getItemStyle()));r.setHoverStyle(s,u.extend(i.getModel("itemStyle.emphasis"),{text:o.get("show")?n.getFormattedLabel(i.dataIndex,"emphasis")||i.id:"",textFont:l.getFont(),textFill:l.getTextColor(),textPosition:o.get("position")}));t.add(s)});i.eachEdge(function(n){var i=new e;i.dataIndex=n.dataIndex;i.dataModel=c;var l=n.getModel("lineStyle.normal"),f=l.get("curveness"),o=n.node1.getLayout(),a=n.node2.getLayout(),u=n.getLayout();i.shape.extent=Math.max(1,u.dy);var s=o.x+o.dx,v=o.y+u.sy+u.dy/2,h=a.x,y=a.y+u.ty+u.dy/2,p=s*(1-f)+h*f,w=v,b=s*f+h*(1-f),k=y;i.setShape({x1:s,y1:v,x2:h,y2:y,cpx1:p,cpy1:w,cpx2:b,cpy2:k});i.setStyle(l.getItemStyle());r.setHoverStyle(i,n.getModel("lineStyle.emphasis").getItemStyle());t.add(i)});this._data||t.setClipPath(o(t.getBoundingRect(),n,function(){t.removeClipPath()}));this._data=n.getData()}})},function(n,t,i){function c(n,t){return s.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function l(n,t,i,r,u,f,e){v(n,i,u);w(n,t,f,r,e);tt(n)}function a(n){r.each(n,function(n){var t=u(n.outEdges,e),i=u(n.inEdges,e),r=Math.max(t,i);n.setLayout({value:r},!0)})}function v(n,t,i){for(var u=n,s=null,f=0,h=0,e,c,r,o,l;u.length;){for(s=[],e=0,c=u.length;e<c;e++)for(r=u[e],r.setLayout({x:f},!0),r.setLayout({dx:t},!0),o=0,l=r.outEdges.length;o<l;o++)s.push(r.outEdges[o].node2);u=s;++f}y(n,f);h=(i-t)/(f-1);p(n,h)}function y(n,t){r.each(n,function(n){n.outEdges.length||n.setLayout({x:t-1},!0)})}function p(n,t){r.each(n,function(n){var i=n.getLayout().x*t;n.setLayout({x:i},!0)})}function w(n,t,i,r,u){var f=h().key(function(n){return n.getLayout().x}).sortKeys(ft).entries(n).map(function(n){return n.values}),e;for(b(n,f,t,i,r),o(f,r,i),e=1;u>0;u--)e*=.99,k(f,e),o(f,r,i),g(f,e),o(f,r,i)}function b(n,t,i,u,f){var e=[],o;r.each(t,function(n){var o=n.length,t=0,i;r.each(n,function(n){t+=n.getLayout().value});i=(u-(o-1)*f)/t;e.push(i)});e.sort(function(n,t){return n-t});o=e[0];r.each(t,function(n){r.each(n,function(n,t){n.setLayout({y:t},!0);var i=n.getLayout().value*o;n.setLayout({dy:i},!0)})});r.each(i,function(n){var t=+n.getValue()*o;n.setLayout({dy:t},!0)})}function o(n,t,i){r.each(n,function(n){var r,u,e=0,s=n.length,f,o;for(n.sort(ut),f=0;f<s;f++)r=n[f],u=e-r.getLayout().y,u>0&&(o=r.getLayout().y+u,r.setLayout({y:o},!0)),e=r.getLayout().y+r.getLayout().dy+t;if(u=e-t-i,u>0)for(o=r.getLayout().y-u,r.setLayout({y:o},!0),e=r.getLayout().y,f=s-2;f>=0;--f)r=n[f],u=r.getLayout().y+r.getLayout().dy+t-e,u>0&&(o=r.getLayout().y-u,r.setLayout({y:o},!0)),e=r.getLayout().y})}function k(n,t){r.each(n.slice().reverse(),function(n){r.each(n,function(n){if(n.outEdges.length){var i=u(n.outEdges,d)/u(n.outEdges,e),r=n.getLayout().y+(i-f(n))*t;n.setLayout({y:r},!0)}})})}function d(n){return f(n.node2)*n.getValue()}function g(n,t){r.each(n,function(n){r.each(n,function(n){if(n.inEdges.length){var i=u(n.inEdges,nt)/u(n.inEdges,e),r=n.getLayout().y+(i-f(n))*t;n.setLayout({y:r},!0)}})})}function nt(n){return f(n.node1)*n.getValue()}function tt(n){r.each(n,function(n){n.outEdges.sort(it);n.inEdges.sort(rt)});r.each(n,function(n){var t=0,i=0;r.each(n.outEdges,function(n){n.setLayout({sy:t},!0);t+=n.getLayout().dy});r.each(n.inEdges,function(n){n.setLayout({ty:i},!0);i+=n.getLayout().dy})})}function it(n,t){return n.node2.getLayout().y-t.node2.getLayout().y}function rt(n,t){return n.node1.getLayout().y-t.node1.getLayout().y}function u(n,t){var u=0,f=n.length,i,r=-1;if(arguments.length===1)while(++r<f)i=+n[r],isNaN(i)||(u+=i);else while(++r<f)i=+t.call(n,n[r],r),isNaN(i)||(u+=i);return u}function f(n){return n.getLayout().y+n.getLayout().dy/2}function ut(n,t){return n.getLayout().y-t.getLayout().y}function ft(n,t){return n<t?-1:n>t?1:n==t?0:NaN}function e(n){return n.getValue()}var s=i(21),h=i(234),r=i(3);n.exports=function(n,t){n.eachSeriesByType("sankey",function(n){var o=n.get("nodeWidth"),s=n.get("nodeGap"),i=c(n,t),f,e;n.layoutInfo=i;var h=i.width,v=i.height,u=n.getGraph(),r=u.nodes,y=u.edges;a(r);f=r.filter(function(n){return n.getLayout().value===0});e=f.length!==0?0:n.get("layoutIterations");l(r,y,o,s,h,v,e)})}},function(n,t,i){function u(){function i(t,u){var o,s;if(u>=n.length)return t;for(var f=-1,c=t.length,l=n[u++],h={},e={};++f<c;)o=l(t[f]),s=e[o],s?s.push(t[f]):e[o]=[t[f]];return r.each(e,function(n,t){h[t]=i(n,u)}),h}function u(i,f){if(f>=n.length)return i;var e=[],o=t[f++];return r.each(i,function(n,t){e.push({key:t,values:u(n,f)})}),o?e.sort(function(n,t){return o(n.key,t.key)}):e}var n=[],t=[];return{key:function(t){return n.push(t),this},sortKeys:function(i){return t[n.length-1]=i,this},entries:function(n){return u(i(n,0),0)}}}var r=i(3);n.exports=u},function(n,t,i){var r=i(187);n.exports=function(n){n.eachSeriesByType("sankey",function(n){var f=n.getGraph(),t=f.nodes,i,u;t.sort(function(n,t){return n.getLayout().value-t.getLayout().value});i=t[0].getLayout().value;u=t[t.length-1].getLayout().value;t.forEach(function(t){var f=new r({type:"color",mappingMethod:"linear",dataExtent:[i,u],visual:n.get("color")}),e=f.mapValueToVisual(t.getLayout().value);t.setVisual("color",e)})})}},function(n,t,i){var r=i(1);i(237);i(240);r.registerVisualCoding("chart",i(241));r.registerLayout(i(242))},function(n,t,i){"use strict";var u=i(3),f=i(27),e=i(238),r=f.extend({type:"series.boxplot",dependencies:["xAxis","yAxis","grid"],valueDimensions:["min","Q1","median","Q3","max"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,boxWidth:[7,50],itemStyle:{normal:{color:"#fff",borderWidth:1},emphasis:{borderWidth:2,shadowBlur:5,shadowOffsetX:2,shadowOffsetY:2,shadowColor:"rgba(0,0,0,0.4)"}},animationEasing:"elasticOut",animationDuration:800}});u.mixin(r,e.seriesModelMixin,!0);n.exports=r},function(n,t,i){"use strict";function o(n){return n.value==null?n:n.value}var u=i(94),f=i(96),e=i(239),r=i(3),s={_baseAxisDim:null,getInitialData:function(n,t){var i,c=t.getComponent("xAxis",this.get("xAxisIndex")),l=t.getComponent("yAxis",this.get("yAxisIndex")),a=c.get("type"),v=l.get("type"),r,e,s,h;return a==="category"?(n.layout="horizontal",i=c.getCategories(),r=!0):v==="category"?(n.layout="vertical",i=l.getCategories(),r=!0):n.layout=n.layout||"horizontal",this._baseAxisDim=n.layout==="horizontal"?"x":"y",e=n.data,s=this.dimensions=["base"].concat(this.valueDimensions),f(s,e),h=new u(s,this),h.initData(e,i?i.slice():null,function(n,t,i,u){var f=o(n);return r?t==="base"?i:f[u-1]:f[u]}),h},coordDimToDataDim:function(n){var t=this.valueDimensions.slice(),i=["base"],r={horizontal:{x:i,y:t},vertical:{x:t,y:i}};return r[this.get("layout")][n]},dataDimToCoordDim:function(n){var t;return r.each(["x","y"],function(i){var u=this.coordDimToDataDim(i);r.indexOf(u,n)>=0&&(t=i)},this),t},getBaseAxis:function(){var n=this._baseAxisDim;return this.ecModel.getComponent(n+"Axis",this.get(n+"AxisIndex")).axis}},h={init:function(){var n=this._whiskerBoxDraw=new e(this.getStyleUpdater());this.group.add(n.group)},render:function(n){this._whiskerBoxDraw.updateData(n.getData())},remove:function(){this._whiskerBoxDraw.remove()}};n.exports={seriesModelMixin:s,viewMixin:h}},function(n,t,i){function f(n,t,i,u){r.Group.call(this);this.bodyIndex;this.whiskerIndex;this.styleUpdater=i;this._createContent(n,t,u);this.updateData(n,t,u);this._seriesModel}function s(n,t,i){return u.map(n,function(n){return n=n.slice(),n[t]=i.initBaseline,n})}function h(n){var t={};return u.each(n,function(n,i){t["ends"+i]=n}),t}function c(n){this.group=new r.Group;this.styleUpdater=n}var u=i(3),r=i(42),l=i(44),a=l.extend({type:"whiskerInBox",shape:{},buildPath:function(n,t){var r,i;for(r in t)r.indexOf("ends")===0&&(i=t[r],n.moveTo(i[0][0],i[0][1]),n.lineTo(i[1][0],i[1][1]))}}),o=f.prototype,e;o._createContent=function(n,t,i){var f=n.getItemLayout(t),e=f.chartLayout==="horizontal"?1:0,o=0,c;this.add(new r.Polygon({shape:{points:i?s(f.bodyEnds,e,f):f.bodyEnds},style:{strokeNoScale:!0},z2:100}));this.bodyIndex=o++;c=u.map(f.whiskerEnds,function(n){return i?s(n,e,f):n});this.add(new a({shape:h(c),style:{strokeNoScale:!0},z2:100}));this.whiskerIndex=o++};o.updateData=function(n,t,i){var u=this._seriesModel=n.hostModel,f=n.getItemLayout(t),e=r[i?"initProps":"updateProps"];e(this.childAt(this.bodyIndex),{shape:{points:f.bodyEnds}},u);e(this.childAt(this.whiskerIndex),{shape:h(f.whiskerEnds)},u);this.styleUpdater.call(null,this,n,t)};u.inherits(f,r.Group);e=c.prototype;e.updateData=function(n){var t=this.group,i=this._data,r=this.styleUpdater;n.diff(i).add(function(i){if(n.hasValue(i)){var u=new f(n,i,r,!0);n.setItemGraphicEl(i,u);t.add(u)}}).update(function(u,e){var o=i.getItemGraphicEl(e);if(!n.hasValue(u)){t.remove(o);return}o?o.updateData(n,u):o=new f(n,u,r);t.add(o);n.setItemGraphicEl(u,o)}).remove(function(n){var r=i.getItemGraphicEl(n);r&&t.remove(r)}).execute();this._data=n};e.remove=function(){var t=this.group,n=this._data;this._data=null;n&&n.eachItemGraphicEl(function(n){n&&t.remove(n)})};n.exports=c},function(n,t,i){"use strict";function c(n,t,i){var o=t.getItemModel(i),a=o.getModel(u),h=t.getItemVisual(i,"color"),c=a.getItemStyle(["borderColor"]),e=n.childAt(n.whiskerIndex),r,l;e.style.set(c);e.style.stroke=h;e.dirty();r=n.childAt(n.bodyIndex);r.style.set(c);r.style.stroke=h;r.dirty();l=o.getModel(f).getItemStyle();s.setHoverStyle(n,l)}var e=i(3),o=i(41),s=i(42),h=i(238),r=o.extend({type:"boxplot",getStyleUpdater:function(){return c}}),u,f;e.mixin(r,h.viewMixin,!0);u=["itemStyle","normal"];f=["itemStyle","emphasis"];n.exports=r},function(n){var t=["itemStyle","normal","borderColor"];n.exports=function(n){var i=n.get("color");n.eachRawSeriesByType("boxplot",function(r){var f=i[r.seriesIndex%i.length],u=r.getData();u.setVisual({legendSymbol:"roundRect",color:r.get(t)||f});n.isSeriesFiltered(r)||u.each(function(n){var i=u.getItemModel(n);u.setItemVisual(n,{color:i.get(t,!0)})})})}},function(n,t,i){function o(n){var t=[],i=[];return n.eachSeriesByType("boxplot",function(n){var f=n.getBaseAxis(),r=u.indexOf(i,f);r<0&&(r=i.length,i[r]=f,t[r]={axis:f,seriesModels:[]});t[r].seriesModels.push(n)}),t}function s(n){var o,s=n.axis,t=n.seriesModels,h=t.length,p=n.boxWidthList=[],w=n.boxOffsetList=[],c=[],i,e;s.type==="category"?i=s.getBandWidth():(e=0,r(t,function(n){e=Math.max(e,n.getData().count())}),o=s.getExtent(),Math.abs(o[1]-o[0])/e);r(t,function(n){var t=n.get("boxWidth");u.isArray(t)||(t=[t,t]);c.push([f(t[0],i)||0,f(t[1],i)||0])});var l=i*.8-2,v=l/h*.3,a=(l-v*(h-1))/h,y=a/2-l/2;r(t,function(n,t){w.push(y);y+=v+a;p.push(Math.min(Math.max(a,c[t][0]),c[t][1]))})}function h(n,t,i){var o=n.coordinateSystem,u=n.getData(),f=n.dimensions,e=n.get("layout"),r=i/2;u.each(f,function(){function s(n){var u=[],r;return u[i]=v,u[y]=n,isNaN(v)||isNaN(n)?r=[NaN,NaN]:(r=o.dataToPoint(u),r[i]+=t),r}function b(n,t){var u=n.slice(),f=n.slice();u[i]+=r;f[i]-=r;t?c.push(u,f):c.push(f,u)}function a(n){var t=[n.slice(),n.slice()];t[0][i]-=r;t[1][i]+=r;h.push(t)}var n=arguments,k=f.length,v=n[0],d=n[k],i=e==="horizontal"?0:1,y=1-i,l=s(n[3]),p=s(n[1]),w=s(n[5]),h=[[p,s(n[2])],[w,s(n[4])]],c;a(p);a(w);a(l);c=[];b(h[0][1],0);b(h[1][1],1);u.setItemLayout(d,{chartLayout:e,initBaseline:l[y],median:l,bodyEnds:c,whiskerEnds:h})})}var u=i(3),e=i(7),f=e.parsePercent,r=u.each;n.exports=function(n){var t=o(n);r(t,function(n){var t=n.seriesModels;t.length&&(s(n),r(t,function(t,i){h(t,n.boxOffsetList[i],n.boxWidthList[i])}))})}},function(n,t,i){var r=i(1);i(244);i(245);r.registerPreprocessor(i(246));r.registerVisualCoding("chart",i(247));r.registerLayout(i(248))},function(n,t,i){"use strict";var r=i(3),e=i(27),o=i(238),u=i(6),s=u.encodeHTML,h=u.addCommas,f=e.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],valueDimensions:["open","close","lowest","highest"],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,layout:null,itemStyle:{normal:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{borderWidth:2}},animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},formatTooltip:function(n){var t=r.map(this.valueDimensions,function(t){return t+": "+h(this._data.get(t,n))},this);return s(this.name)+"<br />"+t.join("<br />")}});r.mixin(f,o.seriesModelMixin,!0);n.exports=f},function(n,t,i){"use strict";function c(n,t,i){var o=t.getItemModel(i),a=o.getModel(u),v=t.getItemVisual(i,"color"),h=t.getItemVisual(i,"borderColor"),c=a.getItemStyle(["color","color0","borderColor","borderColor0"]),e=n.childAt(n.whiskerIndex),r,l;e.style.set(c);e.style.stroke=h;e.dirty();r=n.childAt(n.bodyIndex);r.style.set(c);r.style.fill=v;r.style.stroke=h;r.dirty();l=o.getModel(f).getItemStyle();s.setHoverStyle(n,l)}var e=i(3),o=i(41),s=i(42),h=i(238),r=o.extend({type:"candlestick",getStyleUpdater:function(){return c}}),u,f;e.mixin(r,h.viewMixin,!0);u=["itemStyle","normal"];f=["itemStyle","emphasis"];n.exports=r},function(n,t,i){var r=i(3);n.exports=function(n){n&&r.isArray(n.series)&&r.each(n.series,function(n){r.isObject(n)&&n.type==="k"&&(n.type="candlestick")})}},function(n){var t=["itemStyle","normal","borderColor"],i=["itemStyle","normal","borderColor0"],r=["itemStyle","normal","color"],u=["itemStyle","normal","color0"];n.exports=function(n){n.eachRawSeriesByType("candlestick",function(f){var e=f.getData();e.setVisual({legendSymbol:"roundRect"});n.isSeriesFiltered(f)||e.each(function(n){var f=e.getItemModel(n),o=e.getItemLayout(n).sign;e.setItemVisual(n,{color:f.get(o>0?r:u),borderColor:f.get(o>0?t:i)})})})}},function(n){function u(n,u){var e=n.getBaseAxis(),o,f=e.type==="category"?e.getBandWidth():(o=e.getExtent(),Math.abs(o[1]-o[0])/u.count());return f/2-2>t?f/2-2:f-t>i?t:Math.max(f-i,r)}var r=2,t=5,i=4;n.exports=function(n){n.eachSeriesByType("candlestick",function(n){var e=n.coordinateSystem,t=n.getData(),i=n.dimensions,r=n.get("layout"),f=u(n,t);t.each(i,function(){function h(n){var t=[];return t[s]=y,t[c]=n,isNaN(y)||isNaN(n)?[NaN,NaN]:e.dataToPoint(t)}function p(n,t){var i=n.slice(),r=n.slice();i[s]+=f/2;r[s]-=f/2;t?v.push(i,r):v.push(r,i)}var n=arguments,w=i.length,y=n[0],b=n[w],s=r==="horizontal"?0:1,c=1-s,u=n[1],o=n[2],k=n[3],d=n[4],g=Math.min(u,o),nt=Math.max(u,o),l=h(g),a=h(nt),tt=h(k),it=h(d),rt=[[it,a],[tt,l]],v=[];p(a,0);p(l,1);t.setItemLayout(b,{chartLayout:r,sign:u>o?-1:u<o?1:0,initBaseline:u>o?a[c]:l[c],bodyEnds:v,whiskerEnds:rt})},!0)})}},function(n,t,i){var r=i(3),u=i(1);i(250);i(251);u.registerVisualCoding("chart",r.curry(i(103),"effectScatter","circle",null));u.registerLayout(r.curry(i(104),"effectScatter"))},function(n,t,i){"use strict";var r=i(93),u=i(27);n.exports=u.extend({type:"series.effectScatter",dependencies:["grid","polar"],getInitialData:function(n,t){return r(n.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,legendHoverLink:!0,effectType:"ripple",showEffectOn:"render",rippleEffect:{period:4,scale:2.5,brushType:"fill"},xAxisIndex:0,yAxisIndex:0,polarIndex:0,geoIndex:0,symbolSize:10}})},function(n,t,i){var r=i(98),u=i(252);i(1).extendChartView({type:"effectScatter",init:function(){this._symbolDraw=new r(u)},render:function(n){var i=n.getData(),t=this._symbolDraw;t.updateData(i);this.group.add(t.group)},updateLayout:function(){this._symbolDraw.updateLayout()},remove:function(n,t){this._symbolDraw&&this._symbolDraw.remove(t)}})},function(n,t,i){function a(n){return e.isArray(n)||(n=[+n,+n]),n}function f(n,t){u.call(this);var i=new l(n,t),r=new u;this.add(i);this.add(r);r.beforeUpdate=function(){this.attr(i.getScale())};this.updateData(n,t)}var e=i(3),h=i(100),c=i(42),o=i(7),l=i(99),u=c.Group,s=3,r=f.prototype;r.stopEffectAnimation=function(){this.childAt(1).removeAll()};r.startEffectAnimation=function(n,t,i,r,u,f){for(var e,l,a=this._symbolType,o=this._color,v=this.childAt(1),c=0;c<s;c++)e=h.createSymbol(a,-.5,-.5,1,1,o),e.attr({style:{stroke:t==="stroke"?o:null,fill:t==="fill"?o:null,strokeNoScale:!0},z2:99,silent:!0,scale:[1,1],z:u,zlevel:f}),l=-c/s*n+r,e.animate("",!0).when(n,{scale:[i,i]}).delay(l).start(),e.animateStyle(!0).when(n,{opacity:0}).delay(l).start(),v.add(e)};r.highlight=function(){this.trigger("emphasis")};r.downplay=function(){this.trigger("normal")};r.updateData=function(n,t){function k(){h.trigger("emphasis");s!=="render"&&this.startEffectAnimation(y,v,l,p,w,b)}function d(){h.trigger("normal");s!=="render"&&this.stopEffectAnimation()}var g=n.hostModel,r,e,h;this.childAt(0).updateData(n,t);var u=this.childAt(1),i=n.getItemModel(t),nt=n.getItemVisual(t,"symbol"),f=a(n.getItemVisual(t,"symbolSize")),c=n.getItemVisual(t,"color");u.attr("scale",f);u.traverse(function(n){n.attr({fill:c})});r=i.getShallow("symbolOffset");r&&(e=u.position,e[0]=o.parsePercent(r[0],f[0]),e[1]=o.parsePercent(r[1],f[1]));this._symbolType=nt;this._color=c;var s=g.get("showEffectOn"),l=i.get("rippleEffect.scale"),v=i.get("rippleEffect.brushType"),y=i.get("rippleEffect.period")*1e3,p=t/n.count(),w=i.getShallow("z")||0,b=i.getShallow("zlevel")||0;this.stopEffectAnimation();s==="render"&&this.startEffectAnimation(y,v,l,p,w,b);h=this.childAt(0);this.on("mouseover",k,this).on("mouseout",d,this).on("emphasis",k,this).on("normal",d,this)};r.fadeOut=function(n){n&&n()};e.inherits(f,u);n.exports=f},function(n,t,i){i(254);i(255);var u=i(3),r=i(1);r.registerLayout(i(257));r.registerVisualCoding("chart",u.curry(i(88),"lines","lineStyle"))},function(n,t,i){"use strict";var f=i(27),u=i(94),r=i(3),e=i(25);n.exports=f.extend({type:"series.lines",dependencies:["grid","polar"],getInitialData:function(n){function a(n,t,i,r){return n.coord&&n.coord[r]}var i=[],f=[],o=[],t;if(r.each(n.data,function(n){i.push(n[0]);f.push(n[1]);o.push(r.extend(r.extend({},r.isArray(n[0])?null:n[0]),r.isArray(n[1])?null:n[1]))}),t=e.get(n.coordinateSystem),!t)throw new Error("Invalid coordinate system");var s=t.dimensions,h=new u(s,this),c=new u(s,this),l=new u(["value"],this);return h.initData(i,null,a),c.initData(f,null,a),l.initData(o),this.fromData=h,this.toData=c,l},formatTooltip:function(n){var t=this.fromData.getName(n),i=this.toData.getName(n);return t+" > "+i},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,geoIndex:0,effect:{show:!1,period:4,symbol:"circle",symbolSize:3,trailLength:.2},large:!1,largeThreshold:2e3,label:{normal:{show:!1,position:"end"}},lineStyle:{normal:{opacity:.5}}}})},function(n,t,i){var r=i(194),u=i(256),f=i(195);i(1).extendChartView({type:"lines",init:function(){},render:function(n,t,i){var l=n.getData(),e=this._lineDraw,o=n.get("effect.show");o!==this._hasEffet&&(e&&e.remove(),e=this._lineDraw=new r(o?u:f),this._hasEffet=o);var s=n.get("zlevel"),c=n.get("effect.trailLength"),h=i.getZr();h.painter.getLayer(s).clear(!0);this._lastZlevel!=null&&h.configLayer(this._lastZlevel,{motionBlur:!1});o&&c&&h.configLayer(s,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(c/10+.9,1),0)});this.group.add(e.group);e.updateData(l);this._lastZlevel=s},updateLayout:function(n,t,i){this._lineDraw.updateLayout();var r=i.getZr();r.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(n,t){this._lineDraw&&this._lineDraw.remove(t,!0)}})},function(n,t,i){function u(n,t,i,r){e.Group.call(this);var u=new h(n,t,i,r);this.add(u);this._updateEffectSymbol(n,r)}function s(n,t){n.__p1=t[0];n.__p2=t[1];n.__cp1=t[2]||[(t[0][0]+t[1][0])/2,(t[0][1]+t[1][1])/2]}function l(){var n=this.__p1,t=this.__p2,i=this.__cp1,r=this.__t,u=this.position,f=o.quadraticAt,e=o.quadraticDerivativeAt,s,h;u[0]=f(n[0],i[0],t[0],r);u[1]=f(n[1],i[1],t[1],r);s=e(n[0],i[0],t[0],r);h=e(n[1],i[1],t[1],r);this.rotation=-Math.atan2(h,s)-Math.PI/2;this.ignore=!1}var e=i(42),h=i(195),r=i(3),c=i(100),o=i(49),f=u.prototype;f._updateEffectSymbol=function(n,t){var v=n.getItemModel(t),f=v.getModel("effect"),u=f.get("symbolSize"),o=f.get("symbol"),a;r.isArray(u)||(u=[u,u]);var h=f.get("color")||n.getItemVisual(t,"color"),i=this.childAt(1),e=f.get("period")*1e3;(this._symbolType!==o||e!==this._period)&&(i=c.createSymbol(o,-.5,-.5,1,1,h),i.ignore=!0,i.z2=100,this._symbolType=o,this._period=e,this.add(i),i.__t=0,i.animate("",!0).when(e,{__t:1}).delay(t/n.count()*e/2).during(r.bind(l,i)).start());i.setStyle("shadowColor",h);i.setStyle(f.getItemStyle(["color"]));i.attr("scale",u);a=n.getItemLayout(t);s(i,a);i.setColor(h);i.attr("scale",u)};f.updateData=function(n,t,i,r){this.childAt(0).updateData(n,t,i,r);this._updateEffectSymbol(n,r)};f.updateLayout=function(n,t,i,r){this.childAt(0).updateLayout(n,t,i,r);var u=this.childAt(1),f=n.getItemLayout(r);s(u,f)};r.inherits(u,e.Group);n.exports=u},function(n){n.exports=function(n){n.eachSeriesByType("lines",function(n){var t=n.coordinateSystem,i=n.fromData,r=n.toData,u=n.getData(),f=t.dimensions;i.each(f,function(n,r,u){i.setItemLayout(u,t.dataToPoint([n,r]))});r.each(f,function(n,i,u){r.setItemLayout(u,t.dataToPoint([n,i]))});u.each(function(n){var t=i.getItemLayout(n),f=r.getItemLayout(n),e=u.getItemModel(n).get("lineStyle.normal.curveness"),o;e>0&&(o=[(t[0]+f[0])/2-(t[1]-f[1])*e,(t[1]+f[1])/2-(f[0]-t[0])*e]);u.setItemLayout(n,[t,f,o])})})}},function(n,t,i){i(259);i(260)},function(n,t,i){var r=i(27),u=i(93);n.exports=r.extend({type:"series.heatmap",getInitialData:function(n,t){return u(n.data,this,t)},defaultOption:{coordinateSystem:"cartesian2d",zlevel:0,z:2,xAxisIndex:0,yAxisIndex:0,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0}})},function(n,t,i){function e(n,t,i){var e=n[1]-n[0],u,r;return t=f.map(t,function(t){return{interval:[(t.interval[0]-n[0])/e,(t.interval[1]-n[0])/e]}}),u=t.length,r=0,function(n){for(var e,f=r;f<u;f++)if(e=t[f].interval,e[0]<=n&&n<=e[1]){r=f;break}if(f===u)for(f=r-1;f>=0;f--)if(e=t[f].interval,e[0]<=n&&n<=e[1]){r=f;break}return f>=0&&f<u&&i[f]}}function o(n,t){var i=n[1]-n[0];return t=[(t[0]-n[0])/i,(t[1]-n[0])/i],function(n){return n>=t[0]&&n<=t[1]}}function s(n){var t=n.dimensions;return t[0]==="lng"&&t[1]==="lat"}var r=i(42),u=i(261),f=i(3);n.exports=i(1).extendChartView({type:"heatmap",render:function(n,t,i){var u,r;if(t.eachComponent("visualMap",function(t){t.eachTargetSeries(function(i){i===n&&(u=t)})}),!u)throw new Error("Heatmap must use with visualMap");this.group.removeAll();r=n.coordinateSystem;r.type==="cartesian2d"?this._renderOnCartesian(r,n,i):s(r)&&this._renderOnGeo(r,n,u,i)},_renderOnCartesian:function(n,t){var u=n.getAxis("x"),f=n.getAxis("y"),s=this.group;if(!(u.type==="category"&&f.type==="category"))throw new Error("Heatmap on cartesian must have two category axes");if(!(u.onBand&&f.onBand))throw new Error("Heatmap on cartesian must have two axes with boundaryGap true");var e=u.getBandWidth(),o=f.getBandWidth(),i=t.getData();i.each(["x","y","z"],function(u,f,h,c){var l=i.getItemModel(c),b=n.dataToPoint([u,f]);if(!isNaN(h)){var a=new r.Rect({shape:{x:b[0]-e/2,y:b[1]-o/2,width:e,height:o},style:{fill:i.getItemVisual(c,"color")}}),v=l.getModel("itemStyle.normal").getItemStyle(["color"]),y=l.getModel("itemStyle.emphasis").getItemStyle(),k=l.getModel("label.normal"),d=l.getModel("label.emphasis"),p=t.getRawValue(c),w="-";p&&p[2]!=null&&(w=p[2]);k.get("show")&&(r.setText(v,k),v.text=t.getFormattedLabel(c,"normal")||w);d.get("show")&&(r.setText(y,d),y.text=t.getFormattedLabel(c,"emphasis")||w);a.setStyle(v);r.setHoverStyle(a,y);s.add(a);i.setItemGraphicEl(c,a)}})},_renderOnGeo:function(n,t,i,f){var a=i.targetVisuals.inRange,k=i.targetVisuals.outOfRange,d=t.getData(),h=this._hmLayer||this._hmLayer||new u,s,v,b;h.blurSize=t.get("blurSize");h.pointSize=t.get("pointSize");h.minOpacity=t.get("minOpacity");h.maxOpacity=t.get("maxOpacity");s=n.getViewRect().clone();v=n.getRoamTransform();s.applyTransform(v);var c=Math.max(s.x,0),l=Math.max(s.y,0),g=Math.min(s.width+s.x,f.getWidth()),nt=Math.min(s.height+s.y,f.getHeight()),y=g-c,p=nt-l,tt=d.mapArray(["lng","lat","value"],function(t,i,r){var u=n.dataToPoint([t,i]);return u[0]-=c,u[1]-=l,u.push(r),u}),w=i.getExtent(),it=i.type==="visualMap.continuous"?o(w,i.option.range):e(w,i.getPieceList(),i.option.selected);h.update(tt,y,p,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:k.color.getColorMapper()},it);b=new r.Image({style:{width:y,height:p,x:c,y:l,image:h.canvas},silent:!0});this.group.add(b)}})},function(n,t,i){function u(){var n=r.createCanvas();this.canvas=n;this.blurSize=30;this.pointSize=20;this.maxOpacity=1;this.minOpacity=0;this._gradientPixels={}}var f=256,r=i(3);u.prototype={update:function(n,t,i,r,u,e){var d=this._getBrush(),g=this._getGradient(n,u,"inRange"),nt=this._getGradient(n,u,"outOfRange"),w=this.pointSize+this.blurSize,h=this.canvas,v=h.getContext("2d"),tt=n.length,y,o,l,a;for(h.width=t,h.height=i,y=0;y<tt;++y){var p=n[y],it=p[0],rt=p[1],ut=p[2],o=r(ut);v.globalAlpha=o;v.drawImage(d,it-w,rt-w)}for(var b=v.getImageData(0,0,h.width,h.height),c=b.data,s=0,ft=c.length,k=this.minOpacity,et=this.maxOpacity,ot=et-k;s<ft;)o=c[s+3]/256,l=Math.floor(o*(f-1))*4,o>0?(a=e(o)?g:nt,o>0&&(o=o*ot+k),c[s++]=a[l],c[s++]=a[l+1],c[s++]=a[l+2],c[s++]=a[l+3]*o*256):s+=4;return v.putImageData(b,0,0),h},_getBrush:function(){var i=this._brushCanvas||(this._brushCanvas=r.createCanvas()),u=this.pointSize+this.blurSize,t=u*2,n;return i.width=t,i.height=t,n=i.getContext("2d"),n.clearRect(0,0,t,t),n.shadowOffsetX=t,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-u,u,this.pointSize,0,Math.PI*2,!0),n.closePath(),n.fill(),i},_getGradient:function(n,t,i){for(var o=this._gradientPixels,r=o[i]||(o[i]=new Uint8ClampedArray(1024)),u=[],f=0,e=0;e<256;e++)t[i](e/255,!0,u),r[f++]=u[0],r[f++]=u[1],r[f++]=u[2],r[f++]=u[3];return r}};n.exports=u},function(n,t,i){i(263);i(264);i(265);var r=i(1);r.registerProcessor("filter",i(267))},function(n,t,i){"use strict";var r=i(3),f=i(8),u=i(1).extendComponentModel({type:"legend",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(n,t,i){var r,u,f,e;if(this.mergeDefaultAndTheme(n,i),n.selected=n.selected||{},this._updateData(i),r=this._data,u=this.option.selected,r[0]&&this.get("selectedMode")==="single"){f=!1;for(e in u)u[e]&&(this.select(e),f=!0);f||this.select(r[0].get("name"))}},mergeOption:function(n){u.superCall(this,"mergeOption",n);this._updateData(this.ecModel)},_updateData:function(n){var i=r.map(this.get("data")||[],function(n){return typeof n=="string"&&(n={name:n}),new f(n,this,this.ecModel)},this),t;this._data=i;t=r.map(n.getSeries(),function(n){return n.name});n.eachSeries(function(n){if(n.legendDataProvider){var i=n.legendDataProvider();t=t.concat(i.mapArray(i.getName))}});this._availableNames=t},getData:function(){return this._data},select:function(n){var t=this.option.selected,u=this.get("selectedMode"),i;u==="single"&&(i=this._data,r.each(i,function(n){t[n.get("name")]=!1}));t[n]=!0},unSelect:function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},toggleSelected:function(n){var t=this.option.selected;n in t||(t[n]=!0);this[t[n]?"unSelect":"select"](n)},isSelected:function(n){var t=this.option.selected;return!(n in t&&!t[n])&&r.indexOf(this._availableNames,n)>=0},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:"top",align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,textStyle:{color:"#333"},selectedMode:!0}});n.exports=u},function(n,t,i){function f(n,t,i){var u={},e=n==="toggleSelected",f;return i.eachComponent("legend",function(i){e&&f!=null?i[f?"select":"unSelect"](t.name):(i[n](t.name),f=i.isSelected(t.name));var o=i.getData();r.each(o,function(n){var t=n.get("name"),r;t!=="\n"&&t!==""&&(r=i.isSelected(t),u[t]=t in u?u[t]&&r:r)})}),{name:t.name,selected:u}}var u=i(1),r=i(3);u.registerAction("legendToggleSelect","legendselectchanged",r.curry(f,"toggleSelected"));u.registerAction("legendSelect","legendselected",r.curry(f,"select"));u.registerAction("legendUnSelect","legendunselected",r.curry(f,"unSelect"))},function(n,t,i){function h(n,t){t.dispatchAction({type:"legendToggleSelect",name:n})}function c(n,t,i){n.get("legendHoverLink")&&i.dispatchAction({type:"highlight",seriesName:n.name,name:t})}function l(n,t,i){n.get("legendHoverLink")&&i.dispatchAction({type:"downplay",seriesName:n.name,name:t})}var e=i(3),o=i(100),u=i(42),s=i(266),r=e.curry,f="#ccc";n.exports=i(1).extendComponentView({type:"legend",init:function(){this._symbolTypeStore={}},render:function(n,t,i){var a=this.group,v,f,o;(a.removeAll(),n.get("show"))&&(v=n.get("selectedMode"),f=n.get("align"),f==="auto"&&(f=n.get("left")==="right"&&n.get("orient")==="vertical"?"right":"left"),o={},e.each(n.getData(),function(e){var s=e.get("name"),y,w,p;if(s===""||s==="\n"){a.add(new u.Group({newline:!0}));return}if(y=t.getSeriesByName(s)[0],!o[s])if(y){w=y.getData();p=w.getVisual("color");typeof p=="function"&&(p=p(y.getDataParams(0)));var b=w.getVisual("legendSymbol")||"roundRect",k=w.getVisual("symbol"),d=this._createItem(s,e,n,b,k,f,p,v);d.on("click",r(h,s,i)).on("mouseover",r(c,y,"",i)).on("mouseout",r(l,y,"",i));o[s]=!0}else t.eachRawSeries(function(t){if(!o[s]&&t.legendDataProvider){var u=t.legendDataProvider(),a=u.indexOfName(s),y=u.getItemVisual(a,"color"),p=this._createItem(s,e,n,"roundRect",null,f,y,v);p.on("click",r(h,s,i)).on("mouseover",r(c,t,s,i)).on("mouseout",r(l,t,s,i));o[s]=!0}},this)},this),s.layout(a,n,i),s.addBackground(a,n))},_createItem:function(n,t,i,r,e,s,h,c){var p=i.get("itemWidth"),y=i.get("itemHeight"),w=i.isSelected(n),l=new u.Group,b=t.getModel("textStyle"),k=t.get("icon"),a,d;r=k||r;l.add(o.createSymbol(r,0,0,p,y,w?h:f));!k&&e&&(e!==r||e=="none")&&(a=y*.8,e==="none"&&(e="circle"),l.add(o.createSymbol(e,(p-a)/2,(y-a)/2,a,a,w?h:f)));var g=s==="left"?p+5:-5,nt=s,v=i.get("formatter");return typeof v=="string"&&v?n=v.replace("{name}",n):typeof v=="function"&&(n=v(n)),d=new u.Text({style:{text:n,x:g,y:y/2,fill:w?b.getTextColor():f,textFont:b.getFont(),textAlign:nt,textVerticalAlign:"middle"}}),l.add(d),l.add(new u.Rect({shape:l.getBoundingRect(),invisible:!0})),l.eachChild(function(n){n.silent=!c}),this.group.add(l),u.setHoverStyle(l),l}})},function(n,t,i){function e(n,t,i){r.positionGroup(n,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},t.get("padding"))}var r=i(21),f=i(6),u=i(42);n.exports={layout:function(n,t,i){var u=r.getLayoutRect(t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()},t.get("padding"));r.box(t.get("orient"),n,t.get("itemGap"),u.width,u.height);e(n,t,i)},addBackground:function(n,t){var i=f.normalizeCssArray(t.get("padding")),r=n.getBoundingRect(),o=t.getItemStyle(["color","opacity"]),e;o.fill=t.get("backgroundColor");e=new u.Rect({shape:{x:r.x-i[3],y:r.y-i[0],width:r.width+i[1]+i[3],height:r.height+i[0]+i[2]},style:o,silent:!0,z2:-1});u.subPixelOptimizeRect(e);n.add(e)}}},function(n){n.exports=function(n){var t=n.findComponents({mainType:"legend"});t&&t.length&&n.filterSeries(function(n){for(var i=0;i<t.length;i++)if(!t[i].isSelected(n.name))return!1;return!0})}},function(n,t,i){i(269);i(270);i(1).registerAction({type:"showTip",event:"showTip",update:"none"},function(){});i(1).registerAction({type:"hideTip",event:"hideTip",update:"none"},function(){})},function(n,t,i){i(1).extendComponentModel({type:"tooltip",defaultOption:{zlevel:0,z:8,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove",alwaysShowContent:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:!0,animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",lineStyle:{color:"#555",width:1,type:"solid"},crossStyle:{color:"#555",width:1,type:"dashed",textStyle:{}},shadowStyle:{color:"rgba(150,150,150,0.3)"}},textStyle:{color:"#fff",fontSize:14}}})},function(n,t,i){function p(n,t){if(!n||!t)return!1;var i=h.round;return i(n[0])===i(t[0])&&i(n[1])===i(t[1])}function f(n,t,i,r){return{x1:n,y1:t,x2:i,y2:r}}function l(n,t,i,r){return{x:n,y:t,width:i,height:r}}function a(n,t,i,r,u,f){return{cx:n,cy:t,r0:i,r:r,startAngle:u,endAngle:f,clockwise:!0}}function w(n,t,i,r,u){var e=i.clientWidth,o=i.clientHeight,f=20;return n+e+f>r?n-=e+f:n+=f,t+o+f>u?t-=o+f:t+=f,[n,t]}function b(n,t,i){var f=i.clientWidth,e=i.clientHeight,o=5,r=0,u=0,s=t.width,h=t.height;switch(n){case"inside":r=t.x+s/2-f/2;u=t.y+h/2-e/2;break;case"top":r=t.x+s/2-f/2;u=t.y-e-o;break;case"bottom":r=t.x+s/2-f/2;u=t.y+h+o;break;case"left":r=t.x-f-o;u=t.y+h/2-e/2;break;case"right":r=t.x+s+o;u=t.y+h/2-e/2}return[r,u]}function e(n,t,i,u,f,e,o){var l=o.getWidth(),a=o.getHeight(),h=e&&e.getBoundingRect().clone(),s;e&&h.applyTransform(e.transform);typeof n=="function"&&(n=n([t,i],f,h));r.isArray(n)?(t=c(n[0],l),i=c(n[1],a)):typeof n=="string"&&e?(s=b(n,h,u.el),t=s[0],i=s[1]):(s=w(t,i,u.el,l,a),t=s[0],i=s[1]);u.moveTo(t,i)}function v(n){var t=n.coordinateSystem,i=n.get("tooltip.trigger",!0);return!(!t||t.type!=="cartesian2d"&&t.type!=="polar"&&t.type!=="single"||i==="item")}var y=i(271),u=i(42),r=i(3),o=i(6),h=i(7),c=h.parsePercent,s=i(78);i(1).extendComponentView({type:"tooltip",_axisPointers:{},init:function(n,t){if(!s.node){var i=new y(t.getDom(),t);this._tooltipContent=i;t.on("showTip",this._manuallyShowTip,this);t.on("hideTip",this._manuallyHideTip,this)}},render:function(n,t,i){var f,e,u,r;if(!s.node)if(this.group.removeAll(),this._axisPointers={},this._tooltipModel=n,this._ecModel=t,this._api=i,this._lastHover={},f=this._tooltipContent,f.update(),f.enterable=n.get("enterable"),this._alwaysShowContent=n.get("alwaysShowContent"),this._seriesGroupByAxis=this._prepareAxisTriggerData(n,t),e=this._crossText,e&&this.group.add(e),this._lastX!=null&&this._lastY!=null&&(u=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){u._manuallyShowTip({x:u._lastX,y:u._lastY})})),r=this._api.getZr(),r.off("click",this._tryShow),r.off("mousemove",this._mousemove),r.off("mouseout",this._hide),r.off("globalout",this._hide),n.get("triggerOn")==="click")r.on("click",this._tryShow,this);else{r.on("mousemove",this._mousemove,this);r.on("mouseout",this._hide,this);r.on("globalout",this._hide,this)}},_mousemove:function(n){var t=this._tooltipModel.get("showDelay"),i=this;clearTimeout(this._showTimeout);t>0?this._showTimeout=setTimeout(function(){i._tryShow(n)},t):this._tryShow(n)},_manuallyShowTip:function(n){var s,h,c,f,e,u,i;if(n.from!==this.uid){var l=this._ecModel,a=n.seriesIndex,o=n.dataIndex,t=l.getSeriesByIndex(a),y=this._api;n.x==null||n.y==null?(t||l.eachSeries(function(n){v(n)&&!t&&(t=n)}),t&&(s=t.getData(),o==null&&(o=s.indexOfName(n.name)),i=s.getItemGraphicEl(o),f=t.coordinateSystem,f&&f.dataToPoint?(e=f.dataToPoint(s.getValues(r.map(f.dimensions,function(n){return t.coordDimToDataDim(n)[0]}),o,!0)),h=e&&e[0],c=e&&e[1]):i&&(u=i.getBoundingRect().clone(),u.applyTransform(i.transform),h=u.x+u.width/2,c=u.y+u.height/2),h!=null&&c!=null&&this._tryShow({offsetX:h,offsetY:c,target:i,event:{}}))):(i=y.getZr().handler.findHover(n.x,n.y),this._tryShow({offsetX:n.x,offsetY:n.y,target:i,event:{}}))}},_manuallyHideTip:function(n){n.from!==this.uid&&this._hide()},_prepareAxisTriggerData:function(n,t){var i={};return t.eachSeries(function(n){if(v(n)){var r=n.coordinateSystem,t,u;r.type==="cartesian2d"?(t=r.getBaseAxis(),u=t.dim+t.index):r.type==="single"?(t=r.getAxis(),u=t.dim+t.type):(t=r.getBaseAxis(),u=t.dim+r.name);i[u]=i[u]||{coordSys:[],series:[]};i[u].coordSys.push(r);i[u].series.push(n)}},this),i},_tryShow:function(n){var t=n.target,i=this._tooltipModel,u=i.get("trigger"),r=this._ecModel,f=this._api;if(i)if(this._lastX=n.offsetX,this._lastY=n.offsetY,t&&t.dataIndex!=null){var e=t.dataModel||r.getSeriesByIndex(t.seriesIndex),o=t.dataIndex,s=e.getData().getItemModel(o);(s.get("tooltip.trigger")||u)==="axis"?this._showAxisTooltip(i,r,n):(this._ticket="",this._hideAxisPointer(),this._resetLastHover(),this._showItemTooltipContent(e,o,n));f.dispatchAction({type:"showTip",from:this.uid,dataIndex:t.dataIndex,seriesIndex:t.seriesIndex})}else u==="item"?this._hide():this._showAxisTooltip(i,r,n),i.get("axisPointer.type")==="cross"&&f.dispatchAction({type:"showTip",from:this.uid,x:n.offsetX,y:n.offsetY})},_showAxisTooltip:function(n,t,i){var u=n.getModel("axisPointer"),e=u.get("type"),f,s,h,o;e==="cross"&&(f=i.target,f&&f.dataIndex!=null&&(s=t.getSeriesByIndex(f.seriesIndex),h=f.dataIndex,this._showItemTooltipContent(s,h,i)));this._showAxisPointer();o=!0;r.each(this._seriesGroupByAxis,function(n){var w=n.coordSys,t=w[0],f=[i.offsetX,i.offsetY],v,s,y,h,c,l,a;if(!t.containPoint(f)){this._hideAxisPointer(t.name);return}o=!1;v=t.dimensions;s=t.pointToData(f,!0);f=t.dataToPoint(s);y=t.getBaseAxis();h=u.get("axis");h==="auto"&&(h=y.dim);c=!1;l=this._lastHover;e==="cross"?(p(l.data,s)&&(c=!0),l.data=s):(a=r.indexOf(v,h),l.data===s[a]&&(c=!0),l.data=s[a]);t.type!=="cartesian2d"||c?t.type!=="polar"||c?t.type!=="single"||c||this._showSinglePointer(u,t,h,f):this._showPolarPointer(u,t,h,f):this._showCartesianPointer(u,t,h,f);e!=="cross"&&this._dispatchAndShowSeriesTooltipContent(t,n.series,f,s,c)},this);o&&this._hide()},_showCartesianPointer:function(n,t,i,r){function o(i,r,e){var o=i==="x"?f(r[0],e[0],r[0],e[1]):f(e[0],r[1],e[1],r[1]),c=s._getPointerElement(t,n,i,o);h?u.updateProps(c,{shape:o},n):c.attr({shape:o})}function v(i,r,f){var v=t.getAxis(i),e=v.getBandWidth(),c=f[1]-f[0],o=i==="x"?l(r[0]-e/2,f[0],e,c):l(f[0],r[1]-e/2,c,e),a=s._getPointerElement(t,n,i,o);h?u.updateProps(a,{shape:o},n):a.attr({shape:o})}var s=this,e=n.get("type"),h=e!=="cross",c,a;e==="cross"?(o("x",r,t.getAxis("y").getGlobalExtent()),o("y",r,t.getAxis("x").getGlobalExtent()),this._updateCrossText(t,r,n)):(c=t.getAxis(i==="x"?"y":"x"),a=c.getGlobalExtent(),t.type==="cartesian2d"&&(e==="line"?o:v)(i,r,a))},_showSinglePointer:function(n,t,i,r){function l(i,r,e){var l=t.getAxis(),a=l.orient,s=a==="horizontal"?f(r[0],e[0],r[0],e[1]):f(e[0],r[1],e[1],r[1]),c=o._getPointerElement(t,n,i,s);h?u.updateProps(c,{shape:s},n):c.attr({shape:s})}var o=this,s=n.get("type"),h=s!=="cross",e=t.getRect(),c=[e.y,e.y+e.height];l(i,r,c)},_showPolarPointer:function(n,t,i,r){function o(i,r,e){var c=t.pointToCoord(r),o,l,a,v;i==="angle"?(l=t.coordToPoint([e[0],c[1]]),a=t.coordToPoint([e[1],c[1]]),o=f(l[0],l[1],a[0],a[1])):o={cx:t.cx,cy:t.cy,r:c[0]};v=s._getPointerElement(t,n,i,o);h?u.updateProps(v,{shape:o},n):v.attr({shape:o})}function p(i,r,f){var y=t.getAxis(i),e=y.getBandWidth(),o=t.pointToCoord(r),c,v=Math.PI/180,l;c=i==="angle"?a(t.cx,t.cy,f[0],f[1],(-o[1]-e/2)*v,(-o[1]+e/2)*v):a(t.cx,t.cy,o[0]-e/2,o[0]+e/2,0,Math.PI*2);l=s._getPointerElement(t,n,i,c);h?u.updateProps(l,{shape:c},n):l.attr({shape:c})}var s=this,e=n.get("type"),v=t.getAngleAxis(),y=t.getRadiusAxis(),h=e!=="cross",c,l;e==="cross"?(o("angle",r,y.getExtent()),o("radius",r,v.getExtent()),this._updateCrossText(t,r,n)):(c=t.getAxis(i==="radius"?"angle":"radius"),l=c.getExtent(),(e==="line"?o:p)(i,r,l))},_updateCrossText:function(n,t,i){var s=i.getModel("crossStyle"),h=s.getModel("textStyle"),c=this._tooltipModel,f=this._crossText,e,l;f||(f=this._crossText=new u.Text({style:{textAlign:"left",textVerticalAlign:"bottom"}}),this.group.add(f));e=n.pointToData(t);l=n.dimensions;e=r.map(e,function(t,i){var r=n.getAxis(l[i]);return r.type==="category"||r.type==="time"?r.scale.getLabel(t):o.addCommas(t.toFixed(r.getPixelPrecision()))});f.setStyle({fill:h.getTextColor()||s.get("color"),textFont:h.getFont(),text:e.join(", "),x:t[0]+5,y:t[1]-5});f.z=c.get("z");f.zlevel=c.get("zlevel")},_getPointerElement:function(n,t,i,r){var c=this._tooltipModel,a=c.get("z"),v=c.get("zlevel"),f=this._axisPointers,e=n.name,h;if(f[e]=f[e]||{},f[e][i])return f[e][i];var l=t.get("type"),y=t.getModel(l+"Style"),o=l==="shadow",s=y[o?"getAreaStyle":"getLineStyle"](),p=n.type==="polar"?o?"Sector":i==="radius"?"Circle":"Line":o?"Rect":"Line";return o?s.stroke=null:s.fill=null,h=f[e][i]=new u[p]({style:s,z:a,zlevel:v,silent:!0,shape:r}),this.group.add(h),h},_dispatchAndShowSeriesTooltipContent:function(n,t,i,u,f){var v=this._tooltipModel,c=this._tooltipContent,h=n.getBaseAxis(),s=r.map(t,function(n){return{seriesIndex:n.seriesIndex,dataIndex:n.getAxisTooltipDataIndex?n.getAxisTooltipDataIndex(n.coordDimToDataDim(h.dim),u,h):n.getData().indexOfNearest(n.coordDimToDataDim(h.dim)[0],u[h.dim==="x"||h.dim==="radius"?0:1])}}),w=this._lastHover,l=this._api,b,k;if(w.payloadBatch&&!f&&l.dispatchAction({type:"downplay",batch:w.payloadBatch}),f||(l.dispatchAction({type:"highlight",batch:s}),w.payloadBatch=s),l.dispatchAction({type:"showTip",dataIndex:s[0].dataIndex,seriesIndex:s[0].seriesIndex,from:this.uid}),h&&v.get("showContent")){var a=v.get("formatter"),d=v.get("position"),y,p=r.map(t,function(n,t){return n.getDataParams(s[t].dataIndex)});if(c.show(v),b=s[0].dataIndex,!f){if(this._ticket="",a){if(typeof a=="string")y=o.formatTpl(a,p);else if(typeof a=="function"){var g=this,nt="axis_"+n.name+"_"+b,tt=function(n,t){n===g._ticket&&(c.setContent(t),e(d,i[0],i[1],c,p,null,l))};g._ticket=nt;y=a(p,nt,tt)}}else k=t[0].getData().getName(b),y=(k?k+"<br />":"")+r.map(t,function(n,t){return n.formatTooltip(s[t].dataIndex,!0)}).join("<br />");c.setContent(y)}e(d,i[0],i[1],c,p,null,l)}},_showItemTooltipContent:function(n,t,i){var c=this._api,y=n.getData(),p=y.getItemModel(t),w=this._tooltipModel,u=this._tooltipContent,r=p.getModel("tooltip");if(r.parentModel?r.parentModel.parentModel=w:r.parentModel=this._tooltipModel,r.get("showContent")){var f=r.get("formatter"),l=r.get("position"),s=n.getDataParams(t),h;if(f){if(typeof f=="string")h=o.formatTpl(f,s);else if(typeof f=="function"){var a=this,v="item_"+n.name+"_"+t,b=function(n,t){n===a._ticket&&(u.setContent(t),e(l,i.offsetX,i.offsetY,u,s,i.target,c))};a._ticket=v;h=f(s,v,b)}}else h=n.formatTooltip(t);u.show(r);u.setContent(h);e(l,i.offsetX,i.offsetY,u,s,i.target,c)}},_showAxisPointer:function(n){if(n){var t=this._axisPointers[n];t&&r.each(t,function(n){n.show()})}else this.group.eachChild(function(n){n.show()}),this.group.show()},_resetLastHover:function(){var n=this._lastHover;n.payloadBatch&&this._api.dispatchAction({type:"downplay",batch:n.payloadBatch});this._lastHover={}},_hideAxisPointer:function(n){if(n){var t=this._axisPointers[n];t&&r.each(t,function(n){n.hide()})}else this.group.hide()},_hide:function(){clearTimeout(this._showTimeout);this._hideAxisPointer();this._resetLastHover();this._alwaysShowContent||this._tooltipContent.hideLater(this._tooltipModel.get("hideDelay"));this._api.dispatchAction({type:"hideTip",from:this.uid});this._lastX=this._lastY=null},dispose:function(n,t){if(!s.node){var i=t.getZr();this._tooltipContent.hide();i.off("click",this._tryShow);i.off("mousemove",this._mousemove);i.off("mouseout",this._hide);i.off("globalout",this._hide);t.off("showTip",this._manuallyShowTip);t.off("hideTip",this._manuallyHideTip)}}})},function(n,t,i){function a(n){var t="cubic-bezier(0.23, 1, 0.32, 1)",i="left "+n+"s "+t+",top "+n+"s "+t;return u.map(c,function(n){return n+"transition:"+i}).join(";")}function v(n){var t=[],i=n.get("fontSize"),r=n.getTextColor();return r&&t.push("color:"+r),t.push("font:"+n.getFont()),i&&t.push("line-height:"+Math.round(i*3/2)+"px"),o(["decoration","align"],function(i){var r=n.get(i);r&&t.push("text-"+i+":"+r)}),t.join(";")}function y(n){n=n;var t=[],r=n.get("transitionDuration"),i=n.get("backgroundColor"),f=n.getModel("textStyle"),u=n.get("padding");return r&&t.push(a(r)),i&&(t.push("background-Color:"+s.toHex(i)),t.push("filter:alpha(opacity=70)"),t.push("background-Color:"+i)),o(["width","color","radius"],function(i){var r="border-"+i,f=h(r),u=n.get(f);u!=null&&t.push(r+":"+u+(i==="color"?"":"px"))}),t.push(v(f)),u!=null&&t.push("padding:"+e.normalizeCssArray(u).join("px ")+"px"),t.join(";")+";"}function f(n,t){var u=document.createElement("div"),f=t.getZr(),i;this.el=u;this._x=t.getWidth()/2;this._y=t.getHeight()/2;n.appendChild(u);this._container=n;this._show=!1;this._hideTimeout;i=this;u.onmouseenter=function(){i.enterable&&(clearTimeout(i._hideTimeout),i._show=!0);i._inContent=!0};u.onmousemove=function(t){if(!i.enterable){var u=f.handler;r.normalizeEvent(n,t);u.dispatch("mousemove",t)}};u.onmouseleave=function(){i.enterable&&i._show&&i.hideLater(i._hideDelay);i._inContent=!1};p(u,n)}function p(n,t){function i(n){u(n.target)&&n.preventDefault()}function u(i){while(i&&i!==t){if(i===n)return!0;i=i.parentNode}}r.addEventListener(t,"touchstart",i);r.addEventListener(t,"touchmove",i);r.addEventListener(t,"touchend",i)}var u=i(3),s=i(38),r=i(80),e=i(6),o=u.each,h=e.toCamelCase,c=["","-webkit-","-moz-","-o-"],l="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;";f.prototype={constructor:f,enterable:!0,update:function(){var n=this._container,i=n.currentStyle||document.defaultView.getComputedStyle(n),t=n.style;t.position!=="absolute"&&i.position!=="absolute"&&(t.position="relative")},show:function(n){clearTimeout(this._hideTimeout);this.el.style.cssText=l+y(n)+";left:"+this._x+"px;top:"+this._y+"px;"+(n.get("extraCssText")||"");this._show=!0},setContent:function(n){var t=this.el;t.innerHTML=n;t.style.display=n?"block":"none"},moveTo:function(n,t){var i=this.el.style;i.left=n+"px";i.top=t+"px";this._x=n;this._y=t},hide:function(){this.el.style.display="none";this._show=!1},hideLater:function(n){!this._show||this._inContent&&this.enterable||(n?(this._hideDelay=n,this._show=!1,this._hideTimeout=setTimeout(u.bind(this.hide,this),n)):this.hide())},isShow:function(){return this._show}};n.exports=f},function(n,t,i){"use strict";i(273);i(279);i(281);i(1).extendComponentView({type:"polar"})},function(n,t,i){function h(n,t){var r=n.get("center"),h=n.get("radius"),u=t.getWidth(),f=t.getHeight(),i=s.parsePercent,e,o;this.cx=i(r[0],u);this.cy=i(r[1],f);e=this.getRadiusAxis();o=Math.min(u,f)/2;e.setExtent(0,i(h,o))}function c(n){var u=this,t=u.getAngleAxis(),i=u.getRadiusAxis(),r,e;t.scale.setExtent(Infinity,-Infinity);i.scale.setExtent(Infinity,-Infinity);n.eachSeries(function(n){if(n.coordinateSystem===u){var r=n.getData();i.scale.unionExtent(r.getDataExtent("radius",i.type!=="category"));t.scale.unionExtent(r.getDataExtent("angle",t.type!=="category"))}});f(t,t.model);f(i,i.model);t.type!=="category"||t.onBand||(r=t.getExtent(),e=360/t.scale.count(),t.inverse?r[1]+=e:r[1]-=e,t.setExtent(r[0],r[1]))}function e(n,t){if(n.type=t.get("type"),n.scale=u.createScaleByModel(t),n.onBand=t.get("boundaryGap")&&n.type==="category",t.mainType==="angleAxis"){var i=t.get("startAngle");n.inverse=t.get("inverse")^t.get("clockwise");n.setExtent(i,i+(n.inverse?-360:360))}t.axis=n;n.model=t}var r=i(274),s=i(7),u=i(108),f=u.niceScaleExtent,o;i(277);o={dimensions:r.prototype.dimensions,create:function(n,t){var i=[];return n.eachComponent("polar",function(n,u){var f=new r(u);f.resize=h;f.update=c;var o=f.getRadiusAxis(),s=f.getAngleAxis(),l=n.findAxisModel("radiusAxis"),a=n.findAxisModel("angleAxis");e(o,l);e(s,a);f.resize(n,t);i.push(f);n.coordinateSystem=f}),n.eachSeries(function(n){n.get("coordinateSystem")==="polar"&&(n.coordinateSystem=i[n.get("polarIndex")])}),i}};i(25).register("polar",o)},function(n,t,i){"use strict";var u=i(275),f=i(276),r=function(n){this.name=n||"";this.cx=0;this.cy=0;this._radiusAxis=new u;this._angleAxis=new f};r.prototype={constructor:r,type:"polar",dimensions:["radius","angle"],containPoint:function(n){var t=this.pointToCoord(n);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(n){return this._radiusAxis.containData(n[0])&&this._angleAxis.containData(n[1])},getAxis:function(n){return this["_"+n+"Axis"]},getAxesByScale:function(n){var t=[],i=this._angleAxis,r=this._radiusAxis;return i.scale.type===n&&t.push(i),r.scale.type===n&&t.push(r),t},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(n){var t=this._angleAxis;return n===t?this._radiusAxis:t},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},dataToPoints:function(n){return n.mapArray(this.dimensions,function(n,t){return this.dataToPoint([n,t])},this)},dataToPoint:function(n,t){return this.coordToPoint([this._radiusAxis.dataToRadius(n[0],t),this._angleAxis.dataToAngle(n[1],t)])},pointToData:function(n,t){var i=this.pointToCoord(n);return[this._radiusAxis.radiusToData(i[0],t),this._angleAxis.angleToData(i[1],t)]},pointToCoord:function(n){var i=n[0]-this.cx,r=n[1]-this.cy,s=this.getAngleAxis(),u=s.getExtent(),f=Math.min(u[0],u[1]),o=Math.max(u[0],u[1]),e,t,h;for(s.inverse?f=o-360:o=f+360,e=Math.sqrt(i*i+r*r),i/=e,r/=e,t=Math.atan2(-r,i)/Math.PI*180,h=t<f?1:-1;t<f||t>o;)t+=h*360;return[e,t]},coordToPoint:function(n){var t=n[0],i=n[1]/180*Math.PI,r=Math.cos(i)*t+this.cx,u=-Math.sin(i)*t+this.cy;return[r,u]}};n.exports=r},function(n,t,i){"use strict";function u(n,t){r.call(this,"radius",n,t);this.type="category"}var f=i(3),r=i(117);u.prototype={constructor:u,dataToRadius:r.prototype.dataToCoord,radiusToData:r.prototype.coordToData};f.inherits(u,r);n.exports=u},function(n,t,i){"use strict";function u(n,t){t=t||[0,360];r.call(this,"angle",n,t);this.type="category"}var f=i(3),r=i(117);u.prototype={constructor:u,dataToAngle:r.prototype.dataToCoord,angleToData:r.prototype.coordToData};f.inherits(u,r);n.exports=u},function(n,t,i){"use strict";i(278);i(1).extendComponentModel({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(n){var t,i=this.ecModel;return i.eachComponent(n,function(n){i.getComponent("polar",n.getShallow("polarIndex"))===this&&(t=n)},this),t},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}})},function(n,t,i){"use strict";function e(n,t){return t.type||(t.data?"category":"value")}var o=i(3),s=i(19),f=i(121),r=s.extend({type:"polarAxis",axis:null}),u;o.merge(r.prototype,i(123));u={angle:{polarIndex:0,startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}},radius:{polarIndex:0,splitNumber:5}};f("angle",r,e,u.angle);f("radius",r,e,u.radius)},function(n,t,i){"use strict";i(273);i(280)},function(n,t,i){"use strict";function f(n,t,i,r){var u=n.coordToPoint([t,r]),f=n.coordToPoint([i,r]);return{x1:u[0],y1:u[1],x2:f[0],y2:f[1]}}var u=i(3),r=i(42),e=i(8),o=["axisLine","axisLabel","axisTick","splitLine","splitArea"];i(1).extendComponentView({type:"angleAxis",render:function(n,t){if(this.group.removeAll(),n.get("show")){var e=t.getComponent("polar",n.get("polarIndex")),i=n.axis,r=e.coordinateSystem,s=r.getRadiusAxis().getExtent(),f=i.getTicksCoords();i.type!=="category"&&f.pop();u.each(o,function(t){n.get(t+".show")&&this["_"+t](n,r,f,s)},this)}},_axisLine:function(n,t,i,u){var e=n.getModel("axisLine.lineStyle"),f=new r.Circle({shape:{cx:t.cx,cy:t.cy,r:u[1]},style:e.getLineStyle(),z2:1,silent:!0});f.style.fill=null;this.group.add(f)},_axisTick:function(n,t,i,e){var o=n.getModel("axisTick"),s=(o.get("inside")?-1:1)*o.get("length"),h=u.map(i,function(n){return new r.Line({shape:f(t,e[1],e[1]+s,n)})});this.group.add(r.mergePath(h,{style:o.getModel("lineStyle").getLineStyle()}))},_axisLabel:function(n,t,i,u){for(var p=n.axis,s=n.get("data"),l=n.getModel("axisLabel"),a=l.getModel("textStyle"),w=n.getFormattedLabels(),b=l.get("margin"),k=p.getLabelsCoords(),f=0;f<i.length;f++){var h=u[1],o=t.coordToPoint([h+b,k[f]]),v=t.cx,y=t.cy,d=Math.abs(o[0]-v)/h<.3?"center":o[0]>v?"left":"right",g=Math.abs(o[1]-y)/h<.3?"middle":o[1]>y?"top":"bottom",c=a;s&&s[f]&&s[f].textStyle&&(c=new e(s[f].textStyle,a));this.group.add(new r.Text({style:{x:o[0],y:o[1],fill:c.getTextColor(),text:w[f],textAlign:d,textVerticalAlign:g,textFont:c.getFont()},silent:!0}))}},_splitLine:function(n,t,i,e){var a=n.getModel("splitLine"),l=a.getModel("lineStyle"),s=l.get("color"),v=0,h,c,o;for(s=s instanceof Array?s:[s],h=[],o=0;o<i.length;o++)c=v++%s.length,h[c]=h[c]||[],h[c].push(new r.Line({shape:f(t,e[0],e[1],i[o])}));for(o=0;o<h.length;o++)this.group.add(r.mergePath(h[o],{style:u.defaults({stroke:s[o%s.length]},l.getLineStyle()),silent:!0,z:n.get("z")}))},_splitArea:function(n,t,i,f){var v=n.getModel("splitArea"),l=v.getModel("areaStyle"),o=l.get("color"),y=0,h,e;o=o instanceof Array?o:[o];var s=[],c=Math.PI/180,a=-i[0]*c,p=Math.min(f[0],f[1]),w=Math.max(f[0],f[1]),b=n.get("clockwise");for(e=1;e<i.length;e++)h=y++%o.length,s[h]=s[h]||[],s[h].push(new r.Sector({shape:{cx:t.cx,cy:t.cy,r0:p,r:w,startAngle:a,endAngle:-i[e]*c,clockwise:b},silent:!0})),a=-i[e]*c;for(e=0;e<s.length;e++)this.group.add(r.mergePath(s[e],{style:u.defaults({fill:o[e%o.length]},l.getAreaStyle()),silent:!0}))}})},function(n,t,i){i(273);i(282)},function(n,t,i){"use strict";function s(n,t,i){return{position:[n.cx,n.cy],rotation:i/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotation:t.getModel("axisLabel").get("rotate"),z2:1}}var r=i(3),u=i(42),f=i(126),e=["axisLine","axisLabel","axisTick","axisName"],o=["splitLine","splitArea"];i(1).extendComponentView({type:"radiusAxis",render:function(n,t){if(this.group.removeAll(),n.get("show")){var u=t.getComponent("polar",n.get("polarIndex")),a=u.coordinateSystem.getAngleAxis(),h=n.axis,c=u.coordinateSystem,v=h.getTicksCoords(),l=a.getExtent()[0],y=h.getExtent(),p=s(c,n,l),i=new f(n,p);r.each(e,i.add,i);this.group.add(i.getGroup());r.each(o,function(t){n.get(t+".show")&&this["_"+t](n,c,l,y,v)},this)}},_splitLine:function(n,t,i,f,e){var a=n.getModel("splitLine"),l=a.getModel("lineStyle"),s=l.get("color"),v=0,h,c,o;for(s=s instanceof Array?s:[s],h=[],o=0;o<e.length;o++)c=v++%s.length,h[c]=h[c]||[],h[c].push(new u.Circle({shape:{cx:t.cx,cy:t.cy,r:e[o]},silent:!0}));for(o=0;o<h.length;o++)this.group.add(u.mergePath(h[o],{style:r.defaults({stroke:s[o%s.length],fill:null},l.getLineStyle()),silent:!0}))},_splitArea:function(n,t,i,f,e){var v=n.getModel("splitArea"),a=v.getModel("areaStyle"),s=a.get("color"),y=0,h,l,c,o;for(s=s instanceof Array?s:[s],h=[],l=e[0],o=1;o<e.length;o++)c=y++%s.length,h[c]=h[c]||[],h[c].push(new u.Sector({shape:{cx:t.cx,cy:t.cy,r0:l,r:e[o],startAngle:0,endAngle:Math.PI*2},silent:!0})),l=e[o];for(o=0;o<h.length;o++)this.group.add(u.mergePath(h[o],{style:r.defaults({fill:s[o%s.length]},a.getAreaStyle()),silent:!0}))}})},function(n,t,i){i(163);i(284);i(161)},function(n,t,i){"use strict";var r=i(158);n.exports=i(1).extendComponentView({type:"geo",init:function(n,t){var i=new r(t,!0);this._mapDraw=i;this.group.add(i.group)},render:function(n,t,i){n.get("show")&&this._mapDraw.draw(n,t,i)}})},function(n,t,i){"use strict";var u=i(1),r=i(42),f=i(21);u.extendComponentModel({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}});u.extendComponentView({type:"title",render:function(n,t,i){var e,a,o,s,p,w;if(this.group.removeAll(),n.get("show")){var h=this.group,b=n.getModel("textStyle"),k=n.getModel("subtextStyle"),u=n.get("textAlign"),c=new r.Text({style:{text:n.get("text"),textFont:b.getFont(),fill:b.getTextColor(),textBaseline:"top"},z2:10}),g=c.getBoundingRect(),d=n.get("subtext"),l=new r.Text({style:{text:d,textFont:k.getFont(),fill:k.getTextColor(),y:g.height+n.get("itemGap"),textBaseline:"top"},z2:10}),v=n.get("link"),y=n.get("sublink");if(c.silent=!v,l.silent=!y,v)c.on("click",function(){window.open(v,"_"+n.get("target"))});if(y)l.on("click",function(){window.open(y,"_"+n.get("subtarget"))});h.add(c);d&&h.add(l);e=h.getBoundingRect();a=n.getBoxLayoutParams();a.width=e.width;a.height=e.height;o=f.getLayoutRect(a,{width:i.getWidth(),height:i.getHeight()},n.get("padding"));u||(u=n.get("left")||n.get("right"),u==="middle"&&(u="center"),u==="right"?o.x+=o.width:u==="center"&&(o.x+=o.width/2));h.position=[o.x,o.y];c.setStyle("textAlign",u);l.setStyle("textAlign",u);e=h.getBoundingRect();s=o.margin;p=n.getItemStyle(["color","opacity"]);p.fill=n.get("backgroundColor");w=new r.Rect({shape:{x:e.x-s[3],y:e.y-s[0],width:e.width+s[1]+s[3],height:e.height+s[0]+s[2]},style:p,silent:!0});r.subPixelOptimizeRect(w);h.add(w)}}})},function(n,t,i){i(287);i(288);i(290);i(291);i(292);i(295);i(296);i(298);i(299)},function(n,t,i){i(19).registerSubTypeDefaulter("dataZoom",function(){return"slider"})},function(n,t,i){function o(n){var t={};return f(["start","end","startValue","endValue"],function(i){t[i]=n[i]}),t}function s(n,t,i,r){i[t]!=null&&i[n]==null&&(r[n]=null)}var u=i(3),h=i(78),c=i(1),e=i(5),l=i(289),f=u.each,r=e.eachAxisDim,a=c.extendComponentModel({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,angleAxisIndex:null,radiusAxisIndex:null,filterMode:"filter",throttle:100,start:0,end:100,startValue:null,endValue:null},init:function(n,t,i){this._dataIntervalByAxis={};this._dataInfo={};this._axisProxies={};this.textStyleModel;var r=o(n);this.mergeDefaultAndTheme(n,i);this.doInit(r)},mergeOption:function(n){var t=o(n);u.merge(this.option,n,!0);this.doInit(t)},doInit:function(n){var t=this.option;h.canvasSupported||(t.realtime=!1);s("start","startValue",n,t);s("end","endValue",n,t);this.textStyleModel=this.getModel("textStyle");this._resetTarget();this._giveAxisProxies()},_giveAxisProxies:function(){var n=this._axisProxies;this.eachTargetAxis(function(t,i,r,u){var f=this.dependentModels[t.axis][i],e=f.__dzAxisProxy||(f.__dzAxisProxy=new l(t.name,i,this,u));n[t.name+"_"+i]=e},this)},_resetTarget:function(){var n=this.option,t=this._judgeAutoMode();r(function(t){var i=t.axisIndex;n[i]=e.normalizeToArray(n[i])},this);t==="axisIndex"?this._autoSetAxisIndex():t==="orient"&&this._autoSetOrient()},_judgeAutoMode:function(){var n=this.option,t=!1,i;return(r(function(i){n[i.axisIndex]!=null&&(t=!0)},this),i=n.orient,i==null&&t)?"orient":t?void 0:(i==null&&(n.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var n=!0,f=this.get("orient",!0),t=this.option,i;n&&(i=f==="vertical"?{dim:"y",axisIndex:"yAxisIndex",axis:"yAxis"}:{dim:"x",axisIndex:"xAxisIndex",axis:"xAxis"},this.dependentModels[i.axis].length&&(t[i.axisIndex]=[0],n=!1));n&&r(function(i){var r,f,u,e;if(n){if(r=[],f=this.dependentModels[i.axis],f.length&&!r.length)for(u=0,e=f.length;u<e;u++)f[u].get("type")==="category"&&r.push(u);t[i.axisIndex]=r;r.length&&(n=!1)}},this);n&&this.ecModel.eachSeries(function(n){this._isSeriesHasAllAxesTypeOf(n,"value")&&r(function(i){var r=t[i.axisIndex],f=n.get(i.axisIndex);u.indexOf(r,f)<0&&r.push(f)})},this)},_autoSetOrient:function(){var n;this.eachTargetAxis(function(t){n||(n=t.name)},this);this.option.orient=n==="y"?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(n,t){var i=!0;return r(function(r){var f=n.get(r.axisIndex),u=this.dependentModels[r.axis][f];u&&u.get("type")===t||(i=!1)},this),i},getFirstTargetAxisModel:function(){var n;return r(function(t){if(n==null){var i=this.get(t.axisIndex);i.length&&(n=this.dependentModels[t.axis][i[0]])}},this),n},eachTargetAxis:function(n,t){var i=this.ecModel;r(function(r){f(this.get(r.axisIndex),function(u){n.call(t,r,u,this,i)},this)},this)},getAxisProxy:function(n,t){return this._axisProxies[n+"_"+t]},setRawRange:function(n){f(["start","end","startValue","endValue"],function(t){this.option[t]=n[t]},this)},getPercentRange:function(){var n=this.findRepresentativeAxisProxy();if(n)return n.getDataPercentWindow()},getValueRange:function(n,t){if(n==null&&t==null){var i=this.findRepresentativeAxisProxy();if(i)return i.getDataValueWindow()}else return this.getAxisProxy(n,t).getDataValueWindow()},findRepresentativeAxisProxy:function(){var n=this._axisProxies;for(var t in n)if(n.hasOwnProperty(t)&&n[t].hostedBy(this))return n[t];for(t in n)if(n.hasOwnProperty(t)&&!n[t].hostedBy(this))return n[t]}});n.exports=a},function(n,t,i){function h(n,t){var i=[Infinity,-Infinity];return r(t,function(t){var u=t.getData();u&&r(t.coordDimToDataDim(n),function(n){var t=u.getDataExtent(n);t[0]<i[0]&&(i[0]=t[0]);t[1]>i[1]&&(i[1]=t[1])})},this),i}function c(n,t,i){var c=i.getAxisModel(),o=c.axis.scale,s=[0,100],h=[n.start,n.end],f=[];return t=t.slice(),l(t,c,o),r(["startValue","endValue"],function(t){f.push(n[t]!=null?o.parse(n[t]):null)}),r([0,1],function(n){function e(t){return Math[n===0?"floor":"ceil"](t*1e12)/1e12}var r=f[n],i=h[n];i!=null||r==null?(i==null&&(i=s[n]),r=o.parse(u.linearMap(i,s,t,!0))):i=u.linearMap(r,t,s,!0);f[n]=e(r);h[n]=e(i)}),{valueWindow:e(f),percentWindow:e(h)}}function l(n,t,i){return r(["min","max"],function(r,u){var f=t.get(r,!0);f!=null&&(f+"").toLowerCase()!=="data"+r&&(n[u]=i.parse(f))}),t.get("scale",!0)||(n[0]>0&&(n[0]=0),n[1]<0&&(n[1]=0)),n}function o(n,t){var e=n.getAxisModel(),r=n._percentWindow,f=n._valueWindow;if(r){var s=t||r[0]===0&&r[1]===100,i=!t&&u.getPixelPrecision(f,[0,500]),h=!t&&!(i<20&&i>=0),o=t||s||h;e.setRange&&e.setRange(o?null:+f[0].toFixed(i),o?null:+f[1].toFixed(i))}}var s=i(3),u=i(7),r=s.each,e=u.asc,f=function(n,t,i,r){this._dimName=n;this._axisIndex=t;this._valueWindow;this._percentWindow;this._dataExtent;this.ecModel=r;this._dataZoomModel=i};f.prototype={constructor:f,hostedBy:function(n){return this._dataZoomModel===n},getDataExtent:function(){return this._dataExtent.slice()},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var n=[];return this.ecModel.eachSeries(function(t){this._axisIndex===t.get(this._dimName+"AxisIndex")&&n.push(t)},this),n},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var n=this._dimName,u=this.ecModel,f=this.getAxisModel(),e=n==="x"||n==="y",i,t,r;return e?(t="gridIndex",i=n==="x"?"y":"x"):(t="polarIndex",i=n==="angle"?"radius":"angle"),u.eachComponent(i+"Axis",function(n){(n.get(t)||0)===(f.get(t)||0)&&(r=n)}),r},reset:function(n){if(n===this._dataZoomModel){var i=this._dataExtent=h(this._dimName,this.getTargetSeriesModels()),t=c(n.option,i,this);this._valueWindow=t.valueWindow;this._percentWindow=t.percentWindow;o(this)}},restore:function(n){n===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,o(this,!0))},filterData:function(n){function f(n){return n>=i[0]&&n<=i[1]}if(n===this._dataZoomModel){var e=this._dimName,o=this.getTargetSeriesModels(),t=n.get("filterMode"),i=this._valueWindow,u=this.getOtherAxisModel();n.get("$fromToolbox")&&u&&u.get("type")==="category"&&(t="empty");r(o,function(n){var i=n.getData();i&&r(n.coordDimToDataDim(e),function(r){t==="empty"?n.setData(i.map(r,function(n){return f(n)?n:NaN})):i.filterSelf(r,f)})})}}};n.exports=f},function(n,t,i){var r=i(28);n.exports=r.extend({type:"dataZoom",render:function(n,t,i){this.dataZoomModel=n;this.ecModel=t;this.api=i},getTargetInfo:function(){function u(n,t,i,r){for(var u,f=0;f<i.length;f++)if(i[f].model===n){u=i[f];break}u||i.push(u={model:n,axisModels:[],coordIndex:r});u.axisModels.push(t)}var f=this.dataZoomModel,n=this.ecModel,t=[],i=[],r=[];return f.eachTargetAxis(function(f,e){var o=n.getComponent(f.axis,e),s,h,c;o&&(r.push(o),s=o.get("gridIndex"),h=o.get("polarIndex"),s!=null?(c=n.getComponent("grid",s),u(c,o,t,s)):h!=null&&(c=n.getComponent("polar",h),u(c,o,i,h)))},this),{cartesians:t,polars:i,axisModels:r}}})},function(n,t,i){var u=i(288),f=i(21),e=i(3),r=u.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackgroundColor:"#ddd",fillerColor:"rgba(47,69,84,0.15)",handleColor:"rgba(148,164,165,0.95)",handleSize:10,labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}},mergeOption:function(){r.superApply(this,"mergeOption",arguments)}});n.exports=r},function(n,t,i){function ut(n){return n==="x"?"y":"x"}var f=i(3),r=i(42),c=i(293),k=i(290),s=r.Rect,v=i(7),e=v.linearMap,y=i(21),d=i(294),l=v.asc,u=f.bind,g=Math.round,nt=Math.max,p=f.each,w=7,tt=1,a=30,o="horizontal",b="vertical",it=5,rt=["line","bar","candlestick","scatter"],h=k.extend({type:"dataZoom.slider",init:function(n,t){this._displayables={};this._orient;this._range;this._handleEnds;this._size;this._halfHandleSize;this._location;this._dragging;this._dataShadowInfo;this.api=t},render:function(n,t,i,r){if(h.superApply(this,"render",arguments),c.createOrUpdate(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=n.get("orient"),this._halfHandleSize=g(n.get("handleSize")/2),this.dataZoomModel.get("show")===!1){this.group.removeAll();return}r&&r.type==="dataZoom"&&r.from===this.uid||this._buildView();this._updateView()},remove:function(){h.superApply(this,"remove",arguments);c.clear(this,"_dispatchZoomAction")},dispose:function(){h.superApply(this,"dispose",arguments);c.clear(this,"_dispatchZoomAction")},_buildView:function(){var n=this.group,t;n.removeAll();this._resetLocation();this._resetInterval();t=this._displayables.barGroup=new r.Group;this._renderBackground();this._renderDataShadow();this._renderHandle();n.add(t);this._positionGroup()},_resetLocation:function(){var u=this.dataZoomModel,e=this.api,n=this._findCoordRect(),i={width:e.getWidth(),height:e.getHeight()},s=this._orient===o?{right:i.width-n.x-n.width,top:i.height-a-w,width:n.width,height:a}:{right:w,top:n.y,width:a,height:n.height},r=y.getLayoutParams(u.option),t;f.each(["right","top","width","height"],function(n){r[n]==="ph"&&(r[n]=s[n])});t=y.getLayoutRect(r,i,u.padding);this._location={x:t.x,y:t.y};this._size=[t.width,t.height];this._orient===b&&this._size.reverse()},_positionGroup:function(){var t=this.group,f=this._location,i=this._orient,e=this.dataZoomModel.getFirstTargetAxisModel(),r=e&&e.get("inverse"),s=this._displayables.barGroup,n=(this._dataShadowInfo||{}).otherAxisInverse,u;s.attr(i===o&&!r?{scale:n?[1,1]:[1,-1]}:i===o&&r?{scale:n?[-1,1]:[-1,-1]}:i===b&&!r?{scale:n?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:n?[-1,-1]:[-1,1],rotation:Math.PI/2});u=t.getBoundingRect([s]);t.position[0]=f.x-u.x;t.position[1]=f.y-u.y},_getViewExtent:function(){var n=this._halfHandleSize,t=nt(this._size[0],n*4);return[n,t-n]},_renderBackground:function(){var t=this.dataZoomModel,n=this._size;this._displayables.barGroup.add(new s({silent:!0,shape:{x:0,y:0,width:n[0],height:n[1]},style:{fill:t.get("backgroundColor")}}))},_renderDataShadow:function(){var u=this._dataShadowInfo=this._prepareDataShadowInfo();if(u){var t=this._size,f=u.series,i=f.getRawData(),s=f.getShadowDim?f.getShadowDim():u.otherDim,n=i.getDataExtent(s),h=(n[1]-n[0])*.3;n=[n[0]-h,n[1]+h];var v=[0,t[1]],y=[0,t[0]],c=[[t[0],0],[0,0]],l=y[1]/(i.count()-1),o=0,a=Math.round(i.count()/t[0]);i.each([s],function(t,i){if(a>0&&i%a){o+=l;return}var r=t==null||isNaN(t)||t===""?null:e(t,n,v,!0);r!=null&&c.push([o,r]);o+=l});this._displayables.barGroup.add(new r.Polyline({shape:{points:c},style:{fill:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:0},silent:!0,z2:-20}))}},_prepareDataShadowInfo:function(){var n=this.dataZoomModel,i=n.get("showDataShadow"),t,r;if(i!==!1)return r=this.ecModel,n.eachTargetAxis(function(u,e){var o=n.getAxisProxy(u.name,e).getTargetSeriesModels();f.each(o,function(n){if(!t&&(i===!0||!(f.indexOf(rt,n.get("type"))<0))){var s=ut(u.name),o=r.getComponent(u.axis,e).axis;t={thisAxis:o,series:n,thisDim:u.name,otherDim:s,otherAxisInverse:n.coordinateSystem.getOtherAxis(o).inverse}}},this)},this),t},_renderHandle:function(){var n=this._displayables,f=n.handles=[],e=n.handleLabels=[],t=this._displayables.barGroup,i=this._size;t.add(n.filler=new s({draggable:!0,cursor:"move",drift:u(this._onDragMove,this,"all"),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1),style:{fill:this.dataZoomModel.get("fillerColor"),textPosition:"inside"}}));t.add(new s(r.subPixelOptimizeRect({silent:!0,shape:{x:0,y:0,width:i[0],height:i[1]},style:{stroke:this.dataZoomModel.get("dataBackgroundColor"),lineWidth:tt,fill:"rgba(0,0,0,0)"}})));p([0,1],function(n){t.add(f[n]=new s({style:{fill:this.dataZoomModel.get("handleColor")},cursor:"move",draggable:!0,drift:u(this._onDragMove,this,n),ondragend:u(this._onDragEnd,this),onmouseover:u(this._showDataInfo,this,!0),onmouseout:u(this._showDataInfo,this,!1)}));var i=this.dataZoomModel.textStyleModel;this.group.add(e[n]=new r.Text({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",fill:i.getTextColor(),textFont:i.getFont()}}))},this)},_resetInterval:function(){var n=this._range=this.dataZoomModel.getPercentRange(),t=this._getViewExtent();this._handleEnds=[e(n[0],[0,100],t,!0),e(n[1],[0,100],t,!0)]},_updateInterval:function(n,t){var i=this._handleEnds,r=this._getViewExtent();d(t,i,r,n==="all"||this.dataZoomModel.get("zoomLock")?"rigid":"cross",n);this._range=l([e(i[0],r,[0,100],!0),e(i[1],r,[0,100],!0)])},_updateView:function(){var t=this._displayables,i=this._handleEnds,n=l(i.slice()),u=this._size,r=this._halfHandleSize;p([0,1],function(n){var f=t.handles[n];f.setShape({x:i[n]-r,y:-1,width:r*2,height:u[1]+2,r:1})},this);t.filler.setShape({x:n[0],y:0,width:n[1]-n[0],height:this._size[1]});this._updateDataInfo()},_updateDataInfo:function(){function h(n){var t=r.getTransform(u.handles[n],this.group),i=r.transformDirection(n===0?"right":"left",t),h=this._halfHandleSize+it,l=r.applyTransform([s[n]+(n===0?-h:h),this._size[1]/2],t);c[n].setStyle({x:l[0],y:l[1],textVerticalAlign:f===o?"middle":i,textAlign:f===o?i:"center",text:e[n]})}var t=this.dataZoomModel,u=this._displayables,c=u.handleLabels,f=this._orient,e=["",""],n,i,s;t.get("showDetail")&&(t.eachTargetAxis(function(r,u){n||(n=t.getAxisProxy(r.name,u).getDataValueWindow(),i=this.ecModel.getComponent(r.axis,u).axis)},this),n&&(e=[this._formatLabel(n[0],i),this._formatLabel(n[1],i)]));s=l(this._handleEnds.slice());h.call(this,0);h.call(this,1)},_formatLabel:function(n,t){var u=this.dataZoomModel,r=u.get("labelFormatter"),i;return f.isFunction(r)?r(n):(i=u.get("labelPrecision"),(i==null||i==="auto")&&(i=t.getPixelPrecision()),n=n==null&&isNaN(n)?"":t.type==="category"||t.type==="time"?t.scale.getLabel(Math.round(n)):n.toFixed(Math.min(i,20)),f.isString(r)&&(n=r.replace("{value}",n)),n)},_showDataInfo:function(n){n=this._dragging||n;var t=this._displayables.handleLabels;t[0].attr("invisible",!n);t[1].attr("invisible",!n)},_onDragMove:function(n,t,i){this._dragging=!0;var r=this._applyBarTransform([t,i],!0);this._updateInterval(n,r[0]);this._updateView();this.dataZoomModel.get("realtime")&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1;this._showDataInfo(!1);this._dispatchZoomAction()},_dispatchZoomAction:function(){var n=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:n[0],end:n[1]})},_applyBarTransform:function(n,t){var i=this._displayables.barGroup.getLocalTransform();return r.applyTransform(n,i,t)},_findCoordRect:function(){var r=this.getTargetInfo(),n,t,i;return r.cartesians.length?n=r.cartesians[0].model.coordinateSystem.getRect():(t=this.api.getWidth(),i=this.api.getHeight(),n={x:t*.2,y:i*.2,width:t*.6,height:i*.6}),n}});n.exports=h},function(n){var t={},i='\0__throttleOriginMethod',r='\0__throttleRate';t.throttle=function(n,t,i,r){function y(f){function s(){c=(new Date).getTime();u=null;(v?n:n[f]).apply(l,a||[])}var y=function(){o=(new Date).getTime();l=this;a=arguments;e=o-(r?h:c)-t;clearTimeout(u);r?i?u=setTimeout(s,t):e>=0&&s():e>=0?s():i&&(u=setTimeout(s,-e));h=o};return y.clear=function(){u&&(clearTimeout(u),u=null)},y}var o=(new Date).getTime(),h=0,c=0,u=null,e,l,a,v=typeof n=="function",s,f;if(t=t||0,v)return y();for(s=[],f=0;f<n.length;f++)s[f]=y(f);return s};t.fixRate=function(n,i){return i!=null?t.throttle(n,i,!0,!1):n};t.debounce=function(n,i){return i!=null?t.throttle(n,i,!0,!0):n};t.createOrUpdate=function(n,u,f,e){var o=n[u],s,h;o&&f!=null&&e&&(s=o[i]||o,h=o[r],h!==f&&(o=n[u]=t[e](s,f),o[i]=s,o[r]=f))};t.clear=function(n,t){var r=n[t];r&&r[i]&&(n[t]=r[i])};n.exports=t},function(n){n.exports=function(n,t,i,r,u){function f(n,t,i){var r=t.length?t.slice():[t,t];return t[0]>t[1]&&r.reverse(),n<0&&r[0]+n<i[0]&&(n=i[0]-r[0]),n>0&&r[1]+n>i[1]&&(n=i[1]-r[1]),n}return n?(r==="rigid"?(n=f(n,t,i),t[0]+=n,t[1]+=n):(n=f(n,t[u],i),t[u]+=n,r==="push"&&t[0]>t[1]&&(t[1-u]=t[u])),t):t}},function(n,t,i){n.exports=i(288).extend({type:"dataZoom.inside",defaultOption:{zoomLock:!1}})},function(n,t,i){function c(n,t,i,r){var f,u,e;if(t=t.slice(),f=r.axisModels[0],f)return u=o(n,f,i),e=u.signal*(t[1]-t[0])*u.pixel/u.pixelLength,h(e,t,[0,100],"rigid"),t}function l(n,t,i,r,u){var e;if(i=i.slice(),e=u.axisModels[0],e){var s=o(t,e,r),h=s.pixel-s.pixelStart,f=h/s.pixelLength*(i[1]-i[0])+i[0];return n=Math.max(n,0),i[0]=(i[0]-f)*n+f,i[1]=(i[1]-f)*n+f,a(i)}}function o(n,t,i){var f=t.axis,u=i.rect,r={};return f.dim==="x"?(r.pixel=n[0],r.pixelLength=u.width,r.pixelStart=u.x,r.signal=f.inverse?1:-1):(r.pixel=n[1],r.pixelLength=u.height,r.pixelStart=u.y,r.signal=f.inverse?-1:1),r}function a(n){var t=[0,100];return n[0]<=t[1]||(n[0]=t[1]),n[1]<=t[1]||(n[1]=t[1]),n[0]>=t[0]||(n[0]=t[0]),n[1]>=t[0]||(n[1]=t[0]),n}var s=i(290),f=i(3),h=i(294),r=i(297),e=f.bind,u=s.extend({type:"dataZoom.inside",init:function(){this._range},render:function(n,t,i,o){u.superApply(this,"render",arguments);r.shouldRecordRange(o,n.id)&&(this._range=n.getPercentRange());var s=this.getTargetInfo().cartesians,h=f.map(s,function(n){return r.generateCoordId(n.model)});f.each(s,function(t){var u=t.model;r.register(i,{coordId:r.generateCoordId(u),allCoordIds:h,coordinateSystem:u.coordinateSystem,dataZoomId:n.id,throttleRage:n.get("throttle",!0),panGetRange:e(this._onPan,this,t),zoomGetRange:e(this._onZoom,this,t)})},this)},remove:function(){r.unregister(this.api,this.dataZoomModel.id);u.superApply(this,"remove",arguments);this._range=null},dispose:function(){r.unregister(this.api,this.dataZoomModel.id);u.superApply(this,"dispose",arguments);this._range=null},_onPan:function(n,t,i,r){return this._range=c([i,r],this._range,t,n)},_onZoom:function(n,t,i,r,u){var f=this.dataZoomModel;return f.option.zoomLock?this._range:this._range=l(1/i,[r,u],this._range,t,n,f)}});n.exports=u},function(n,t,i){function e(n){var t=n.getZr();return t[f]||(t[f]={})}function a(n,t,i){var r=new h(n.getZr());r.enable();r.on("pan",u(v,i));r.on("zoom",u(y,i));return r}function o(n){r.each(n,function(t,i){t.count||(t.controller.off("pan").off("zoom"),delete n[i])})}function v(n,t,i){s(n,function(r){return r.panGetRange(n.controller,t,i)})}function y(n,t,i,r){s(n,function(u){return u.zoomGetRange(n.controller,t,i,r)})}function s(n,t){var i=[];r.each(n.dataZoomInfos,function(n){var r=t(n);r&&i.push({dataZoomId:n.dataZoomId,start:r[0],end:r[1]})});n.dispatchAction(i)}function p(n,t){n.dispatchAction({type:"dataZoom",batch:t})}var r=i(3),h=i(159),c=i(293),u=r.curry,f='\0_ec_dataZoom_roams',l={register:function(n,t){var u=e(n),f=t.dataZoomId,s=t.coordId,i;r.each(u,function(n){var i=n.dataZoomInfos;i[f]&&r.indexOf(t.allCoordIds,s)<0&&(delete i[f],n.count--)});o(u);i=u[s];i||(i=u[s]={coordId:s,dataZoomInfos:{},count:0},i.controller=a(n,t,i),i.dispatchAction=r.curry(p,n));i.controller.rect=t.coordinateSystem.getRect().clone();c.createOrUpdate(i,"dispatchAction",t.throttleRate,"fixRate");i.dataZoomInfos[f]||i.count++;i.dataZoomInfos[f]=t},unregister:function(n,t){var i=e(n);r.each(i,function(n){var i=n.dataZoomInfos;i[t]&&(delete i[t],n.count--)});o(i)},shouldRecordRange:function(n,t){if(n&&n.type==="dataZoom"&&n.batch)for(var i=0,r=n.batch.length;i<r;i++)if(n.batch[i].dataZoomId===t)return!1;return!0},generateCoordId:function(n){return n.type+'\0_'+n.id}};n.exports=l},function(n,t,i){function u(n,t,i){i.getAxisProxy(n.name,t).reset(i)}function f(n,t,i){i.getAxisProxy(n.name,t).filterData(i)}var r=i(1);r.registerProcessor("filter",function(n){n.eachComponent("dataZoom",function(n){n.eachTargetAxis(u);n.eachTargetAxis(f)});n.eachComponent("dataZoom",function(n){var t=n.findRepresentativeAxisProxy(),i=t.getDataPercentWindow(),r=t.getDataValueWindow();n.setRawRange({start:i[0],end:i[1],startValue:r[0],endValue:r[1]})})})},function(n,t,i){var r=i(3),u=i(5),f=i(1);f.registerAction("dataZoom",function(n,t){var f=u.createLinkedNodesFinder(r.bind(t.eachComponent,t,"dataZoom"),u.eachAxisDim,function(n,t){return n.get(t.axisIndex)}),i=[];t.eachComponent({mainType:"dataZoom",query:n},function(n){i.push.apply(i,f(n).nodes)});r.each(i,function(t){t.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})},function(n,t,i){i(301);i(312)},function(n,t,i){i(1).registerPreprocessor(i(302));i(303);i(304);i(305);i(308);i(311)},function(n,t,i){function r(n,t){return n&&n.hasOwnProperty&&n.hasOwnProperty(t)}var u=i(3),f=u.each;n.exports=function(n){var t=n&&n.visualMap;u.isArray(t)||(t=t?[t]:[]);f(t,function(n){if(n){r(n,"splitList")&&!r(n,"pieces")&&(n.pieces=n.splitList,delete n.splitList);var t=n.pieces;t&&u.isArray(t)&&f(t,function(n){u.isObject(n)&&(r(n,"start")&&!r(n,"min")&&(n.min=n.start),r(n,"end")&&!r(n,"max")&&(n.max=n.end))})}})}},function(n,t,i){i(19).registerSubTypeDefaulter("visualMap",function(n){return!n.categories&&(!(n.pieces?n.pieces.length>0:n.splitNumber>0)||n.calculable)?"continuous":"piecewise"})},function(n,t,i){function e(n){var t=n.targetVisuals,i={};f.each(["inRange","outOfRange"],function(n){var r=u.prepareVisualTypes(t[n]);i[n]=r});n.eachTargetSeries(function(r){function o(n){return u.getItemVisual(f,n)}function s(n,t){u.setItemVisual(f,n,t)}var u=r.getData(),e=n.getDataDimension(u),f;u.each([e],function(r,u){var e,v,h;f=u;var c=n.getValueState(r),l=t[c],a=i[c];for(e=0,v=a.length;e<v;e++)h=a[e],l[h]&&l[h].applyVisual(r,o,s)})})}var r=i(1),u=i(187),f=i(3);r.registerVisualCoding("component",function(n){n.eachComponent("visualMap",function(t){e(t,n)})})},function(n,t,i){var r=i(306),e=i(3),o=i(7),u=[20,140],f=r.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:[-Infinity,Infinity],hoverLink:!0,realtime:!0,itemWidth:null,itemHeight:null},doMergeOption:function(n,t){f.superApply(this,"doMergeOption",arguments);this.resetTargetSeries(n,t);this.resetExtent();this.resetVisual(function(n){n.mappingMethod="linear"});this._resetRange()},resetItemSize:function(){r.prototype.resetItemSize.apply(this,arguments);var n=this.itemSize;this._orient==="horizontal"&&n.reverse();(n[0]==null||isNaN(n[0]))&&(n[0]=u[0]);(n[1]==null||isNaN(n[1]))&&(n[1]=u[1])},_resetRange:function(){var t=this.getExtent(),n=this.option.range;n[0]>n[1]&&n.reverse();n[0]=Math.max(n[0],t[0]);n[1]=Math.min(n[1],t[1])},completeVisualOption:function(){r.prototype.completeVisualOption.apply(this,arguments);e.each(this.stateList,function(n){var t=this.option.controller[n].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(n){this.option.range=n.slice();this._resetRange()},getSelected:function(){var t=this.getExtent(),n=o.asc((this.get("range")||[]).slice());return n[0]>t[1]&&(n[0]=t[1]),n[1]>t[1]&&(n[1]=t[1]),n[0]<t[0]&&(n[0]=t[0]),n[1]<t[0]&&(n[1]=t[0]),n},getValueState:function(n){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=n)&&(t[1]>=i[1]||n<=t[1])?"inRange":"outOfRange"}});n.exports=f},function(n,t,i){function b(n,t){r.each(["inRange","outOfRange","target","controller","color"],function(i){t.hasOwnProperty(i)?n[i]=r.clone(t[i]):delete n[i]})}var r=i(3),c=i(78),l=i(1),a=i(5),e=i(307),u=i(187),o=u.mapVisual,v=u.eachVisual,s=i(7),y=r.isArray,f=r.each,p=s.asc,w=s.linearMap,h=l.extendComponentModel({type:"visualMap",dependencies:["series"],dataBound:[-Infinity,Infinity],stateList:["inRange","outOfRange"],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",seriesIndex:null,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:["#bf444c","#d88273","#f6efa6"],formatter:null,text:null,textStyle:{color:"#333"}},init:function(n,t,i){this._dataExtent;this.controllerVisuals={};this.targetVisuals={};this.textStyleModel;this.itemSize;this.mergeDefaultAndTheme(n,i);this.doMergeOption({},!0)},mergeOption:function(n){h.superApply(this,"mergeOption",arguments);this.doMergeOption(n,!1)},doMergeOption:function(n,t){var i=this.option;t||b(i,n);c.canvasSupported||(i.realtime=!1);this.textStyleModel=this.getModel("textStyle");this.resetItemSize();this.completeVisualOption()},formatValueText:function(n,t){function o(n){return n===e[0]?"min":n===e[1]?"max":(+n).toFixed(h)}var s=this.option,h=s.precision,e=this.dataBound,f=s.formatter,u,i;return(r.isArray(n)&&(n=n.slice(),u=!0),i=t?n:u?[o(n[0]),o(n[1])]:o(n),r.isString(f))?f.replace("{value}",u?i[0]:i).replace("{value2}",u?i[1]:i):r.isFunction(f)?u?f(n[0],n[1]):f(n):u?n[0]===e[0]?"< "+i[1]:n[1]===e[1]?"> "+i[0]:i[0]+" - "+i[1]:i},resetTargetSeries:function(){var n=this.option,t=n.seriesIndex==null;n.seriesIndex=t?[]:a.normalizeToArray(n.seriesIndex);t&&this.ecModel.eachSeries(function(t,i){var r=t.getData();r.type==="list"&&n.seriesIndex.push(i)})},resetExtent:function(){var n=this.option,t=p([n.min,n.max]);this._dataExtent=t},getDataDimension:function(n){var t=this.option.dimension;return t!=null?t:n.dimensions.length-1},getExtent:function(){return this._dataExtent.slice()},resetVisual:function(n){function t(t,o){f(this.stateList,function(s){var h=o[s]||(o[s]=e()),c=this.option[t][s]||{};f(c,function(f,e){if(u.isValidType(e)){var o={type:e,dataExtent:i,visual:f};n&&n.call(this,o,s);h[e]=new u(o);t==="controller"&&e==="opacity"&&(o=r.clone(o),o.type="colorAlpha",h.__hidden.__alphaForOpacity=new u(o))}},this)},this)}function e(){var n=function(){};return n.prototype.__hidden=n.prototype,new n}var i=this.getExtent();t.call(this,"controller",this.controllerVisuals);t.call(this,"target",this.targetVisuals)},completeVisualOption:function(){function c(i){y(n.color)&&!i.inRange&&(i.inRange={color:n.color.slice().reverse()});f(this.stateList,function(n){var u=i[n],f;r.isString(u)&&(f=e.get(u,"active",t),f?(i[n]={},i[n][u]=f):delete i[n])},this)}function l(n,i,r){var s=n[i],o=n[r];s&&!o&&(o=n[r]={},f(s,function(n,i){var r=e.get(i,"inactive",t);u.isValidType(i)&&r&&(o[i]=r)}))}function a(n){var i=(n.inRange||{}).symbol||(n.outOfRange||{}).symbol,u=(n.inRange||{}).symbolSize||(n.outOfRange||{}).symbolSize,e=this.get("inactiveColor");f(this.stateList,function(f){var h=this.itemSize,s=n[f],c,l;s||(s=n[f]={color:t?e:[e]});s.symbol||(s.symbol=i&&r.clone(i)||(t?"roundRect":["roundRect"]));s.symbolSize||(s.symbolSize=u&&r.clone(u)||(t?h[0]:[h[0],h[0]]));s.symbol=o(s.symbol,function(n){return n==="none"||n==="square"?"roundRect":n});c=s.symbolSize;c&&(l=-Infinity,v(c,function(n){n>l&&(l=n)}),s.symbolSize=o(c,function(n){return w(n,[0,l],[0,h[0]],!0)}))},this)}var n=this.option,h={inRange:n.inRange,outOfRange:n.outOfRange},i=n.target||(n.target={}),s=n.controller||(n.controller={}),t;r.merge(i,h);r.merge(s,h);t=this.isCategory();c.call(this,i);c.call(this,s);l.call(this,i,"inRange","outOfRange");l.call(this,i,"outOfRange","inRange");a.call(this,s)},eachTargetSeries:function(n,t){r.each(this.option.seriesIndex,function(i){n.call(t,this.ecModel.getSeriesByIndex(i))},this)},isCategory:function(){return!!this.option.categories},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},setSelected:r.noop,getValueState:r.noop});n.exports=h},function(n,t,i){var r=i(3),u={get:function(n,t,i){var u=r.clone((f[n]||{})[t]);return i?r.isArray(u)?u[u.length-1]:u:u}},f={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};n.exports=u},function(n,t,i){function e(n,t,i){return new r.Polygon({shape:{points:n},draggable:!!t,cursor:i,drift:t})}function y(n,t){return n===0?[[0,0],[t,0],[t,-t]]:[[0,0],[t,0],[t,t]]}var o=i(309),r=i(42),u=i(3),h=i(7),c=i(294),f=h.linearMap,l=i(75),a=i(310),s=u.each,v=o.extend({type:"visualMap.continuous",init:function(){o.prototype.init.apply(this,arguments);this._shapes={};this._dataInterval=[];this._handleEnds=[];this._orient;this._useHandle},doRender:function(n,t,i,r){r&&r.type==="selectDataRange"&&r.from===this.uid?this._updateView():this._buildView()},_buildView:function(){var t,n,i;this.group.removeAll();t=this.visualMapModel;n=this.group;this._orient=t.get("orient");this._useHandle=t.get("calculable");this._resetInterval();this._renderBar(n);i=t.get("text");this._renderEndsText(n,i,0);this._renderEndsText(n,i,1);this._updateView(!0);this.renderBackground(n);this._updateView();this.positionGroup(n)},_renderEndsText:function(n,t,i){var u;if(t){u=t[1-i];u=u!=null?u+"":"";var f=this.visualMapModel,e=f.get("textGap"),o=f.itemSize,s=this._shapes.barGroup,h=this._applyTransform([o[0]/2,i===0?-e:o[1]+e],s),c=this._applyTransform(i===0?"bottom":"top",s),l=this._orient,a=this.visualMapModel.textStyleModel;this.group.add(new r.Text({style:{x:h[0],y:h[1],textVerticalAlign:l==="horizontal"?"middle":c,textAlign:l==="horizontal"?c:"center",text:u,textFont:a.getFont(),fill:a.getTextColor()}}))}},_renderBar:function(n){var r=this.visualMapModel,t=this._shapes,f=r.itemSize,c=this._orient,l=this._useHandle,o=a.getItemAlign(r,this.api,f),i=t.barGroup=this._createBarGroup(o),s,h;i.add(t.outOfRange=e());i.add(t.inRange=e(null,u.bind(this._modifyHandle,this,"all"),l?"move":null));s=r.textStyleModel.getTextRect("国");h=Math.max(s.width,s.height);l&&(t.handleGroups=[],t.handleThumbs=[],t.handleLabels=[],t.handleLabelPoints=[],this._createHandle(i,0,f,h,c,o),this._createHandle(i,1,f,h,c,o));n.add(i)},_createHandle:function(n,t,i,f,o){var h=new r.Group({position:[i[0],0]}),c=e(y(t,f),u.bind(this._modifyHandle,this,t),"move"),s;h.add(c);var v={x:o==="horizontal"?f/2:f*1.5,y:o==="horizontal"?t===0?-(f*1.5):f*1.5:t===0?-f/2:f/2},l=this.visualMapModel.textStyleModel,a=new r.Text({silent:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textFont:l.getFont(),fill:l.getTextColor()}});this.group.add(a);s=this._shapes;s.handleThumbs[t]=c;s.handleGroups[t]=h;s.handleLabelPoints[t]=v;s.handleLabels[t]=a;n.add(h)},_modifyHandle:function(n,t,i){if(this._useHandle){var r=this._applyTransform([t,i],this._shapes.barGroup,!0);this._updateInterval(n,r[1]);this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()})}},_resetInterval:function(){var n=this.visualMapModel,t=this._dataInterval=n.getSelected(),i=n.getExtent(),r=[0,n.itemSize[1]];this._handleEnds=[f(t[0],i,r,!0),f(t[1],i,r,!0)]},_updateInterval:function(n,t){var i,r,u,e;t=t||0;i=this.visualMapModel;r=this._handleEnds;c(t,r,[0,i.itemSize[1]],n==="all"?"rigid":"push",n);u=i.getExtent();e=[0,i.itemSize[1]];this._dataInterval=[f(r[0],e,u,!0),f(r[1],e,u,!0)]},_updateView:function(n){var r=this.visualMapModel,u=r.getExtent(),t=this._shapes,e=this._dataInterval,o=[0,r.itemSize[1]],h=n?o:this._handleEnds,i=this._createBarVisual(e,u,h,"inRange"),f=this._createBarVisual(u,u,o,"outOfRange");t.inRange.setStyle({fill:i.barColor,opacity:i.opacity}).setShape("points",i.barPoints);t.outOfRange.setStyle({fill:f.barColor,opacity:f.opacity}).setShape("points",f.barPoints);this._useHandle&&s([0,1],function(n){t.handleThumbs[n].setStyle("fill",i.handlesColor[n]);t.handleLabels[n].setStyle({text:r.formatValueText(e[n]),textAlign:this._applyTransform(this._orient==="horizontal"?n===0?"bottom":"top":"left",t.barGroup)})},this);this._updateHandlePosition(h)},_createBarVisual:function(n,t,i,r){var f={forceState:r,convertOpacityToAlpha:!0},u=this.getControllerVisual(n,"color",f),e=[this.getControllerVisual(n[0],"symbolSize",f),this.getControllerVisual(n[1],"symbolSize",f)],o=this._createBarPoints(i,e);return{barColor:new l(0,0,1,1,u),barPoints:o,handlesColor:[u[0].color,u[u.length-1].color]}},_createBarPoints:function(n,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],n[0]],[i[0],n[0]],[i[0],n[1]],[i[0]-t[1],n[1]]]},_createBarGroup:function(n){var t=this._orient,i=this.visualMapModel.get("inverse");return new r.Group(t==="horizontal"&&!i?{scale:n==="bottom"?[1,1]:[-1,1],rotation:Math.PI/2}:t==="horizontal"&&i?{scale:n==="bottom"?[-1,1]:[1,1],rotation:-Math.PI/2}:t==="vertical"&&!i?{scale:n==="left"?[1,-1]:[-1,-1]}:{scale:n==="left"?[1,1]:[-1,1]})},_updateHandlePosition:function(n){if(this._useHandle){var t=this._shapes;s([0,1],function(i){var e=t.handleGroups[i],u,f;e.position[1]=n[i];u=t.handleLabelPoints[i];f=r.applyTransform([u.x,u.y],r.getTransform(e,this.group));t.handleLabels[i].setStyle({x:f[0],y:f[1]})},this)}},_applyTransform:function(n,t,i){var f=r.getTransform(t,this.group);return r[u.isArray(n)?"applyTransform":"transformDirection"](n,f,i)}});n.exports=v},function(n,t,i){var f=i(1),r=i(3),e=i(42),o=i(6),s=i(21),u=i(187);n.exports=f.extendComponentView({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(n,t){this.ecModel=n;this.api=t;this.visualMapModel;this._updatableShapes={}},render:function(n){if(this.visualMapModel=n,n.get("show")===!1){this.group.removeAll();return}this.doRender.apply(this,arguments)},renderBackground:function(n){var i=this.visualMapModel,t=o.normalizeCssArray(i.get("padding")||0),r=n.getBoundingRect();n.add(new e.Rect({z2:-1,silent:!0,shape:{x:r.x-t[3],y:r.y-t[0],width:r.width+t[3]+t[1],height:r.height+t[0]+t[2]},style:{fill:i.get("backgroundColor"),stroke:i.get("borderColor"),lineWidth:i.get("borderWidth")}}))},getControllerVisual:function(n,t,i){function a(n){return f[n]}function v(n,t){f[n]=t}var f,o,s,l;i=i||{};var h=i.forceState,e=this.visualMapModel,c=r.isArray(n);if(c&&(!h||t!=="color"))throw new Error(n);return f={},t==="symbol"&&(f.symbol=e.get("itemSymbol")),t==="color"&&(o=e.get("contentColor"),f.color=c?[{color:o,offset:0},{color:o,offset:1}]:o),s=e.controllerVisuals[h||e.getValueState(n)],l=u.prepareVisualTypes(s),r.each(l,function(r){var f=s[r];i.convertOpacityToAlpha&&r==="opacity"&&(r="colorAlpha",f=s.__alphaForOpacity);u.dependsOn(r,t)&&f&&f.applyVisual(n,a,v)}),f[t]},positionGroup:function(n){var i=this.visualMapModel,t=this.api;s.positionGroup(n,i.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})},doRender:r.noop})},function(n,t,i){var r=i(21),u={getItemAlign:function(n,t,i){var e=n.option,s=e.align,u,f,o;if(s!=null&&s!=="auto")return s;var a={width:t.getWidth(),height:t.getHeight()},h=e.orient==="horizontal"?1:0,v=[["left","right","width"],["top","bottom","height"]],c=v[h],y=[0,null,10],l={};for(u=0;u<3;u++)l[v[1-h][u]]=y[u],l[c[u]]=u===2?i[0]:e[c[u]];return f=[["x","width",3],["y","height",0]][h],o=r.getLayoutRect(l,a,e.padding),c[(o.margin[f[2]]||0)+o[f[0]]+o[f[1]]*.5<a[f[1]]*.5?0:1]}};n.exports=u},function(n,t,i){var r=i(1);r.registerAction({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(n,t){t.eachComponent({mainType:"visualMap",query:n},function(t){t.setSelected(n.selected)})})},function(n,t,i){i(1).registerPreprocessor(i(302));i(303);i(304);i(313);i(314);i(311)},function(n,t,i){function e(n,t){var i=n.inverse;(n.orient==="vertical"?!i:i)&&t.reverse()}var o=i(306),r=i(3),u=i(187),f=o.extend({type:"visualMap.piecewise",defaultOption:{selected:null,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10},doMergeOption:function(n,t){var i,u;f.superApply(this,"doMergeOption",arguments);this._pieceList=[];this.resetTargetSeries(n,t);this.resetExtent();i=this._mode=this._decideMode();s[this._mode].call(this);this._resetSelected(n,t);u=this.option.categories;this.resetVisual(function(n,t){i==="categories"?(n.mappingMethod="category",n.categories=r.clone(u)):(n.mappingMethod="piecewise",n.pieceList=r.map(this._pieceList,function(n){var n=r.clone(n);return t!=="inRange"&&(n.visual=null),n}))})},_resetSelected:function(n,t){var u=this.option,e=this._pieceList,i=(t?u:n).selected||{},f;u.selected=i;r.each(e,function(n){var t=this.getSelectedMapKey(n);t in i||(i[t]=!0)},this);u.selectedMode==="single"&&(f=!1,r.each(e,function(n){var t=this.getSelectedMapKey(n);i[t]&&(f?i[t]=!1:f=!0)},this))},getSelectedMapKey:function(n){return this._mode==="categories"?n.value+"":n.index+""},getPieceList:function(){return this._pieceList},_decideMode:function(){var n=this.option;return n.pieces&&n.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(n){this.option.selected=r.clone(n)},getValueState:function(n){var t=this._pieceList,i=u.findPieceIndex(n,t);return i!=null?this.option.selected[this.getSelectedMapKey(t[i])]?"inRange":"outOfRange":"outOfRange"}}),s={splitNumber:function(){var f=this.option,i=f.precision,e=this.getExtent(),t=f.splitNumber,n,r,u,o;for(t=Math.max(parseInt(t,10),1),f.splitNumber=t,n=(e[1]-e[0])/t;+n.toFixed(i)!==n&&i<5;)i++;for(f.precision=i,n=+n.toFixed(i),r=0,u=e[0];r<t;r++,u+=n)o=r===t-1?e[1]:u+n,this._pieceList.push({text:this.formatValueText([u,o]),index:r,interval:[u,o]})},categories:function(){var n=this.option;r.each(n.categories,function(n){this._pieceList.push({text:this.formatValueText(n,!0),value:n})},this);e(n,this._pieceList)},pieces:function(){var n=this.option;r.each(n.pieces,function(n,t){var i,o,f,e;r.isObject(n)||(n={value:n});i={text:"",index:t};n.label!=null&&(i.text=n.label,o=!0);n.hasOwnProperty("value")?(i.value=n.value,o||(i.text=this.formatValueText(i.value))):(f=n.min,e=n.max,f==null&&(f=-Infinity),e==null&&(e=Infinity),f===e&&(i.value=f),i.interval=[f,e],o||(i.text=this.formatValueText([f,e])));i.visual=u.retrieveVisuals(n);this._pieceList.push(i)},this);e(n,this._pieceList)}};n.exports=f},function(n,t,i){var f=i(309),r=i(3),u=i(42),e=i(100),o=i(21),s=i(310),h=f.extend({type:"visualMap.piecewise",doRender:function(){function y(i){var f=new u.Group;f.onclick=r.bind(this._onItemClick,this,i.piece);this._createItemSymbol(f,i.piece,[0,0,t[0],t[1]]);c&&f.add(new u.Text({style:{x:h==="right"?-e:t[0]+e,y:t[1]/2,text:i.piece.text,textVerticalAlign:"middle",textAlign:h,textFont:a,fill:v}}));n.add(f)}var n=this.group;n.removeAll();var i=this.visualMapModel,e=i.get("textGap"),s=i.textStyleModel,a=s.getFont(),v=s.getTextColor(),h=this._getItemAlign(),t=i.itemSize,f=this._getViewData(),c=!f.endsText,l=!c;l&&this._renderEndsText(n,f.endsText[0],t);r.each(f.pieceList,y,this);l&&this._renderEndsText(n,f.endsText[1],t);o.box(i.get("orient"),n,i.get("itemGap"));this.renderBackground(n);this.positionGroup(n)},_getItemAlign:function(){var t=this.visualMapModel,i=t.option,n;return i.orient==="vertical"?s.getItemAlign(t,this.api,t.itemSize):(n=i.align,n&&n!=="auto"||(n="left"),n)},_renderEndsText:function(n,t,i){if(t){var r=new u.Group,f=this.visualMapModel.textStyleModel;r.add(new u.Text({style:{x:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:"center",text:t,textFont:f.getFont(),fill:f.getTextColor()}}));n.add(r)}},_getViewData:function(){var n=this.visualMapModel,i=r.map(n.getPieceList(),function(n,t){return{piece:n,index:t}}),t=n.get("text"),f=n.get("orient"),u=n.get("inverse");return(f==="horizontal"?u:!u)?i.reverse():t&&(t=t.slice().reverse()),{pieceList:i,endsText:t}},_createItemSymbol:function(n,t,i){var r,u;this.visualMapModel.isCategory()?r=t.value:t.value!=null?r=t.value:(u=t.interval||[],r=(u[0]+u[1])/2);n.add(e.createSymbol(this.getControllerVisual(r,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(r,"color")))},_onItemClick:function(n){var u=this.visualMapModel,f=u.option,t=r.clone(f.selected),i=u.getSelectedMapKey(n);f.selectedMode==="single"?(t[i]=!0,r.each(t,function(n,r){t[r]=r===i})):t[i]=!t[i];this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:t})}});n.exports=h},function(n,t,i){i(316);i(317);i(1).registerPreprocessor(function(n){n.markPoint=n.markPoint||{}})},function(n,t,i){var u=i(5),r=i(1).extendComponentModel({type:"markPoint",dependencies:["series","grid","polar"],init:function(n,t,i,r){this.mergeDefaultAndTheme(n,i);this.mergeOption(n,i,r.createdBySelf,!0)},mergeOption:function(n,t,i,f){i||t.eachSeries(function(n){var i=n.get("markPoint"),e=n.markPointModel,o;if(!i||!i.data){n.markPointModel=null;return}e?e.mergeOption(i,t,!0):(f&&u.defaultEmphasis(i.label,["position","show","textStyle","distance","formatter"]),o={seriesIndex:n.seriesIndex,name:n.name,createdBySelf:!0},e=new r(i,this,t,o));n.markPointModel=e},this)},defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"inside"},emphasis:{show:!0}},itemStyle:{normal:{borderWidth:2},emphasis:{}}}});n.exports=r},function(n,t,i){function s(n,t,i){var r=t.coordinateSystem;n.each(function(u){var o=n.getItemModel(u),f,s=o.getShallow("x"),h=o.getShallow("y"),c,l;s!=null&&h!=null?f=[e.parsePercent(s,i.getWidth()),e.parsePercent(h,i.getHeight())]:t.getMarkerPosition?f=t.getMarkerPosition(n.getValues(n.dimensions,u)):r&&(c=n.get(r.dimensions[0],u),l=n.get(r.dimensions[1],u),f=r.dataToPoint([c,l]));n.setItemLayout(u,f)})}function y(n,t,i){var o,e,f;return o=n?r.map(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}):[{name:"value",type:"float"}],e=new v(o,i),f=r.map(i.get("data"),r.curry(u.dataTransform,t)),n&&(f=r.filter(f,r.curry(u.dataFilter,n))),e.initData(f,null,n?u.dimValueGetter:function(n){return n.value}),e}var c=i(98),r=i(3),f=i(6),l=i(5),e=i(7),o=f.addCommas,a=f.encodeHTML,v=i(94),u=i(318),h={getRawDataArray:function(){return this.option.data},formatTooltip:function(n){var u=this.getData(),t=this.getRawValue(n),f=r.isArray(t)?r.map(t,o).join(", "):o(t),i=u.getName(n);return this.name+"<br />"+((i?a(i)+" : ":"")+f)},getData:function(){return this._data},setData:function(n){this._data=n}};r.defaults(h,l.dataFormatMixin);i(1).extendComponentView({type:"markPoint",init:function(){this._symbolDrawMap={}},render:function(n,t,i){var r=this._symbolDrawMap;for(var u in r)r[u].__keep=!1;t.eachSeries(function(n){var t=n.markPointModel;t&&this._renderSeriesMP(n,t,i)},this);for(u in r)r[u].__keep||(r[u].remove(),this.group.remove(r[u].group))},updateLayout:function(n,t,i){t.eachSeries(function(n){var t=n.markPointModel;t&&(s(t.getData(),n,i),this._symbolDrawMap[n.name].updateLayout(t))},this)},_renderSeriesMP:function(n,t,i){var l=n.coordinateSystem,e=n.name,a=n.getData(),o=this._symbolDrawMap,f=o[e],u;f||(f=o[e]=new c);u=y(l,n,t);r.mixin(t,h);t.setData(u);s(t.getData(),n,i);u.each(function(n){var r=u.getItemModel(n),i=r.getShallow("symbolSize");typeof i=="function"&&(i=i(t.getRawValue(n),t.getDataParams(n)));u.setItemVisual(n,{symbolSize:i,color:r.get("itemStyle.normal.color")||a.getVisual("color"),symbol:r.getShallow("symbol")})});f.updateData(u);this.group.add(f.group);u.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});f.__keep=!0}})},function(n,t,i){function l(n,t,i){var r=-1;do r=Math.max(c.getPrecision(n.get(t,i)),r),n=n.stackedOn;while(n);return r}function u(n,t,i,r,u,f){var e=[],c=h(t,r,n),o=t.indexOfNearest(r,c,!0),s;return e[u]=t.get(i,o,!0),e[f]=t.get(r,o,!0),s=l(t,r,o),s>=0&&(e[f]=+e[f].toFixed(s)),e}var r=i(3),c=i(7),e=r.indexOf,f=r.curry,o={min:f(u,"min"),max:f(u,"max"),average:f(u,"average")},a=function(n,t){var f=n.getData(),u=n.coordinateSystem,i;if((isNaN(t.x)||isNaN(t.y))&&!r.isArray(t.coord)&&u)if(i=s(t,f,u,n),t=r.clone(t),t.type&&o[t.type]&&i.baseAxis&&i.valueAxis){var h=u.dimensions,l=e(h,i.baseAxis.dim),c=e(h,i.valueAxis.dim);t.coord=o[t.type](f,i.baseDataDim,i.valueDataDim,l,c);t.value=t.coord[c]}else t.coord=[t.xAxis!=null?t.xAxis:t.radiusAxis,t.yAxis!=null?t.yAxis:t.angleAxis];return t},s=function(n,t,i,r){var u={};return n.valueIndex!=null||n.valueDim!=null?(u.valueDataDim=n.valueIndex!=null?t.getDimension(n.valueIndex):n.valueDim,u.valueAxis=i.getAxis(r.dataDimToCoordDim(u.valueDataDim)),u.baseAxis=i.getOtherAxis(u.valueAxis),u.baseDataDim=r.coordDimToDataDim(u.baseAxis.dim)[0]):(u.baseAxis=r.getBaseAxis(),u.valueAxis=i.getOtherAxis(u.baseAxis),u.baseDataDim=r.coordDimToDataDim(u.baseAxis.dim)[0],u.valueDataDim=r.coordDimToDataDim(u.valueAxis.dim)[0]),u},v=function(n,t){return n&&n.containData&&t.coord&&(t.x==null||t.y==null)?n.containData(t.coord):!0},y=function(n,t,i,r){return r<2?n.coord&&n.coord[r]:n.value},h=function(n,t,i){return i==="average"?n.getSum(t,!0)/n.count():n.getDataExtent(t,!0)[i==="max"?1:0]};n.exports={dataTransform:a,dataFilter:v,dimValueGetter:y,getAxisInfo:s,numCalculate:h}},function(n,t,i){i(320);i(321);i(1).registerPreprocessor(function(n){n.markLine=n.markLine||{}})},function(n,t,i){var u=i(5),r=i(1).extendComponentModel({type:"markLine",dependencies:["series","grid","polar"],init:function(n,t,i,r){this.mergeDefaultAndTheme(n,i);this.mergeOption(n,i,r.createdBySelf,!0)},mergeOption:function(n,t,i,f){i||t.eachSeries(function(n){var i=n.get("markLine"),e=n.markLineModel,o;if(!i||!i.data){n.markLineModel=null;return}e?e.mergeOption(i,t,!0):(f&&u.defaultEmphasis(i.label,["position","show","textStyle","distance","formatter"]),o={seriesIndex:n.seriesIndex,name:n.name,createdBySelf:!0},e=new r(i,this,t,o));n.markLineModel=e},this)},defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{normal:{show:!0,position:"end"},emphasis:{show:!0}},lineStyle:{normal:{type:"dashed"},emphasis:{width:3}},animationEasing:"linear"}});n.exports=r},function(n,t,i){function p(n,t){return u.dataFilter(n,t[0])&&u.dataFilter(n,t[1])}function e(n,t,i,r,u,f,e){var h=f.coordinateSystem,l=n.getItemModel(t),c,a=l.get("x"),v=l.get("y"),o;if(a!=null&&v!=null)c=[s.parsePercent(a,e.getWidth()),s.parsePercent(v,e.getHeight())];else{if(f.getMarkerPosition)c=f.getMarkerPosition(n.getValues(n.dimensions,t));else{var y=h.dimensions,p=n.get(y[0],t),w=n.get(y[1],t);c=h.dataToPoint([p,w])}r&&h.type==="cartesian2d"&&(o=u!=null?h.getAxis(u===1?"x":"y"):h.getAxesByScale("ordinal")[0],o&&o.onBand&&(c[o.dim==="x"?0:1]=o.toGlobalCoord(o.getExtent()[i?0:1])))}n.setItemLayout(t,c)}function w(n,t,i){var o,s;o=n?r.map(n&&n.dimensions,function(n){var i=t.getData().getDimensionInfo(t.coordDimToDataDim(n)[0])||{};return i.name=n,i}):[{name:"value",type:"float"}];var h=new f(o,i),c=new f(o,i),l=new f([],i),e=r.map(i.get("data"),r.curry(y,t,n,i));return n&&(e=r.filter(e,r.curry(p,n))),s=n?u.dimValueGetter:function(n){return n.value},h.initData(r.map(e,function(n){return n[0]}),null,s),c.initData(r.map(e,function(n){return n[1]}),null,s),l.initData(r.map(e,function(n){return n[2]})),{from:h,to:c,line:l}}var r=i(3),f=i(94),o=i(6),l=i(5),s=i(7),h=o.addCommas,a=o.encodeHTML,u=i(318),v=i(194),y=function(n,t,i,f){var a=n.getData(),s=f.type,e,l;if(!r.isArray(f)&&(s==="min"||s==="max"||s==="average")){var o=u.getAxisInfo(f,a,t,n),v=o.baseAxis.dim+"Axis",y=o.valueAxis.dim+"Axis",p=o.baseAxis.scale.getExtent(),h=r.clone(f),c={};h.type=null;h[v]=p[0];c[v]=p[1];e=u.numCalculate(a,o.valueDataDim,s);e=o.valueAxis.coordToData(o.valueAxis.dataToCoord(e));l=i.get("precision");l>=0&&(e=+e.toFixed(l));h[y]=c[y]=e;f=[h,c,{type:s,valueIndex:f.valueIndex,value:e}]}return f=[u.dataTransform(n,f[0]),u.dataTransform(n,f[1]),r.extend({},f[2])],f[2].type=f[2].type||"",r.merge(f[2],f[0]),r.merge(f[2],f[1]),f},c={formatTooltip:function(n){var u=this._data,t=this.getRawValue(n),f=r.isArray(t)?r.map(t,h).join(", "):h(t),i=u.getName(n);return this.name+"<br />"+((i?a(i)+" : ":"")+f)},getRawDataArray:function(){return this.option.data},getData:function(){return this._data},setData:function(n){this._data=n}};r.defaults(c,l.dataFormatMixin);i(1).extendComponentView({type:"markLine",init:function(){this._markLineMap={}},render:function(n,t,i){var r=this._markLineMap;for(var u in r)r[u].__keep=!1;t.eachSeries(function(n){var r=n.markLineModel;r&&this._renderSeriesML(n,r,t,i)},this);for(u in r)r[u].__keep||this.group.remove(r[u].group)},updateLayout:function(n,t,i){t.eachSeries(function(n){var t=n.markLineModel;if(t){var r=t.getData(),u=t.__from,f=t.__to;u.each(function(t){var o=r.getItemModel(t),s=o.get("type"),h=o.get("valueIndex");e(u,t,!0,s,h,n,i);e(f,t,!1,s,h,n,i)});r.each(function(n){r.setItemLayout(n,[u.getItemLayout(n),f.getItemLayout(n)])});this._markLineMap[n.name].updateLayout()}},this)},_renderSeriesML:function(n,t,i,u){function k(t,i,r,f,h){var c=t.getItemModel(i);e(t,i,r,f,h,n,u);t.setItemVisual(i,{symbolSize:c.get("symbolSize")||s[r?0:1],symbol:c.get("symbol",!0)||o[r?0:1],color:c.get("itemStyle.normal.color")||g.getVisual("color")})}var d=n.coordinateSystem,p=n.name,g=n.getData(),b=this._markLineMap,h=b[p],o,s;h||(h=b[p]=new v);this.group.add(h.group);var l=w(d,n,t),a=l.from,y=l.to,f=l.line;t.__from=a;t.__to=y;r.extend(t,c);t.setData(f);o=t.get("symbol");s=t.get("symbolSize");r.isArray(o)||(o=[o,o]);typeof s=="number"&&(s=[s,s]);l.from.each(function(n){var t=f.getItemModel(n),i=t.get("type"),r=t.get("valueIndex");k(a,n,!0,i,r);k(y,n,!1,i,r)});f.each(function(n){var t=f.getItemModel(n).get("lineStyle.normal.color");f.setItemVisual(n,{color:t||a.getItemVisual(n,"color")});f.setItemLayout(n,[a.getItemLayout(n),y.getItemLayout(n)])});h.updateData(f,a,y);l.line.eachItemGraphicEl(function(n){n.traverse(function(n){n.dataModel=t})});h.__keep=!0}})},function(n,t,i){var r=i(1);r.registerPreprocessor(i(323));i(324);i(325);i(326);i(328)},function(n,t,i){function e(n){var i=n.type,e={number:"value",time:"time"},t;e[i]&&(n.axisType=e[i],delete n.type);f(n);r(n,"controlPosition")&&(t=n.controlStyle||(n.controlStyle={}),r(t,"position")||(t.position=n.controlPosition),t.position!=="none"||r(t,"show")||(t.show=!1,delete t.position),delete n.controlPosition);u.each(n.data||[],function(n){u.isObject(n)&&!u.isArray(n)&&(!r(n,"value")&&r(n,"name")&&(n.value=n.name),f(n))})}function f(n){var f=n.itemStyle||(n.itemStyle={}),i=f.emphasis||(f.emphasis={}),t=n.label||n.label||{},e=t.normal||(t.normal={}),o={normal:1,emphasis:1};u.each(t,function(n,t){o[t]||r(e,t)||(e[t]=n)});i.label&&!r(t,"emphasis")&&(t.emphasis=i.label,delete i.label)}function r(n,t){return n.hasOwnProperty(t)}var u=i(3);n.exports=function(n){var t=n&&n.timeline;u.isArray(t)||(t=t?[t]:[]);u.each(t,function(n){n&&e(n)})}},function(n,t,i){i(19).registerSubTypeDefaulter("timeline",function(){return"slider"})},function(n,t,i){var r=i(1);r.registerAction({type:"timelineChange",event:"timelineChanged",update:"prepareAndUpdate"},function(n,t){var i=t.getComponent("timeline");i&&n.currentIndex!=null&&(i.setCurrentIndex(n.currentIndex),!i.get("loop",!0)&&i.isIndexMax()&&i.setPlayState(!1));t.resetOption("timeline")});r.registerAction({type:"timelinePlayChange",event:"timelinePlayChanged",update:"update"},function(n,t){var i=t.getComponent("timeline");i&&n.playState!=null&&i.setPlayState(n.playState)})},function(n,t,i){var r=i(327);n.exports=r.extend({type:"timeline.slider",defaultOption:{backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,orient:"horizontal",inverse:!1,tooltip:{trigger:"item"},symbol:"emptyCircle",symbolSize:10,lineStyle:{show:!0,width:2,color:"#304654"},label:{position:"auto",normal:{show:!0,interval:"auto",rotate:0,textStyle:{color:"#304654"}},emphasis:{show:!0,textStyle:{color:"#c23531"}}},itemStyle:{normal:{color:"#304654",borderWidth:1},emphasis:{color:"#c23531"}},checkpointStyle:{symbol:"circle",symbolSize:13,color:"#c23531",borderWidth:5,borderColor:"rgba(194,53,49, 0.5)",animation:!0,animationDuration:300,animationEasing:"quinticInOut"},controlStyle:{show:!0,showPlayBtn:!0,showPrevBtn:!0,showNextBtn:!0,itemSize:22,itemGap:12,position:"left",playIcon:"path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z",stopIcon:"path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z",nextIcon:"path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z",prevIcon:"path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z",normal:{color:"#304654",borderColor:"#304654",borderWidth:1},emphasis:{color:"#c23531",borderColor:"#c23531",borderWidth:2}},data:[]}})},function(n,t,i){var f=i(19),e=i(94),r=i(3),o=i(5),u=f.extend({type:"timeline",layoutMode:"box",defaultOption:{zlevel:0,z:4,show:!0,axisType:"time",realtime:!0,left:"20%",top:null,right:"20%",bottom:0,width:null,height:40,padding:5,controlPosition:"left",autoPlay:!1,rewind:!1,loop:!0,playInterval:2e3,currentIndex:0,itemStyle:{normal:{},emphasis:{}},label:{normal:{textStyle:{color:"#000"}},emphasis:{}},data:[]},init:function(n,t,i){this._data;this._names;this.mergeDefaultAndTheme(n,i);this._initData()},mergeOption:function(){u.superApply(this,"mergeOption",arguments);this._initData()},setCurrentIndex:function(n){n==null&&(n=this.option.currentIndex);var t=this._data.count();this.option.loop?n=(n%t+t)%t:(n>=t&&(n=t-1),n<0&&(n=0));this.option.currentIndex=n},getCurrentIndex:function(){return this.option.currentIndex},isIndexMax:function(){return this.getCurrentIndex()>=this._data.count()-1},setPlayState:function(n){this.option.autoPlay=!!n},getPlayState:function(){return!!this.option.autoPlay},_initData:function(){var i=this.option,n=i.data||[],u=i.axisType,f=this._names=[],t,s,h;u==="category"&&(t=[],r.each(n,function(n,i){var u=o.getDataItemValue(n),e;r.isObject(n)?(e=r.clone(n),e.value=i):e=i;t.push(e);!r.isString(u)&&(u==null||isNaN(u))&&(u="");f.push(u+"")}),n=t);s={category:"ordinal",time:"time"}[u]||"number";h=this._data=new e([{name:"value",type:s}],this);h.initData(n,f)},getData:function(){return this._data},getCategories:function(){if(this.get("axisType")==="category")return this._names.slice()}});n.exports=u},function(n,t,i){function nt(n,t){return a.getLayoutRect(n.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()},n.get("padding"))}function tt(n,t,i,u){return r.makePath(n.get(t).replace(/^path:\/\//,""),f.clone(u||{}),new w(i[0],i[1],i[2],i[3]),"center")}function c(n,t,i,r,u,e){var l=n.get("symbol"),s=t.get("color"),o=n.get("symbolSize"),h=o/2,c=t.getItemStyle(["color","symbol","symbolSize"]);return u?(u.setStyle(c),u.setColor(s),i.add(u),e&&e.onUpdate(u)):(u=p.createSymbol(l,-h,-h,o,o,s),i.add(u),e&&e.onCreate(u)),r=f.merge({rectHover:!0,style:c,z2:100},r,!0),u.attr(r),u}function l(n,t,i,r,u){if(!n.dragging){var f=r.getModel("checkpointStyle"),e=i.dataToCoord(r.getData().get(["value"],t));u||!f.get("animation",!0)?n.attr({position:[e,0]}):(n.stopAnimation(!0),n.animateTo({position:[e,0]},f.get("animationDuration",!0),f.get("animationEasing",!0)))}}var f=i(3),r=i(42),a=i(21),v=i(329),y=i(330),p=i(100),h=i(108),w=i(15),e=i(17),b=i(7),k=i(5),d=i(6),g=d.encodeHTML,u=f.bind,o=f.each,s=Math.PI;n.exports=v.extend({type:"timeline.slider",init:function(n,t){this.api=t;this._axis;this._viewRect;this._timer;this._currentPointer;this._mainGroup;this._labelGroup},render:function(n,t,i){if(this.model=n,this.api=i,this.ecModel=t,this.group.removeAll(),n.get("show",!0)){var r=this._layout(n,i),f=this._createGroup("mainGroup"),e=this._createGroup("labelGroup"),u=this._axis=this._createAxis(r,n);o(["AxisLine","AxisTick","Control","CurrentPointer"],function(t){this["_render"+t](r,f,u,n)},this);this._renderAxisLabel(r,e,u,n);this._position(r,n)}this._doPlayStop()},remove:function(){this._clearTimer();this.group.removeAll()},dispose:function(){this._clearTimer()},_layout:function(n,t){var i=n.get("label.normal.position"),u=n.get("orient"),f=nt(n,t);i==null||i==="auto"?i=u==="horizontal"?f.y+f.height/2<t.getHeight()/2?"-":"+":f.x+f.width/2<t.getWidth()/2?"+":"-":isNaN(i)&&(i={horizontal:{top:"-",bottom:"+"},vertical:{left:"-",right:"+"}}[u][i]);var rt={horizontal:"center",vertical:i>=0||i==="+"?"left":"right"},ut={horizontal:i>=0||i==="+"?"top":"bottom",vertical:"middle"},ft={horizontal:0,vertical:s/2},b=u==="vertical"?f.height:f.width,r=n.getModel("controlStyle"),h=r.get("show"),c=h?r.get("itemSize"):0,k=h?r.get("itemGap"):0,o=c+k,a=n.get("label.normal.rotate")||0;a=a*s/180;var v,y,p,w,d=r.get("position",!0),h=r.get("show",!0),g=h&&r.get("showPlayBtn",!0),tt=h&&r.get("showPrevBtn",!0),it=h&&r.get("showNextBtn",!0),l=0,e=b;return d==="left"||d==="bottom"?(g&&(v=[0,0],l+=o),tt&&(y=[l,0],l+=o),it&&(p=[e-c,0],e-=o)):(g&&(v=[e-c,0],e-=o),tt&&(y=[0,0],l+=o),it&&(p=[e-c,0],e-=o)),w=[l,e],n.get("inverse")&&w.reverse(),{viewRect:f,mainLength:b,orient:u,rotation:ft[u],labelRotation:a,labelPosOpt:i,labelAlign:rt[u],labelBaseline:ut[u],playPosition:v,prevBtnPosition:y,nextBtnPosition:p,axisExtent:w,controlSize:c,controlGap:k}},_position:function(n){function b(n){var t=n.position;n.origin=[r[0][0]-t[0],r[1][0]-t[1]]}function a(n){return[[n.x,n.x+n.width],[n.y,n.y+n.height]]}function v(n,t,i,r,u){n[r]+=i[r][u]-t[r][u]}var u=this._mainGroup,f=this._labelGroup,t=n.viewRect,h,c;if(n.orient==="vertical"){var i=e.create(),y=t.x,p=t.y+t.height;e.translate(i,i,[-y,-p]);e.rotate(i,i,-s/2);e.translate(i,i,[y,p]);t=t.clone();t.applyTransform(i)}var r=a(t),w=a(u.getBoundingRect()),k=a(f.getBoundingRect()),o=u.position,l=f.position;l[0]=o[0]=r[0][0];h=n.labelPosOpt;isNaN(h)?(c=h==="+"?0:1,v(o,w,r,1,c),v(l,k,r,1,1-c)):(c=h>=0?0:1,v(o,w,r,1,c),l[1]=o[1]+h);u.position=o;f.position=l;u.rotation=f.rotation=n.rotation;b(u);b(f)},_createAxis:function(n,t){var u=t.getData(),f=t.get("axisType"),i=h.createScaleByModel(t,f),e=u.getDataExtent("value"),r;return i.setExtent(e[0],e[1]),this._customizeScale(i,u),i.niceTicks(),r=new y("value",i,n.axisExtent,f),r.model=t,r},_customizeScale:function(n,t){n.getTicks=function(){return t.mapArray(["value"],function(n){return n})};n.getTicksLabels=function(){return f.map(this.getTicks(),n.getLabel,n)}},_createGroup:function(n){var t=this["_"+n]=new r.Group;return this.group.add(t),t},_renderAxisLine:function(n,t,i,u){var e=i.getExtent();u.get("lineStyle.show")&&t.add(new r.Line({shape:{x1:e[0],y1:0,x2:e[1],y2:0},style:f.extend({lineCap:"round"},u.getModel("lineStyle").getLineStyle()),silent:!0,z2:1}))},_renderAxisTick:function(n,t,i,f){var e=f.getData(),s=i.scale.getTicks(),h=this._prepareTooltipHostModel(e,f);o(s,function(n,f){var l=i.dataToCoord(n),s=e.getItemModel(f),a=s.getModel("itemStyle.normal"),v=s.getModel("itemStyle.emphasis"),y={position:[l,0],onclick:u(this._changeTimeline,this,f)},o=c(s,a,t,y);r.setHoverStyle(o,v.getItemStyle());s.get("tooltip")?(o.dataIndex=f,o.dataModel=h):o.dataIndex=o.dataModel=null},this)},_prepareTooltipHostModel:function(n,t){var i=k.createDataFormatModel({},n,t.get("data")),r=this;return i.formatTooltip=function(n){return g(r._axis.scale.getLabel(n))},i},_renderAxisLabel:function(n,t,i,f){var e=f.getModel("label.normal");if(e.get("show")){var s=f.getData(),c=i.scale.getTicks(),l=h.getFormattedLabels(i,e.get("formatter")),a=i.getLabelInterval();o(c,function(f,e){if(!i.isLabelIgnored(e,a)){var o=s.getItemModel(e),h=o.getModel("label.normal.textStyle"),v=o.getModel("label.emphasis.textStyle"),y=i.dataToCoord(f),c=new r.Text({style:{text:l[e],textAlign:n.labelAlign,textVerticalAlign:n.labelBaseline,textFont:h.getFont(),fill:h.getTextColor()},position:[y,0],rotation:n.labelRotation-n.rotation,onclick:u(this._changeTimeline,this,e),silent:!1});t.add(c);r.setHoverStyle(c,v.getItemStyle())}},this)}},_renderControl:function(n,t,i,f){function o(n,i,u,o){if(n){var h={position:n,origin:[e/2,0],rotation:o?-c:0,rectHover:!0,style:l,onclick:u},s=tt(f,i,v,h);t.add(s);r.setHoverStyle(s,a)}}var e=n.controlSize,c=n.rotation,l=f.getModel("controlStyle.normal").getItemStyle(),a=f.getModel("controlStyle.emphasis").getItemStyle(),v=[0,-e/2,e,e],s=f.getPlayState(),h=f.get("inverse",!0);o(n.nextBtnPosition,"controlStyle.nextIcon",u(this._changeTimeline,this,h?"-":"+"));o(n.prevBtnPosition,"controlStyle.prevIcon",u(this._changeTimeline,this,h?"+":"-"));o(n.playPosition,"controlStyle."+(s?"stopIcon":"playIcon"),u(this._handlePlayClick,this,!s),!0)},_renderCurrentPointer:function(n,t,i,r){var s=r.getData(),e=r.getCurrentIndex(),o=s.getItemModel(e).getModel("checkpointStyle"),f=this,h={onCreate:function(n){n.draggable=!0;n.drift=u(f._handlePointerDrag,f);n.ondragend=u(f._handlePointerDragend,f);l(n,e,i,r,!0)},onUpdate:function(n){l(n,e,i,r)}};this._currentPointer=c(o,o,this._mainGroup,{},this._currentPointer,h)},_handlePlayClick:function(n){this._clearTimer();this.api.dispatchAction({type:"timelinePlayChange",playState:n,from:this.uid})},_handlePointerDrag:function(n,t,i){this._clearTimer();this._pointerChangeTimeline([i.offsetX,i.offsetY])},_handlePointerDragend:function(n){this._pointerChangeTimeline([n.offsetX,n.offsetY],!0)},_pointerChangeTimeline:function(n,t){var i=this._toAxisCoord(n)[0],e=this._axis,r=b.asc(e.getExtent().slice()),u,f;i>r[1]&&(i=r[1]);i<r[0]&&(i=r[0]);this._currentPointer.position[0]=i;this._currentPointer.dirty();u=this._findNearestTick(i);f=this.model;(t||u!==f.getCurrentIndex()&&f.get("realtime"))&&this._changeTimeline(u)},_doPlayStop:function(){function n(){var n=this.model;this._changeTimeline(n.getCurrentIndex()+(n.get("rewind",!0)?-1:1))}this._clearTimer();this.model.getPlayState()&&(this._timer=setTimeout(u(n,this),this.model.get("playInterval")))},_toAxisCoord:function(n){var t=this._mainGroup.getLocalTransform();return r.applyTransform(n,t,!0)},_findNearestTick:function(n){var r=this.model.getData(),t=Infinity,i,u=this._axis;return r.each(["value"],function(r,f){var o=u.dataToCoord(r),e=Math.abs(o-n);e<t&&(t=e,i=f)}),i},_clearTimer:function(){this._timer&&(clearTimeout(this._timer),this._timer=null)},_changeTimeline:function(n){var t=this.model.getCurrentIndex();n==="+"?n=t+1:n==="-"&&(n=t-1);this.api.dispatchAction({type:"timelineChange",currentIndex:n,from:this.uid})}})},function(n,t,i){var r=i(28);n.exports=r.extend({type:"timeline"})},function(n,t,i){var u=i(3),f=i(117),e=i(108),r=function(n,t,i,r){f.call(this,n,t,i);this.type=r||"value";this._autoLabelInterval;this.model=null};r.prototype={constructor:r,getLabelInterval:function(){var i=this.model,t=i.getModel("label.normal"),n=t.get("interval");return n!=null&&n!="auto"?n:(n=this._autoLabelInterval,n||(n=this._autoLabelInterval=e.getAxisLabelInterval(u.map(this.scale.getTicks(),this.dataToCoord,this),e.getFormattedLabels(this,t.get("formatter")),t.getModel("textStyle").getFont(),i.get("orient")==="horizontal")),n)},isLabelIgnored:function(n){if(this.type==="category"){var t=this.getLabelInterval();return typeof t=="function"&&!t(n,this.scale.getLabel(n))||n%(t+1)}}};u.inherits(r,f);n.exports=r},function(n,t,i){i(332);i(334);i(336);i(337);i(338);i(339);i(344)},function(n,t,i){var f=i(333),r=i(3),u=i(1).extendComponentModel({type:"toolbox",layoutMode:{type:"box",ignoreSize:!0},mergeDefaultAndTheme:function(){u.superApply(this,"mergeDefaultAndTheme",arguments);r.each(this.option.feature,function(n,t){var i=f.get(t);i&&r.merge(n,i.defaultOption)})},defaultOption:{show:!0,z:6,zlevel:0,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{normal:{borderColor:"#666",color:"none"},emphasis:{borderColor:"#3E98C5"}}}});n.exports=u},function(n){"use strict";var t={};n.exports={register:function(n,i){t[n]=i},get:function(n){return t[n]}}},function(n,t,i){(function(){function h(n){return n.indexOf("my")===0}var f=i(333),t=i(3),r=i(42),e=i(8),o=i(95),u=i(266),s=i(14);n.exports=i(1).extendComponentView({type:"toolbox",render:function(n,i,c){function y(t,r){var o=v[t],l=v[r],y=p[o],s=new e(y,n,n.ecModel),u,a;if(o&&!l){if(h(o))u={model:s,onclick:s.option.onclick,featureName:o};else{if(a=f.get(o),!a)return;u=new a(s)}w[o]=u}else{if(u=w[l],!u)return;u.model=s}if(!o&&l){u.dispose&&u.dispose(i,c);return}if(!s.get("show")||u.unusable){u.remove&&u.remove(i,c);return}b(s,u,o);s.setIconStatus=function(n,t){var i=this.option,r=this.iconPaths;i.iconStatus=i.iconStatus||{};i.iconStatus[n]=t;r[n]&&r[n].trigger(t)};u.render&&u.render(s,i,c)}function b(u,f,e){var h=u.getModel("iconStyle"),o=f.getIcons?f.getIcons():u.get("icon"),s=u.get("title")||{},v,y,p;typeof o=="string"&&(v=o,y=s,o={},s={},o[e]=v,s[e]=y);p=u.iconPaths={};t.each(o,function(e,o){var b=h.getModel("normal").getItemStyle(),y=h.getModel("emphasis").getItemStyle(),w={x:-a/2,y:-a/2,width:a,height:a},v=e.indexOf("image://")===0?(w.image=e.slice(8),new r.Image({style:w})):r.makePath(e.replace("path://",""),{style:b,hoverStyle:y,rectHover:!0},w,"center");if(r.setHoverStyle(v),n.get("showTitle")){v.__title=s[o];v.on("mouseover",function(){v.setStyle({text:s[o],textPosition:y.textPosition||"bottom",textFill:y.fill||y.stroke||"#000",textAlign:y.textAlign||"center"})}).on("mouseout",function(){v.setStyle({textFill:null})})}v.trigger(u.get("iconStatus."+o)||"normal");l.add(v);v.on("click",t.bind(f.onclick,f,i,c,o));p[o]=v})}var l=this.group;if(l.removeAll(),n.get("show")){var a=+n.get("itemSize"),p=n.get("feature")||{},w=this._features||(this._features={}),v=[];t.each(p,function(n,t){v.push(t)});new o(this._featureNames||[],v).add(y).update(y).remove(t.curry(y,null)).execute();this._featureNames=v;u.layout(l,n,c);u.addBackground(l,n);l.eachChild(function(n){var u=n.__title,t=n.hoverStyle,r;if(t&&u){var i=s.getBoundingRect(u,t.font),f=n.position[0]+l.position[0],o=n.position[1]+l.position[1]+a,e=!1;o+i.height>c.getHeight()&&(t.textPosition="top",e=!0);r=e?-5-i.height:a+8;f+i.width/2>c.getWidth()?(t.textPosition=["100%",r],t.textAlign="right"):f-i.width/2<0&&(t.textPosition=[0,r],t.textAlign="left")}})}},remove:function(n,i){t.each(this._features,function(t){t.remove&&t.remove(n,i)});this.group.removeAll()},dispose:function(n,i){t.each(this._features,function(t){t.dispose&&t.dispose(n,i)})}})}).call(t,i(335))},function(n){function h(){f=!1;u.length?i=u.concat(i):e=-1;i.length&&o()}function o(){var t,n;if(!f){for(t=setTimeout(h),f=!0,n=i.length;n;){for(u=i,i=[];++e<n;)u&&u[e].run();e=-1;n=i.length}u=null;f=!1;clearTimeout(t)}}function s(n,t){this.fun=n;this.array=t}function r(){}var t=n.exports={},i=[],f=!1,u,e=-1;t.nextTick=function(n){var r=new Array(arguments.length-1),t;if(arguments.length>1)for(t=1;t<arguments.length;t++)r[t-1]=arguments[t];i.push(new s(n,r));i.length!==1||f||setTimeout(o,0)};s.prototype.run=function(){this.fun.apply(null,this.array)};t.title="browser";t.browser=!0;t.env={};t.argv=[];t.version="";t.versions={};t.on=r;t.addListener=r;t.once=r;t.off=r;t.removeListener=r;t.removeAllListeners=r;t.emit=r;t.binding=function(){throw new Error("process.binding is not supported");};t.cwd=function(){return"/"};t.chdir=function(){throw new Error("process.chdir is not supported");};t.umask=function(){return 0}},function(n,t,i){function r(n){this.model=n}var f=i(78),u;r.defaultOption={show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:"保存为图片",type:"png",name:"",excludeComponents:["toolbox"],pixelRatio:1,lang:["右键另存为图片"]};r.prototype.unusable=!f.canvasSupported;u=r.prototype;u.onclick=function(n,t){var i=this.model,s=i.get("name")||n.get("title.0.text")||"echarts",r=document.createElement("a"),f=i.get("type",!0)||"png",u,e;if(r.download=s+"."+f,r.target="_blank",u=t.getConnectedDataURL({type:f,backgroundColor:i.get("backgroundColor",!0)||n.get("backgroundColor")||"#fff",excludeComponents:i.get("excludeComponents"),pixelRatio:i.get("pixelRatio")}),r.href=u,typeof MouseEvent=="function")e=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!1}),r.dispatchEvent(e);else{var o=i.get("lang"),h='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(o&&o[0]||"")+'" /><\/body>',c=window.open();c.document.write(h)}};i(333).register("saveAsImage",r);n.exports=r},function(n,t,i){"use strict";function u(n){this.model=n}var r=i(3),f,e,o,s;u.defaultOption={show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z",tiled:"M2.3,2.2h22.8V25H2.3V2.2z M35,2.2h22.8V25H35V2.2zM2.3,35h22.8v22.8H2.3V35z M35,35h22.8v22.8H35V35z"},title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"},option:{},seriesIndex:{}};f=u.prototype;f.getIcons=function(){var n=this.model,t=n.get("icon"),i={};return r.each(n.get("type"),function(n){t[n]&&(i[n]=t[n])}),i};e={line:function(n,t,i,u){if(n==="bar")return r.merge({id:t,type:"line",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},u.get("option.line")||{},!0)},bar:function(n,t,i,u){if(n==="line")return r.merge({id:t,type:"bar",data:i.get("data"),stack:i.get("stack"),markPoint:i.get("markPoint"),markLine:i.get("markLine")},u.get("option.bar")||{},!0)},stack:function(n,t,i,u){if(n==="line"||n==="bar")return r.merge({id:t,stack:"__ec_magicType_stack__"},u.get("option.stack")||{},!0)},tiled:function(n,t,i,u){if(n==="line"||n==="bar")return r.merge({id:t,stack:""},u.get("option.tiled")||{},!0)}};o=[["line","bar"],["stack","tiled"]];f.onclick=function(n,t,i){var f=this.model,s=f.get("seriesIndex."+i),u,h;e[i]&&(u={series:[]},h=function(n){var v=n.subType,y=n.id,h=e[i](v,y,n,f),o,c,l;if(h&&(r.defaults(h,n.option),u.series.push(h)),o=n.coordinateSystem,o&&o.type==="cartesian2d"&&(i==="line"||i==="bar")&&(c=o.getAxesByScale("ordinal")[0],c)){var a=c.dim,s=n.get(a+"AxisIndex"),t=a+"Axis";for(u[t]=u[t]||[],l=0;l<=s;l++)u[t][s]=u[t][s]||{};u[t][s].boundaryGap=i==="bar"?!0:!1}},r.each(o,function(n){r.indexOf(n,i)>=0&&r.each(n,function(n){f.setIconStatus(n,"normal")})}),f.setIconStatus(i,"emphasis"),n.eachComponent({mainType:"series",query:s==null?null:{seriesIndex:s}},h),t.dispatchAction({type:"changeMagicType",currentType:i,newOption:u}))};s=i(1);s.registerAction({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(n,t){t.mergeOption(n.newOption)});i(333).register("magicType",u);n.exports=u},function(n,t,i){function c(n){var t={},i=[],r=[];return n.eachRawSeries(function(n){var f=n.coordinateSystem,u,e;f&&(f.type==="cartesian2d"||f.type==="polar")?(u=f.getBaseAxis(),u.type==="category"?(e=u.dim+"_"+u.index,t[e]||(t[e]={categoryAxis:u,valueAxis:f.getOtherAxis(u),series:[]},r.push({axisDim:u.dim,axisIndex:u.index})),t[e].series.push(n)):i.push(n)):i.push(n)}),{seriesGroupByCategoryAxis:t,other:i,meta:r}}function l(n){var t=[];return r.each(n,function(n){var h=n.categoryAxis,c=n.valueAxis,l=c.dim,a=[" "].concat(r.map(n.series,function(n){return n.name})),i=[h.model.getCategories()],o,f,s,e;for(r.each(n.series,function(n){i.push(n.getRawData().mapArray(l,function(n){return n}))}),o=[a.join(u)],f=0;f<i[0].length;f++){for(s=[],e=0;e<i.length;e++)s.push(i[e][f]);o.push(s.join(u))}t.push(o.join("\n"))}),t.join("\n\n"+o+"\n\n")}function a(n){return r.map(n,function(n){var t=n.getRawData(),i=[n.name],r=[];return t.each(t.dimensions,function(){for(var f=arguments.length,o=arguments[f-1],e=t.getName(o),n=0;n<f-1;n++)r[n]=arguments[n];i.push((e?e+u:"")+r.join(u))}),i.join("\n")}).join("\n\n"+o+"\n\n")}function v(n){var t=c(n);return{value:r.filter([l(t.seriesGroupByCategoryAxis),a(t.other)],function(n){return n.replace(/[\n\t\s]/g,"")}).join("\n\n"+o+"\n\n"),meta:t.meta}}function s(n){return n.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function y(n){var t=n.slice(0,n.indexOf("\n"));if(t.indexOf(u)>=0)return!0}function p(n){for(var u,t,f=n.split(/\n+/g),c=s(f.shift()).split(h),o=[],e=r.map(c,function(n){return{name:n,data:[]}}),i=0;i<f.length;i++)for(u=s(f[i]).split(h),o.push(u.shift()),t=0;t<u.length;t++)e[t]&&(e[t].data[i]=u[t]);return{series:e,categories:o}}function w(n){for(var f,e=n.split(/\n+/g),l=s(e.shift()),i=[],t=0;t<e.length;t++){var r=s(e[t]).split(h),o="",u,c=!1;for(isNaN(r[0])?(c=!0,o=r[0],r=r.slice(1),i[t]={name:o,value:[]},u=i[t].value):u=i[t]=[],f=0;f<r.length;f++)u.push(+r[f]);u.length===1&&(c?i[t].value=u[0]:i[t]=u[0])}return{name:l,data:i}}function f(n){this._dom=null;this.model=n}function b(n,t){return r.map(n,function(n,i){var u=t&&t[i];return r.isObject(u)&&!r.isArray(u)?(r.isObject(n)&&!r.isArray(n)&&(n=n.value),r.defaults({value:n},u)):n})}var r=i(3),e=i(80),o=new Array(60).join("-"),u="\t",h=new RegExp("["+u+"]+","g");f.defaultOption={show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:"数据视图",lang:["数据视图","关闭","刷新"],backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"};f.prototype.onclick=function(n,t){function nt(){a.removeChild(f);g._dom=null}var a=t.getDom(),i=this.model,f,h,y,s,o,c,tt,l,g;this._dom&&a.removeChild(this._dom);f=document.createElement("div");f.style.cssText="position:absolute;left:5px;top:5px;bottom:5px;right:5px;";f.style.backgroundColor=i.get("backgroundColor")||"#fff";h=document.createElement("h4");y=i.get("lang")||[];h.innerHTML=y[0]||i.get("title");h.style.cssText="margin: 10px 20px;";h.style.color=i.get("textColor");s=document.createElement("div");o=document.createElement("textarea");s.style.cssText="display:block;width:100%;overflow:hidden;";var k=i.get("optionToContent"),it=i.get("contentToOption"),d=v(n);typeof k=="function"?(c=k(t.getOption()),typeof c=="string"?s.innerHTML=c:r.isDom(c)&&s.appendChild(c)):(s.appendChild(o),o.readOnly=i.get("readOnly"),o.style.cssText="width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;",o.style.color=i.get("textColor"),o.style.borderColor=i.get("textareaBorderColor"),o.style.backgroundColor=i.get("textareaColor"),o.value=d.value);tt=d.meta;l=document.createElement("div");l.style.cssText="position:absolute;bottom:0;left:0;right:0;";var p="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",w=document.createElement("div"),b=document.createElement("div");p+=";background-color:"+i.get("buttonColor");p+=";color:"+i.get("buttonTextColor");g=this;e.addEventListener(w,"click",nt);e.addEventListener(b,"click",function(){nt()});w.innerHTML=y[1];b.innerHTML=y[2];b.style.cssText=p;w.style.cssText=p;i.get("readOnly")||l.appendChild(b);l.appendChild(w);e.addEventListener(o,"keydown",function(n){if((n.keyCode||n.which)===9){var t=this.value,i=this.selectionStart,r=this.selectionEnd;this.value=t.substring(0,i)+u+t.substring(r);this.selectionStart=this.selectionEnd=i+1;e.stop(n)}});f.appendChild(h);f.appendChild(s);f.appendChild(l);s.style.height=a.clientHeight-80+"px";a.appendChild(f);this._dom=f};f.prototype.remove=function(n,t){this._dom&&t.getDom().removeChild(this._dom)};f.prototype.dispose=function(n,t){this.remove(n,t)};i(333).register("dataView",f);i(1).registerAction({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(n,t){var i=[];r.each(n.newOption.series,function(n){var u=t.getSeriesByName(n.name)[0],f;u?(f=u.get("data"),i.push({name:n.name,data:b(n.data,f)})):i.push(r.extend({type:"scatter"},n))});t.mergeOption(r.defaults({series:i},n.newOption))});n.exports=f},function(n,t,i){"use strict";function f(n){this.model=n;this._controllerGroup;this._controller;this._isZoomActive}function k(n,t){var i=[{axisModel:n.getAxis("x").model,axisIndex:0},{axisModel:n.getAxis("y").model,axisIndex:0}];return i.grid=n,t.eachComponent({mainType:"dataZoom",subType:"select"},function(n){a("xAxis",i[0].axisModel,n,t)&&(i[0].dataZoomModel=n);a("yAxis",i[1].axisModel,n,t)&&(i[1].dataZoomModel=n)}),i}function a(n,t,i,r){var u=i.get(n+"Index");return u!=null&&r.getComponent(n,u)===t}function d(n,t){var i=t.grid,e=new w(n[0][0],n[1][0],n[0][1]-n[0][0],n[1][1]-n[1][0]);if(e.intersect(i.getRect())){var r=i.getCartesian(t[0].axisIndex,t[1].axisIndex),u=r.pointToData([n[0][0],n[1][0]],!0),f=r.pointToData([n[0][1],n[1][1]],!0);return[h([u[0],f[0]]),h([u[1],f[1]])]}}function v(n,t,i){var u=t[i],r=u.dataZoomModel;if(r)return{dataZoomId:r.id,startValue:n[i][0],endValue:n[i][1]}}function g(n,t){n.setIconStatus("back",e.count(t)>1?"emphasis":"normal")}var u=i(3),y=i(7),p=i(225),w=i(15),b=i(29),e=i(340),o=i(160),s=u.each,h=y.asc,c,r,l;i(341);c='\0_ec_\0toolbox-dataZoom_';f.defaultOption={show:!0,icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:{zoom:"区域缩放",back:"区域缩放还原"}};r=f.prototype;r.render=function(n,t){g(n,t)};r.onclick=function(n,t,i){var r=this._controllerGroup;this._controllerGroup||(r=this._controllerGroup=new b,t.getZr().add(r));l[i].call(this,r,this.model,n,t)};r.remove=function(n,t){this._disposeController();o.release("globalPan",t.getZr())};r.dispose=function(n,t){var i=t.getZr();o.release("globalPan",i);this._disposeController();this._controllerGroup&&i.remove(this._controllerGroup)};l={zoom:function(n,t,i,r){var u=this._isZoomActive=!this._isZoomActive,f=r.getZr();o[u?"take":"release"]("globalPan",f);t.setIconStatus("zoom",u?"emphasis":"normal");u?(f.setDefaultCursorStyle("crosshair"),this._createController(n,t,i,r)):(f.setDefaultCursorStyle("default"),this._disposeController())},back:function(n,t,i,r){this._dispatchAction(e.pop(i),r)}};r._createController=function(n,t,i,r){var f=this._controller=new p("rect",r.getZr(),{lineWidth:3,stroke:"#333",fill:"rgba(0,0,0,0.2)"});f.on("selectEnd",u.bind(this._onSelected,this,f,t,i,r));f.enable(n,!1)};r._disposeController=function(){var n=this._controller;n&&(n.off("selected"),n.dispose())};r._onSelected=function(n,t,i,r,u){var o,f;u.length&&(o=u[0],n.update(),f={},i.eachComponent("grid",function(n){var s=n.coordinateSystem,u=k(s,i),e=d(o,u),t,r;e&&(t=v(e,u,0,"x"),r=v(e,u,1,"y"),t&&(f[t.dataZoomId]=t),r&&(f[r.dataZoomId]=r))},this),e.push(i,f),this._dispatchAction(f,r))};r._dispatchAction=function(n,t){var i=[];s(n,function(n){i.push(n)});i.length&&t.dispatchAction({type:"dataZoom",from:this.uid,batch:u.clone(i,!0)})};i(333).register("dataZoom",f);i(1).registerPreprocessor(function(n){function f(n,t){if(t){var f=n+"Index",r=t[f];r==null||u.isArray(r)||(r=r===!1?[]:[r]);e(n,function(t,e){if(r==null||u.indexOf(r,e)!==-1){var o={type:"select",$fromToolbox:!0,id:c+n+e};o[f]=e;i.push(o)}})}}function e(t,i){var r=n[t];u.isArray(r)||(r=r?[r]:[]);s(r,i)}var i,t,r;n&&(i=n.dataZoom||(n.dataZoom=[]),u.isArray(i)||(i=[i]),t=n.toolbox,t&&(u.isArray(t)&&(t=t[0]),t&&t.feature&&(r=t.feature.dataZoom,f("xAxis",r),f("yAxis",r))))});n.exports=f},function(n,t,i){function u(n){var t=n[r];return t||(t=n[r]=[{}]),t}var e=i(3),f=e.each,r='\0_ec_hist_store',o={push:function(n,t){var i=u(n);f(t,function(t,r){for(var u=i.length-1,o,f,e;u>=0;u--)if(o=i[u],o[r])break;u<0&&(f=n.queryComponents({mainType:"dataZoom",subType:"select",id:r})[0],f&&(e=f.getPercentRange(),i[0][r]={dataZoomId:r,start:e[0],end:e[1]}))});i.push(t)},pop:function(n){var t=u(n),r=t[t.length-1],i;return t.length>1&&t.pop(),i={},f(r,function(n,r){for(var n,u=t.length-1;u>=0;u--)if(n=t[u][r],n){i[r]=n;break}}),i},clear:function(n){n[r]=null},count:function(n){return u(n).length}};n.exports=o},function(n,t,i){i(287);i(288);i(290);i(342);i(343);i(298);i(299)},function(n,t,i){var r=i(288);n.exports=r.extend({type:"dataZoom.select"})},function(n,t,i){n.exports=i(290).extend({type:"dataZoom.select"})},function(n,t,i){"use strict";function r(n){this.model=n}var f=i(340),u;r.defaultOption={show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:"还原"};u=r.prototype;u.onclick=function(n,t){f.clear(n);t.dispatchAction({type:"restore",from:this.uid})};i(333).register("restore",r);i(1).registerAction({type:"restore",event:"restore",update:"prepareAndUpdate"},function(n,t){t.resetOption("recreate")});n.exports=r},function(n,t,i){i(346);i(77).registerPainter("vml",i(348))},function(n,t,i){var wt,d,g;if(!i(78).canvasSupported){var kt=i(16),dt=i(15),a=i(48).CMD,ct=i(38),nt=i(14),gt=i(47),ni=i(45),p=i(59),w=i(62),b=i(44),tt=i(4),c=i(347),r=Math.round,v=Math.sqrt,ti=Math.abs,lt=Math.cos,at=Math.sin,it=Math.max,s=kt.applyTransform,u=",",rt="progid:DXImageTransform.Microsoft",f=21600,e=f/2,ii=1e5,ri=1e3,ut=function(n){n.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px;";n.coordsize=f+","+f;n.coordorigin="0,0"},ui=function(n){return String(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;")},vt=function(n,t,i){return"rgb("+[n,t,i].join(",")+")"},h=function(n,t){t&&n&&t.parentNode!==n&&n.appendChild(t)},y=function(n,t){t&&n&&t.parentNode===n&&n.removeChild(t)},ft=function(n,t,i){return(parseFloat(n)||0)*ii+(parseFloat(t)||0)*ri+i},yt=function(n,t){return typeof n=="string"?n.lastIndexOf("%")>=0?parseFloat(n)/100*t:parseFloat(n):n},pt=function(n,t,i){var r=ct.parse(t);i=+i;isNaN(i)&&(i=1);r&&(n.color=vt(r[0],r[1],r[2]),n.opacity=i*r[3])},fi=function(n){var t=ct.parse(n);return[vt(t[0],t[1],t[2]),t[3]]},ei=function(n,t,i){var r=t.fill,ot,st,g,w,o,rt,ut;if(r!=null)if(r instanceof tt){var l,e=0,ft=[0,0],b=0,et=1,a=i.getBoundingRect(),v=a.width,y=a.height;if(r.type==="linear"){l="gradient";var h=i.transform,u=[r.x*v,r.y*y],p=[r.x2*v,r.y2*y];h&&(s(u,u,h),s(p,p,h));ot=p[0]-u[0];st=p[1]-u[1];e=Math.atan2(ot,st)*180/Math.PI;e<0&&(e+=360);e<1e-6&&(e=0)}else{l="gradientradial";var u=[r.x*v,r.y*y],h=i.transform,ht=i.scale,k=v,d=y;ft=[(u[0]-a.x)/k,(u[1]-a.y)/d];h&&s(u,u,h);k/=ht[0]*f;d/=ht[1]*f;g=it(k,d);b=0/g;et=2*r.r/g-b}w=r.colorStops.slice();w.sort(function(n,t){return n.offset-t.offset});var nt=w.length,c=[],ct=[];for(o=0;o<nt;o++)rt=w[o],ut=fi(rt.color),ct.push(rt.offset*et+b+" "+ut[0]),(o===0||o===nt-1)&&c.push(ut);if(nt>=2){var lt=c[0][0],at=c[1][0],vt=c[0][1]*t.opacity,yt=c[1][1]*t.opacity;n.type=l;n.method="none";n.focus="100%";n.angle=e;n.color=lt;n.color2=at;n.colors=ct.join(",");n.opacity=yt;n.opacity2=vt}l==="radial"&&(n.focusposition=ft.join(","))}else pt(n,r,t.opacity)},oi=function(n,t){t.lineJoin!=null&&(n.joinstyle=t.lineJoin);t.miterLimit!=null&&(n.miterlimit=t.miterLimit*f);t.lineCap!=null&&(n.endcap=t.lineCap);t.lineDash!=null&&(n.dashstyle=t.lineDash.join(" "));t.stroke==null||t.stroke instanceof tt||pt(n,t.stroke,t.opacity)},k=function(n,t,i,r){var f=t=="fill",u=n.getElementsByTagName(t)[0];i[t]!=null&&i[t]!=="none"&&(f||!f&&i.lineWidth)?(n[f?"filled":"stroked"]="true",i[t]instanceof tt&&y(n,u),u||(u=c.createNode(t)),f?ei(u,i,r):oi(u,i),h(n,u)):(n[f?"filled":"stroked"]="false",y(n,u))},o=[[],[],[]],si=function(n,t){for(var ti=a.M,ii=a.C,ri=a.L,ui=a.A,dt=a.Q,b=[],l,nt,pt,y,p,h,c,rt,ut,i=0;i<n.length;){pt=n[i++];nt="";l=0;switch(pt){case ti:nt=" m ";l=1;y=n[i++];p=n[i++];o[0][0]=y;o[0][1]=p;break;case ri:nt=" l ";l=1;y=n[i++];p=n[i++];o[0][0]=y;o[0][1]=p;break;case dt:case ii:nt=" c ";l=3;var w=n[i++],k=n[i++],ft=n[i++],et=n[i++],ot,st;pt===dt?(ot=ft,st=et,ft=(ft+2*w)/3,et=(et+2*k)/3,w=(y+2*w)/3,k=(p+2*k)/3):(ot=n[i++],st=n[i++]);o[0][0]=w;o[0][1]=k;o[1][0]=ft;o[1][1]=et;o[2][0]=ot;o[2][1]=st;y=ot;p=st;break;case ui:var tt=0,it=0,d=1,g=1,wt=0;t&&(tt=t[4],it=t[5],d=v(t[0]*t[0]+t[1]*t[1]),g=v(t[2]*t[2]+t[3]*t[3]),wt=Math.atan2(-t[1]/g,t[0]/d));var ht=n[i++],ct=n[i++],vt=n[i++],yt=n[i++],bt=n[i++]+wt,gt=n[i++]+bt+wt;i++;var ni=n[i++],kt=ht+lt(bt)*vt,fi=ct+at(bt)*yt,w=ht+lt(gt)*vt,k=ct+at(gt)*yt,ei=ni?" wa ":" at ";Math.abs(kt-w)<1e-10&&ni&&(kt+=270/f);b.push(ei,r(((ht-vt)*d+tt)*f-e),u,r(((ct-yt)*g+it)*f-e),u,r(((ht+vt)*d+tt)*f-e),u,r(((ct+yt)*g+it)*f-e),u,r((kt*d+tt)*f-e),u,r((fi*g+it)*f-e),u,r((w*d+tt)*f-e),u,r((k*g+it)*f-e));y=w;p=k;break;case a.R:h=o[0];c=o[1];h[0]=n[i++];h[1]=n[i++];c[0]=h[0]+n[i++];c[1]=h[1]+n[i++];t&&(s(h,h,t),s(c,c,t));h[0]=r(h[0]*f-e);c[0]=r(c[0]*f-e);h[1]=r(h[1]*f-e);c[1]=r(c[1]*f-e);b.push(" m ",h[0],u,h[1]," l ",c[0],u,h[1]," l ",c[0],u,c[1]," l ",h[0],u,c[1]);break;case a.Z:b.push(" x ")}if(l>0)for(b.push(nt),rt=0;rt<l;rt++)ut=o[rt],t&&s(ut,ut,t),b.push(r(ut[0]*f-e),u,r(ut[1]*f-e),rt<l-1?u:"")}return b.join("")};b.prototype.brushVML=function(n){var i=this.style,t=this._vmlEl,f,o,u;t||(t=c.createNode("shape"),ut(t),this._vmlEl=t);k(t,"fill",i,this);k(t,"stroke",i,this);var r=this.transform,s=r!=null,e=t.getElementsByTagName("stroke")[0];e&&(f=i.lineWidth,s&&!i.strokeNoScale&&(o=r[0]*r[3]-r[1]*r[2],f*=v(ti(o))),e.weight=f+"px");u=this.path;this.__dirtyPath&&(u.beginPath(),this.buildPath(u,this.shape),u.toStatic(),this.__dirtyPath=!1);t.path=si(u.data,this.transform);t.style.zIndex=ft(this.zlevel,this.z,this.z2);h(n,t);i.text&&this.drawRectText(n,this.getBoundingRect())};b.prototype.onRemove=function(n){y(n,this._vmlEl);this.removeRectText(n)};b.prototype.onAdd=function(n){h(n,this._vmlEl);this.appendRectText(n)};wt=function(n){return typeof n=="object"&&n.tagName&&n.tagName.toUpperCase()==="IMG"};p.prototype.brushVML=function(n){var f=this.style,e=f.image,y,p,ct,g,i,nt,et,pt,bt,kt,dt;if(wt(e)){if(ct=e.src,ct===this._imageSrc)y=this._imageWidth,p=this._imageHeight;else{var tt=e.runtimeStyle,ri=tt.width,ui=tt.height;tt.width="auto";tt.height="auto";y=e.width;p=e.height;tt.width=ri;tt.height=ui;this._imageSrc=ct;this._imageWidth=y;this._imageHeight=p}e=ct}else e===this._imageSrc&&(y=this._imageWidth,p=this._imageHeight);if(e){var w=f.x||0,b=f.y||0,k=f.width,d=f.height,ot=f.sWidth,st=f.sHeight,gt=f.sx||0,ni=f.sy||0,fi=ot&&st,o=this._vmlEl;o||(o=c.doc.createElement("div"),ut(o),this._vmlEl=o);var ht=o.style,ti=!1,t,l=1,a=1;if(this.transform&&(t=this.transform,l=v(t[0]*t[0]+t[1]*t[1]),a=v(t[2]*t[2]+t[3]*t[3]),ti=t[1]||t[2]),ti){var lt=[w,b],at=[w+k,b],vt=[w,b+d],yt=[w+k,b+d];s(lt,lt,t);s(at,at,t);s(vt,vt,t);s(yt,yt,t);var ei=it(lt[0],at[0],vt[0],yt[0]),oi=it(lt[1],at[1],vt[1],yt[1]),ii=[];ii.push("M11=",t[0]/l,u,"M12=",t[2]/a,u,"M21=",t[1]/l,u,"M22=",t[3]/a,u,"Dx=",r(w*l+t[4]),u,"Dy=",r(b*a+t[5]));ht.padding="0 "+r(ei)+"px "+r(oi)+"px 0";ht.filter=rt+".Matrix("+ii.join("")+", SizingMethod=clip)"}else t&&(w=w*l+t[4],b=b*a+t[5]),ht.filter="",ht.left=r(w)+"px",ht.top=r(b)+"px";g=this._imageEl;i=this._cropEl;g||(g=c.doc.createElement("div"),this._imageEl=g);nt=g.style;fi?(y&&p?(nt.width=r(l*y*k/ot)+"px",nt.height=r(a*p*d/st)+"px"):(et=new Image,pt=this,et.onload=function(){et.onload=null;y=et.width;p=et.height;nt.width=r(l*y*k/ot)+"px";nt.height=r(a*p*d/st)+"px";pt._imageWidth=y;pt._imageHeight=p;pt._imageSrc=e},et.src=e),i||(i=c.doc.createElement("div"),i.style.overflow="hidden",this._cropEl=i),bt=i.style,bt.width=r((k+gt*k/ot)*l),bt.height=r((d+ni*d/st)*a),bt.filter=rt+".Matrix(Dx="+-gt*k/ot*l+",Dy="+-ni*d/st*a+")",i.parentNode||o.appendChild(i),g.parentNode!=i&&i.appendChild(g)):(nt.width=r(l*k)+"px",nt.height=r(a*d)+"px",o.appendChild(g),i&&i.parentNode&&(o.removeChild(i),this._cropEl=null));kt="";dt=f.opacity;dt<1&&(kt+=".Alpha(opacity="+r(dt*100)+") ");kt+=rt+".AlphaImageLoader(src="+e+", SizingMethod=scale)";nt.filter=kt;o.style.zIndex=ft(this.zlevel,this.z,this.z2);h(n,o);f.text&&this.drawRectText(n,this.getBoundingRect())}};p.prototype.onRemove=function(n){y(n,this._vmlEl);this._vmlEl=null;this._cropEl=null;this._imageEl=null;this.removeRectText(n)};p.prototype.onAdd=function(n){h(n,this._vmlEl);this.appendRectText(n)};var et="normal",ot={},st=0,hi=100,ci=document.createElement("div"),li=function(n){var i=ot[n],t,r;if(!i){st>hi&&(st=0,ot={});t=ci.style;try{t.font=n;r=t.fontFamily.split(",")[0]}catch(u){}i={style:t.fontStyle||et,variant:t.fontVariant||et,weight:t.fontWeight||et,size:parseFloat(t.fontSize||12)|0,family:r||"Microsoft YaHei"};ot[n]=i;st++}return i},l;nt.measureText=function(n,t){var i=c.doc;l||(l=i.createElement("div"),l.style.cssText="position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;",c.doc.body.appendChild(l));try{l.style.font=t}catch(r){}return l.innerHTML="",l.appendChild(i.createTextNode(n)),{width:l.offsetWidth}};var ht=new dt,ai=function(n,t,i,f){var o=this.style,st=o.text,a,g,vt,tt,ct,it,e,rt,w,v,et,ot;if(st){var y,l,b=o.textAlign,d=li(o.textFont),lt=d.style+" "+d.variant+" "+d.weight+" "+d.size+'px "'+d.family+'"',p=o.textBaseline,at=o.textVerticalAlign;if(i=i||nt.getBoundingRect(st,lt,b,p),a=this.transform,a&&!f&&(ht.copy(t),ht.applyTransform(a),t=ht),f?(y=t.x,l=t.y):(g=o.textPosition,vt=o.textDistance,g instanceof Array?(y=t.x+yt(g[0],t.width),l=t.y+yt(g[1],t.height),b=b||"left",p=p||"top"):(tt=nt.adjustTextPositionOnRect(g,t,i,vt),y=tt.x,l=tt.y,b=b||tt.textAlign,p=p||tt.textBaseline)),at){switch(at){case"middle":l-=i.height/2;break;case"bottom":l-=i.height}p="top"}ct=d.size;switch(p){case"hanging":case"top":l+=ct/1.75;break;case"middle":break;default:l-=ct/2.25}switch(b){case"center":y-=i.width/2;break;case"right":y-=i.width}it=c.createNode;e=this._textVmlEl;e?(v=e.firstChild,rt=v.nextSibling,w=rt.nextSibling):(e=it("line"),rt=it("path"),w=it("textpath"),v=it("skew"),w.style["v-text-align"]="left",ut(e),rt.textpathok=!0,w.on=!0,e.from="0 0",e.to="1000 0.05",h(e,v),h(e,rt),h(e,w),this._textVmlEl=e);et=[y,l];ot=e.style;a&&f?(s(et,et,a),v.on=!0,v.matrix=a[0].toFixed(3)+u+a[2].toFixed(3)+u+a[1].toFixed(3)+u+a[3].toFixed(3)+",0,0",v.offset=(r(et[0])||0)+","+(r(et[1])||0),v.origin="0 0",ot.left="0px",ot.top="0px"):(v.on=!1,ot.left=r(y)+"px",ot.top=r(l)+"px");w.string=ui(st);try{w.style.font=lt}catch(pt){}k(e,"fill",{fill:f?o.fill:o.textFill,opacity:o.opacity},this);k(e,"stroke",{stroke:f?o.stroke:o.textStroke,opacity:o.opacity,lineDash:o.lineDash},this);e.style.zIndex=ft(this.zlevel,this.z,this.z2);h(n,e)}},vi=function(n){y(n,this._textVmlEl);this._textVmlEl=null},yi=function(n){h(n,this._textVmlEl)},bt=[gt,ni,p,b,w];for(d=0;d<bt.length;d++)g=bt[d].prototype,g.drawRectText=ai,g.removeRectText=vi,g.appendRectText=yi;w.prototype.brushVML=function(n){var t=this.style;t.text&&this.drawRectText(n,{x:t.x||0,y:t.y||0,width:0,height:0},this.getBoundingRect(),!0)};w.prototype.onRemove=function(n){this.removeRectText(n)};w.prototype.onAdd=function(n){this.appendRectText(n)}}},function(n,t,i){var o;if(!i(78).canvasSupported){var f="urn:schemas-microsoft-com:vml",u,s=window,r=s.document,e=!1;try{r.namespaces.zrvml||r.namespaces.add("zrvml",f);u=function(n){return r.createElement("<zrvml:"+n+' class="zrvml">')}}catch(h){u=function(n){return r.createElement("<"+n+' xmlns="'+f+'" class="zrvml">')}}o=function(){if(!e){e=!0;var n=r.styleSheets;n.length<31?r.createStyleSheet().addRule(".zrvml","behavior:url(#default#VML)"):n[0].addRule(".zrvml","behavior:url(#default#VML)")}};n.exports={doc:r,initVML:o,createNode:u}}},function(n,t,i){function r(n){return parseInt(n,10)}function u(n,t){var r,i,u,f;h.initVML();this.root=n;this.storage=t;r=document.createElement("div");i=document.createElement("div");r.style.cssText="display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;";i.style.cssText="position:absolute;left:0;top:0;";n.appendChild(r);this._vmlRoot=i;this._vmlViewport=r;this.resize();u=t.delFromMap;f=t.addToMap;t.delFromMap=function(n){var r=t.get(n);u.call(t,n);r&&r.onRemove&&r.onRemove(i)};t.addToMap=function(n){n.onAdd&&n.onAdd(i);f.call(t,n)};this._firstPaint=!0}function c(n){return function(){s('In IE8.0 VML mode painter not support method "'+n+'"')}}var s=i(39),h=i(347),e,f,o;for(u.prototype={constructor:u,getViewportRoot:function(){return this._vmlViewport},refresh:function(){var n=this.storage.getDisplayList(!0,!0);this._paintList(n)},_paintList:function(n){for(var t,i=this._vmlRoot,r=0;r<n.length;r++){if(t=n[r],t.invisible||t.ignore){if(!t.__alreadyNotVisible)t.onRemove(i);t.__alreadyNotVisible=!0}else{if(t.__alreadyNotVisible)t.onAdd(i);t.__alreadyNotVisible=!1;t.__dirty&&(t.beforeBrush&&t.beforeBrush(),(t.brushVML||t.brush).call(t,i),t.afterBrush&&t.afterBrush())}t.__dirty=!1}this._firstPaint&&(this._vmlViewport.appendChild(i),this._firstPaint=!1)},resize:function(){var n=this._getWidth(),t=this._getHeight(),i;this._width!=n&&this._height!=t&&(this._width=n,this._height=t,i=this._vmlViewport.style,i.width=n+"px",i.height=t+"px")},dispose:function(){this.root.innerHTML="";this._vmlRoot=this._vmlViewport=this.storage=null},getWidth:function(){return this._width},getHeight:function(){return this._height},_getWidth:function(){var t=this.root,n=t.currentStyle;return(t.clientWidth||r(n.width))-r(n.paddingLeft)-r(n.paddingRight)|0},_getHeight:function(){var t=this.root,n=t.currentStyle;return(t.clientHeight||r(n.height))-r(n.paddingTop)-r(n.paddingBottom)|0}},e=["getLayer","insertLayer","eachLayer","eachBuildinLayer","eachOtherLayer","getLayers","modLayer","delLayer","clearLayer","toDataURL","pathToImage"],f=0;f<e.length;f++)o=e[f],u.prototype[o]=c(o);n.exports=u}])});
//# sourceMappingURL=echarts.min.js.map
