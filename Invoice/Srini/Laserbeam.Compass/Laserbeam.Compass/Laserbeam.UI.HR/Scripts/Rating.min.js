function setValidation(){$(".input-validation-error").parent().removeClass("has-success").addClass("has-error");$("div.validation-summary-errors").has("li:visible").addClass("alert-block alert-danger");$("form").data("validator").settings.onfocusout=function(n){$(n).valid()}}function gridRating_sync(){var n=$("#grdConfigureRatingForRange").data("kendoGrid");n.dataSource.read()}function onUpdateRequestEnd(n){n.type=="update"&&(Successmessage(n.response.Message),$("#grdConfigureRatingForRange").data("kendoGrid").dataSource.read())}function DeleteRating(n,t){var i=$("#grdConfigureRating").data("kendoGrid"),r=n.closest("tr"),u=$(r).index(),f=i._data[u],e=f.RatingNum,o=$('input[name="__RequestVerificationToken"]').val();if(!showConfirm(t,"Do you want to delete the Rating?"))return!1;$.ajax({url:"../Rating/DeleteRatingData",type:"post",data:{__RequestVerificationToken:o,ratingNum:e},success:function(){Successmessage("Deleted Successfully");inputChanged=!1;$("#grdConfigureRating").data("kendoGrid").refresh();$("#grdConfigureRating").data("kendoGrid").dataSource.read();$("#divRating").modal("hide")}})}function EditRatingDescription(n){EditRatingDetails(n)}function EditRatingLowRange(n){EditRatingDetails(n)}function EditRatingHighRange(n){EditRatingDetails(n)}function EditSortOrder(n){EditRatingDetails(n)}function EditRatingDetails(n){var i=$("#grdConfigureRating").data("kendoGrid"),r=n.closest("tr"),u=$(r).closest("tr").index(),t=i._data[u],f=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Rating/_RatingPopUpModify",type:"post",data:{__RequestVerificationToken:f,ratingNum:t.RatingNum,ratingID:t.RatingId,ratingDescription:t.RatingDescription,ratingType:t.RatingType,lowRange:t.LowRange,highRange:t.HighRange,ratingOrder:t.RatingOrder,minRange:t.MinRange,maxRange:t.MaxRange},success:function(n){$("#divRating").html(n);$("#divRating").modal("show")}})}function allowDecimalNumberOnlyInput(n){$.inArray(n.keyCode,[46,8,9,27,13,110,190])!==-1||n.keyCode==65&&(n.ctrlKey===!0||n.metaKey===!0)||n.keyCode>=35&&n.keyCode<=40||(n.shiftKey||n.keyCode<48||n.keyCode>57)&&(n.keyCode<96||n.keyCode>105)&&n.preventDefault()}function CloseAfterUpdateRating(){$("#grdConfigureRating").data("kendoGrid").dataSource.read();$("#divRating").modal("hide");Successmessage("Saved Successfully")}function ValidateInt(n){var t=new RegExp("[0-9]"),i=String.fromCharCode(n.charCode?n.which:n.charCode);if(!t.test(i))return n.preventDefault(),!1}function additionalParamInfo(){return{__RequestVerificationToken:$('input[name="__RequestVerificationToken"]').val()}}$(document).on("click","[id$=btnConfigureRatingDelete]",function(n){DeleteRating($(this),n)});$(document).on("click","[id$=configureRatingDescription]",function(){EditRatingDescription($(this))});$(document).on("click","[id$=configureLowRange]",function(){EditRatingLowRange($(this))});$(document).on("click","[id$=configureHighRange]",function(){EditRatingHighRange($(this))});$(document).on("click","[id$=configureSortOrder]",function(){EditSortOrder($(this))});$(document).on("click","#lnkMeritRating",function(){$("#divBtnSave").hide();$("#divBtnAdd").show();var n=$("#grdConfigureRating").data("kendoGrid");n.dataSource.read()});$(document).on("click","#lnkMeritRange",function(){$("#divBtnSave").show();$("#divBtnAdd").hide();var n=$("#grdConfigureRatingForRange").data("kendoGrid");n.dataSource.read()});$(document).ready(function(){$("#divBtnSave").hide();$("#divBtnAdd").show()});$(document).on("keydown","[id$=txtMinRange]",function(n){allowDecimalNumberOnlyInput(n)});$(document).on("keydown","[id$=txtMaxRange]",function(n){allowDecimalNumberOnlyInput(n)});$(document).on("keydown","[id$=editScoreRangeLow]",function(n){allowDecimalNumberOnlyInput(n)});$(document).on("keydown","[id$=editScoreRangeHigh]",function(n){allowDecimalNumberOnlyInput(n)});$(document).on("keypress","[id$=txtMinRange]",function(){var i=this,n=$("#txtMinRange").val(),t;n.indexOf(".")>-1&&n.split(".")[1].length>1&&(t=n.split(".")[1].substring(0,1),$("#txtMinRange").val(n.split(".")[0]+"."+t))});$(document).on("keypress","#txtMaxRange",function(){var n=$("#txtMaxRange").val(),t;n.indexOf(".")>-1&&n.split(".")[1].length>1&&(t=n.split(".")[1].substring(0,1),$("#txtMaxRange").val(n.split(".")[0]+"."+t))});$(document).on("keypress","#editScoreRangeLow",function(){var n=$("#editScoreRangeLow").val(),t;n.indexOf(".")>-1&&n.split(".")[1].length>1&&(t=n.split(".")[1].substring(0,1),$("#editScoreRangeLow").val(n.split(".")[0]+"."+t))});$(document).on("keypress","#editScoreRangeHigh",function(){var n=$("#editScoreRangeHigh").val(),t;n.indexOf(".")>-1&&n.split(".")[1].length>1&&(t=n.split(".")[1].substring(0,1),$("#editScoreRangeHigh").val(n.split(".")[0]+"."+t))});$(document).on("change","[id$=txtMinRange]",function(){setPageChanged(!0);var n=$("#grdConfigureRatingForRange").data("kendoGrid"),t=$(this).closest("tr"),i=n.dataItem(t),r=$(t).index();i.MinRange=getNumberValue(this.value)==null?0:getNumberValue(this.value);i.dirty=!0;n.refresh();objChangeFlag=!0});$(document).on("change","[id$=txtMaxRange]",function(){setPageChanged(!0);var n=$("#grdConfigureRatingForRange").data("kendoGrid"),t=$(this).closest("tr"),i=n.dataItem(t),r=$(t).index();i.MaxRange=getNumberValue(this.value)==null?0:getNumberValue(this.value);i.dirty=!0;n.refresh();objChangeFlag=!0});$(document).on("click","#btnSaveRatingRange",function(){var n=$("#grdConfigureRatingForRange").data("kendoGrid");n.dataSource.sync()});$(document).on("click","#addConfigureRatingButton",function(){var n=$('input[name="__RequestVerificationToken"]').val();$.ajax({url:"../Rating/_EditConfigureRatingPopup",type:"get",success:function(n){$("#divRating").html(n);$("#divRating").modal("show")}})});$(document).on("show.bs.modal","#divRating",function(){$.validator.unobtrusive.parse(document);setValidation()});$(document).on("click","#CancelAddRatingButton",function(){$("#divRating").modal("hide");$("#grdConfigureRating").data("kendoGrid").refresh()});$.validator.unobtrusive.adapters.add("notequalto",["other"],function(n){n.rules.notEqualTo="[name='"+n.params.other+"']";n.message&&(n.messages.notEqualTo=n.message)});$.validator.addMethod("notEqualTo",function(n,t,i){return this.optional(t)||n!=$(i).val()},"");$.validator.setDefaults({showErrors:function(n,t){return $.each(this.successList,function(n,t){return $(t).parent().removeClass("has-error"),$(t).popover("hide")}),$.each(t,function(n,t){var i;return i=$(t.element).popover({trigger:"manual",placement:"bottom",content:t.message,template:'<div class="popover"><div class="arrow"><\/div><div class="popover-inner"><div class="popover-content"><span class="glyphicon glyphicon-hand-right"><\/span><p><\/p><\/div><\/div><\/div>'}),$(t.element).parent().addClass("has-error"),i.data("bs.popover").options.content=t.message,$(t.element).popover("show")})}});